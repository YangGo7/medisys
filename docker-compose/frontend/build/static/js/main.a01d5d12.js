/*! For license information please see main.a01d5d12.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:o,_owner:l.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function x(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=y.prototype;var b=v.prototype=new x;b.constructor=v,m(b,y.prototype),b.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var a,o={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,a)&&!_.hasOwnProperty(a)&&(o[a]=t[a]);var s=arguments.length-2;if(1===s)o.children=r;else if(1<s){for(var c=Array(s),d=0;d<s;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===o[a]&&(o[a]=s[a]);return{$$typeof:n,type:e,key:i,ref:l,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,a,o,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return i=i(s=e),e=""===o?"."+O(s,0):o,j(i)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),D(i,t,a,"",(function(e){return e}))):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(N,"$&/")+"/")+e)),t.push(i)),1;if(s=0,o=""===o?".":o+":",j(e))for(var c=0;c<e.length;c++){var d=o+O(l=e[c],c);s+=D(l,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)s+=D(l=l.value,t,a,d=o+O(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function E(e,t,n){if(null==e)return e;var r=[],a=0;return D(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},P={transition:null},I={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=i,t.PureComponent=v,t.StrictMode=o,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),o=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)w.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){s=Array(c);for(var d=0;d<c;d++)s[d]=arguments[d+2];a.children=s}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,s=e[l],c=l+1,d=e[c];if(0>o(s,n))c<a&&0>o(d,s)?(e[r]=d,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else{if(!(c<a&&0>o(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();t.unstable_now=function(){return l.now()-s}}var c=[],d=[],u=1,p=null,f=3,h=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(w);else{var t=r(d);null!==t&&I(j,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,x(C),C=-1),h=!0;var o=f;try{for(b(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!D());){var i=p.callback;if("function"===typeof i){p.callback=null,f=p.priorityLevel;var l=i(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?p.callback=l:p===r(c)&&a(c),b(n)}else a(c);p=r(c)}if(null!==p)var s=!0;else{var u=r(d);null!==u&&I(j,u.startTime-n),s=!1}return s}finally{p=null,f=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,_=!1,k=null,C=-1,N=5,O=-1;function D(){return!(t.unstable_now()-O<N)}function E(){if(null!==k){var e=t.unstable_now();O=e;var n=!0;try{n=k(!0,e)}finally{n?S():(_=!1,k=null)}}else _=!1}if("function"===typeof v)S=function(){v(E)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,T=R.port2;R.port1.onmessage=E,S=function(){T.postMessage(null)}}else S=function(){y(E,0)};function P(e){k=e,_||(_=!0,S())}function I(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,P(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>i?(e.sortIndex=o,n(d,e),null===r(c)&&e===r(d)&&(g?(x(C),C=-1):g=!0,I(j,o-i))):(e.sortIndex=l,n(c,e),m||h||(m=!0,P(w))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function v(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(h,e)||!u.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,x);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,x);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var A,M=Object.assign;function z(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==o[l]){var s="\n"+a[i].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=i&&0<=l);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function U(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case k:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,_e=null;function ke(e){if(e=ba(e)){if("function"!==typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),we(e.stateNode,e.type,t))}}function Ce(e){Se?_e?_e.push(e):_e=[e]:Se=e}function Ne(){if(Se){var e=Se,t=_e;if(_e=Se=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Oe(e,t){return e(t)}function De(){}var Ee=!1;function Re(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return Oe(e,t,n)}finally{Ee=!1,(null!==Se||null!==_e)&&(De(),Ne())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Pe=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Pe=!1}function Le(e,t,n,r,a,o,i,l,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ae=!1,Me=null,ze=!1,Be=null,Fe={onError:function(e){Ae=!0,Me=e}};function Ue(e,t,n,r,a,o,i,l,s){Ae=!1,Me=null,Le.apply(Fe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ve(a),e;if(i===r)return Ve(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,s=a.child;s;){if(s===n){l=!0,n=a,r=i;break}if(s===r){l=!0,r=a,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,r=a;break}if(s===r){l=!0,r=i,n=a;break}s=s.sibling}if(!l)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ye(e):null}function Ye(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ye(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Qe=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Xe=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/st|0)|0},lt=Math.log,st=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~a;0!==l?r=ut(l):0!==(o&=i)&&(r=ut(o))}else 0!==(i=n&~a)?r=ut(i):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var vt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,St,_t,kt,Ct=!1,Nt=[],Ot=null,Dt=null,Et=null,Rt=new Map,Tt=new Map,Pt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function At(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=va(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){zt(e)&&n.delete(t)}function Ft(){Ct=!1,null!==Ot&&zt(Ot)&&(Ot=null),null!==Dt&&zt(Dt)&&(Dt=null),null!==Et&&zt(Et)&&(Et=null),Rt.forEach(Bt),Tt.forEach(Bt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ft)))}function Ht(e){function t(t){return Ut(t,e)}if(0<Nt.length){Ut(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Ut(Ot,e),null!==Dt&&Ut(Dt,e),null!==Et&&Ut(Et,e),Rt.forEach(t),Tt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var Wt=b.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var a=vt,o=Wt.transition;Wt.transition=null;try{vt=1,$t(e,t,n,r)}finally{vt=a,Wt.transition=o}}function Yt(e,t,n,r){var a=vt,o=Wt.transition;Wt.transition=null;try{vt=4,$t(e,t,n,r)}finally{vt=a,Wt.transition=o}}function $t(e,t,n,r){if(Vt){var a=Qt(e,t,n,r);if(null===a)Vr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ot=At(Ot,e,t,n,r,a),!0;case"dragenter":return Dt=At(Dt,e,t,n,r,a),!0;case"mouseover":return Et=At(Et,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Rt.set(o,At(Rt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Tt.set(o,At(Tt.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&jt(o),null===(o=Qt(e,t,n,r))&&Vr(e,t,r,Kt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=va(e=je(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,ln,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=M({},cn,{view:0,detail:0}),pn=an(un),fn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=an(fn),mn=an(M({},fn,{dataTransfer:0})),gn=an(M({},un,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=an(xn),bn=an(M({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function kn(){return _n}var Cn=M({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Cn),On=an(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=an(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),En=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(Rn),Pn=[9,13,27,32],In=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var An=d&&"TextEvent"in window&&!Ln,Mn=d&&(!In||Ln&&8<Ln&&11>=Ln),zn=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ce(r),0<(t=Yr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Kn(e){zr(e,0)}function Qn(e){if($(ja(e)))return e}function Gn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Jn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Yn&&(Yn.detachEvent("onpropertychange",nr),$n=Yn=null)}function nr(e){if("value"===e.propertyName&&Qn($n)){var t=[];qn(t,$n,e,je(e)),Re(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Yn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn($n)}function or(e,t){if("click"===e)return Qn(t)}function ir(e,t){if("input"===e||"change"===e)return Qn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=dr(n,o);var i=dr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,xr=null,vr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&sr(xr,r)||(xr=r,0<(r=Yr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Sr={},_r={};function kr(e){if(Sr[e])return Sr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}d&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=kr("animationend"),Nr=kr("animationiteration"),Or=kr("animationstart"),Dr=kr("transitionend"),Er=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Er.set(e,t),s(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Ir=Rr[Pr];Tr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Tr(Cr,"onAnimationEnd"),Tr(Nr,"onAnimationIteration"),Tr(Or,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ar=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,l,s,c){if(Ue.apply(this,arguments),Ae){if(!Ae)throw Error(o(198));var d=Me;Ae=!1,Me=null,ze||(ze=!0,Be=d)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],s=l.instance,c=l.currentTarget;if(l=l.listener,s!==o&&a.isPropagationStopped())break e;Mr(a,l,c),o=s}else for(i=0;i<r.length;i++){if(s=(l=r[i]).instance,c=l.currentTarget,l=l.listener,s!==o&&a.isPropagationStopped())break e;Mr(a,l,c),o=s}}}if(ze)throw e=Be,ze=!1,Be=null,e}function Br(e,t){var n=t[ga];void 0===n&&(n=t[ga]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Ur]){e[Ur]=!0,i.forEach((function(t){"selectionchange"!==t&&(Ar.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Fr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Gt(t)){case 1:var a=qt;break;case 4:a=Yt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var s=i.tag;if((3===s||4===s)&&((s=i.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=va(l)))return;if(5===(s=i.tag)||6===s){r=o=i;continue e}l=l.parentNode}}r=r.return}Re((function(){var r=o,a=je(n),i=[];e:{var l=Er.get(e);if(void 0!==l){var s=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=gn;break;case"focusout":c="blur",s=gn;break;case"beforeblur":case"afterblur":s=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Dn;break;case Cr:case Nr:case Or:s=yn;break;case Dr:s=En;break;case"scroll":s=pn;break;case"wheel":s=Tn;break;case"copy":case"cut":case"paste":s=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==l?l+"Capture":null:l;d=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Te(h,p))&&d.push(qr(h,m,f)))),u)break;h=h.return}0<d.length&&(l=new s(l,c,null,n,a),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[ma])&&(s||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(d=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=On,m="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==s?l:ja(s),f=null==c?l:ja(c),(l=new d(m,h+"leave",s,n,a)).target=u,l.relatedTarget=f,m=null,va(a)===r&&((d=new d(p,h+"enter",c,n,a)).target=f,d.relatedTarget=u,m=d),u=m,s&&c)e:{for(p=c,h=0,f=d=s;f;f=$r(f))h++;for(f=0,m=p;m;m=$r(m))f++;for(;0<h-f;)d=$r(d),h--;for(;0<f-h;)p=$r(p),f--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=$r(d),p=$r(p)}d=null}else d=null;null!==s&&Kr(i,l,s,d,!1),null!==c&&null!==u&&Kr(i,u,c,d,!0)}if("select"===(s=(l=r?ja(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=Gn;else if(Vn(l))if(Xn)g=ir;else{g=ar;var y=rr}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=or);switch(g&&(g=g(e,r))?qn(i,g,n,a):(y&&y(e,l,r),"focusout"===e&&(y=l._wrapperState)&&y.controlled&&"number"===l.type&&ee(l,"number",l.value)),y=r?ja(r):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,xr=null);break;case"focusout":xr=yr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,br(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(i,n,a)}var x;if(In)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Fn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Mn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(x=en()):(Jt="value"in(Xt=a)?Xt.value:Xt.textContent,Hn=!0)),0<(y=Yr(r,v)).length&&(v=new bn(v,e,null,n,a),i.push({event:v,listeners:y}),x?v.data=x:null!==(x=Un(n))&&(v.data=x))),(x=An?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!In&&Fn(e,t)?(e=en(),Zt=Jt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Yr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=x))}zr(i,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Te(e,n))&&r.unshift(qr(e,o,a)),null!=(o=Te(e,t))&&r.push(qr(e,o,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var l=n,s=l.alternate,c=l.stateNode;if(null!==s&&s===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(s=Te(n,o))&&i.unshift(qr(n,s,l)):a||null!=(s=Te(n,o))&&i.push(qr(n,s,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Gr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ca(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ht(t)}function da(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var pa=Math.random().toString(36).slice(2),fa="__reactFiber$"+pa,ha="__reactProps$"+pa,ma="__reactContainer$"+pa,ga="__reactEvents$"+pa,ya="__reactListeners$"+pa,xa="__reactHandles$"+pa;function va(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[fa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ja(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[ha]||null}var Sa=[],_a=-1;function ka(e){return{current:e}}function Ca(e){0>_a||(e.current=Sa[_a],Sa[_a]=null,_a--)}function Na(e,t){_a++,Sa[_a]=e.current,e.current=t}var Oa={},Da=ka(Oa),Ea=ka(!1),Ra=Oa;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Oa;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){Ca(Ea),Ca(Da)}function La(e,t,n){if(Da.current!==Oa)throw Error(o(168));Na(Da,t),Na(Ea,n)}function Aa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,W(e)||"Unknown",a));return M({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Ra=Da.current,Na(Da,e),Na(Ea,Ea.current),!0}function za(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Aa(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Ca(Ea),Ca(Da),Na(Da,e)):Ca(Ea),Na(Ea,n)}var Ba=null,Fa=!1,Ua=!1;function Ha(e){null===Ba?Ba=[e]:Ba.push(e)}function Wa(){if(!Ua&&null!==Ba){Ua=!0;var e=0,t=vt;try{var n=Ba;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ba=null,Fa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),$e(Ze,Wa),a}finally{vt=t,Ua=!1}}return null}var Va=[],qa=0,Ya=null,$a=0,Ka=[],Qa=0,Ga=null,Xa=1,Ja="";function Za(e,t){Va[qa++]=$a,Va[qa++]=Ya,Ya=e,$a=t}function eo(e,t,n){Ka[Qa++]=Xa,Ka[Qa++]=Ja,Ka[Qa++]=Ga,Ga=e;var r=Xa;e=Ja;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Xa=1<<32-it(t)+a|n<<a|r,Ja=o+e}else Xa=1<<o|n<<a|r,Ja=e}function to(e){null!==e.return&&(Za(e,1),eo(e,1,0))}function no(e){for(;e===Ya;)Ya=Va[--qa],Va[qa]=null,$a=Va[--qa],Va[qa]=null;for(;e===Ga;)Ga=Ka[--Qa],Ka[Qa]=null,Ja=Ka[--Qa],Ka[Qa]=null,Xa=Ka[--Qa],Ka[Qa]=null}var ro=null,ao=null,oo=!1,io=null;function lo(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ro=e,ao=da(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ro=e,ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ga?{id:Xa,overflow:Ja}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ro=e,ao=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(oo){var t=ao;if(t){var n=t;if(!so(e,t)){if(co(e))throw Error(o(418));t=da(n.nextSibling);var r=ro;t&&so(e,t)?lo(r,n):(e.flags=-4097&e.flags|2,oo=!1,ro=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,oo=!1,ro=e}}}function po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ro=e}function fo(e){if(e!==ro)return!1;if(!oo)return po(e),oo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ao)){if(co(e))throw ho(),Error(o(418));for(;t;)lo(e,t),t=da(t.nextSibling)}if(po(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ao=da(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ao=null}}else ao=ro?da(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ao;e;)e=da(e.nextSibling)}function mo(){ao=ro=null,oo=!1}function go(e){null===io?io=[e]:io.push(e)}var yo=b.ReactCurrentBatchConfig;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function jo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ic(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===T&&bo(o)===t.type)?((r=a(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case w:return(t=Bc(t,e.mode,n)).return=e,t;case T:return p(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ac(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?d(e,t,n,r):null;case T:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||L(n))return null!==a?null:u(e,t,n,r,null);vo(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||L(r))return u(t,e=e.get(n)||null,r,a,null);vo(t,r)}return null}function m(a,o,l,s){for(var c=null,d=null,u=o,m=o=0,g=null;null!==u&&m<l.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var y=f(a,u,l[m],s);if(null===y){null===u&&(u=g);break}e&&u&&null===y.alternate&&t(a,u),o=i(y,o,m),null===d?c=y:d.sibling=y,d=y,u=g}if(m===l.length)return n(a,u),oo&&Za(a,m),c;if(null===u){for(;m<l.length;m++)null!==(u=p(a,l[m],s))&&(o=i(u,o,m),null===d?c=u:d.sibling=u,d=u);return oo&&Za(a,m),c}for(u=r(a,u);m<l.length;m++)null!==(g=h(u,a,m,l[m],s))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),o=i(g,o,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(a,e)})),oo&&Za(a,m),c}function g(a,l,s,c){var d=L(s);if("function"!==typeof d)throw Error(o(150));if(null==(s=d.call(s)))throw Error(o(151));for(var u=d=null,m=l,g=l=0,y=null,x=s.next();null!==m&&!x.done;g++,x=s.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(a,m,x.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(a,m),l=i(v,l,g),null===u?d=v:u.sibling=v,u=v,m=y}if(x.done)return n(a,m),oo&&Za(a,g),d;if(null===m){for(;!x.done;g++,x=s.next())null!==(x=p(a,x.value,c))&&(l=i(x,l,g),null===u?d=x:u.sibling=x,u=x);return oo&&Za(a,g),d}for(m=r(a,m);!x.done;g++,x=s.next())null!==(x=h(m,a,g,x.value,c))&&(e&&null!==x.alternate&&m.delete(null===x.key?g:x.key),l=i(x,l,g),null===u?d=x:u.sibling=x,u=x);return e&&m.forEach((function(e){return t(a,e)})),oo&&Za(a,g),d}return function e(r,o,i,s){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=o;null!==d;){if(d.key===c){if((c=i.type)===S){if(7===d.tag){n(r,d.sibling),(o=a(d,i.props.children)).return=r,r=o;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&bo(c)===d.type){n(r,d.sibling),(o=a(d,i.props)).ref=xo(r,d,i),o.return=r,r=o;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===S?((o=Ac(i.props.children,r.mode,s,i.key)).return=r,r=o):((s=Lc(i.type,i.key,i.props,null,r.mode,s)).ref=xo(r,o,i),s.return=r,r=s)}return l(r);case w:e:{for(d=i.key;null!==o;){if(o.key===d){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Bc(i,r.mode,s)).return=r,r=o}return l(r);case T:return e(r,o,(d=i._init)(i._payload),s)}if(te(i))return m(r,o,i,s);if(L(i))return g(r,o,i,s);vo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=zc(i,r.mode,s)).return=r,r=o),l(r)):n(r,o)}}var wo=jo(!0),So=jo(!1),_o=ka(null),ko=null,Co=null,No=null;function Oo(){No=Co=ko=null}function Do(e){var t=_o.current;Ca(_o),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){ko=e,No=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(No!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===ko)throw Error(o(308));Co=e,ko.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Po=null;function Io(e){null===Po?Po=[e]:Po.push(e)}function Lo(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Io(t)):(n.next=a.next,a.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ds)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Ao(e,n)}return null===(a=r.interleaved)?(t.next=t,Io(r)):(t.next=a.next,a.next=t),r.interleaved=t,Ao(e,n)}function Ho(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Wo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vo(e,t,n,r){var a=e.updateQueue;Mo=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var s=l,c=s.next;s.next=null,null===i?o=c:i.next=c,i=s;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=s))}if(null!==o){var u=a.baseState;for(i=0,d=c=s=null,l=o;;){var p=l.lane,f=l.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,m=l;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){u=h.call(f,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,u,p):h)||void 0===p)break e;u=M({},u,p);break e;case 2:Mo=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=f,s=u):d=d.next=f,i|=p;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(p=l).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===d&&(s=u),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ms|=i,e.lanes=i,e.memoizedState=u}}function qo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var Yo={},$o=ka(Yo),Ko=ka(Yo),Qo=ka(Yo);function Go(e){if(e===Yo)throw Error(o(174));return e}function Xo(e,t){switch(Na(Qo,t),Na(Ko,e),Na($o,Yo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca($o),Na($o,t)}function Jo(){Ca($o),Ca(Ko),Ca(Qo)}function Zo(e){Go(Qo.current);var t=Go($o.current),n=se(t,e.type);t!==n&&(Na(Ko,e),Na($o,n))}function ei(e){Ko.current===e&&(Ca($o),Ca(Ko))}var ti=ka(0);function ni(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ri=[];function ai(){for(var e=0;e<ri.length;e++)ri[e]._workInProgressVersionPrimary=null;ri.length=0}var oi=b.ReactCurrentDispatcher,ii=b.ReactCurrentBatchConfig,li=0,si=null,ci=null,di=null,ui=!1,pi=!1,fi=0,hi=0;function mi(){throw Error(o(321))}function gi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function yi(e,t,n,r,a,i){if(li=i,si=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=null===e||null===e.memoizedState?el:tl,e=n(r,a),pi){i=0;do{if(pi=!1,fi=0,25<=i)throw Error(o(301));i+=1,di=ci=null,t.updateQueue=null,oi.current=nl,e=n(r,a)}while(pi)}if(oi.current=Zi,t=null!==ci&&null!==ci.next,li=0,di=ci=si=null,ui=!1,t)throw Error(o(300));return e}function xi(){var e=0!==fi;return fi=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===di?si.memoizedState=di=e:di=di.next=e,di}function bi(){if(null===ci){var e=si.alternate;e=null!==e?e.memoizedState:null}else e=ci.next;var t=null===di?si.memoizedState:di.next;if(null!==t)di=t,ci=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ci=e).memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},null===di?si.memoizedState=di=e:di=di.next=e}return di}function ji(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ci,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var s=l=null,c=null,d=i;do{var u=d.lane;if((li&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(s=c=p,l=r):c=c.next=p,si.lanes|=u,Ms|=u}d=d.next}while(null!==d&&d!==i);null===c?l=r:c.next=s,lr(r,t.memoizedState)||(bl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,si.lanes|=i,Ms|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Si(e){var t=bi(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);lr(i,t.memoizedState)||(bl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function _i(){}function ki(e,t){var n=si,r=bi(),a=t(),i=!lr(r.memoizedState,a);if(i&&(r.memoizedState=a,bl=!0),r=r.queue,Mi(Oi.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==di&&1&di.memoizedState.tag){if(n.flags|=2048,Ti(9,Ni.bind(null,n,r,a,t),void 0,null),null===Es)throw Error(o(349));0!==(30&li)||Ci(n,t,a)}return a}function Ci(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ni(e,t,n,r){t.value=n,t.getSnapshot=r,Di(t)&&Ei(e)}function Oi(e,t,n){return n((function(){Di(t)&&Ei(e)}))}function Di(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ei(e){var t=Ao(e,1);null!==t&&rc(t,e,1,-1)}function Ri(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t.queue=e,e=e.dispatch=Qi.bind(null,si,e),[t.memoizedState,e]}function Ti(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=si.updateQueue)?(t={lastEffect:null,stores:null},si.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pi(){return bi().memoizedState}function Ii(e,t,n,r){var a=vi();si.flags|=e,a.memoizedState=Ti(1|t,n,void 0,void 0===r?null:r)}function Li(e,t,n,r){var a=bi();r=void 0===r?null:r;var o=void 0;if(null!==ci){var i=ci.memoizedState;if(o=i.destroy,null!==r&&gi(r,i.deps))return void(a.memoizedState=Ti(t,n,o,r))}si.flags|=e,a.memoizedState=Ti(1|t,n,o,r)}function Ai(e,t){return Ii(8390656,8,e,t)}function Mi(e,t){return Li(2048,8,e,t)}function zi(e,t){return Li(4,2,e,t)}function Bi(e,t){return Li(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4,4,Fi.bind(null,t,e),n)}function Hi(){}function Wi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&gi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qi(e,t,n){return 0===(21&li)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),si.lanes|=n,Ms|=n,e.baseState=!0),t)}function Yi(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ii.transition;ii.transition={};try{e(!1),t()}finally{vt=n,ii.transition=r}}function $i(){return bi().memoizedState}function Ki(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gi(e))Xi(t,n);else if(null!==(n=Lo(e,t,n,r))){rc(n,e,r,tc()),Ji(n,t,r)}}function Qi(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Xi(t,a);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=o(i,n);if(a.hasEagerState=!0,a.eagerState=l,lr(l,i)){var s=t.interleaved;return null===s?(a.next=a,Io(t)):(a.next=s.next,s.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Lo(e,t,a,r))&&(rc(n,e,r,a=tc()),Ji(n,t,r))}}function Gi(e){var t=e.alternate;return e===si||null!==t&&t===si}function Xi(e,t){pi=ui=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Zi={readContext:To,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},el={readContext:To,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Ai,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ii(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,si,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ri,useDebugValue:Hi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ri(!1),t=e[0];return e=Yi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=si,a=vi();if(oo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Es)throw Error(o(349));0!==(30&li)||Ci(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ai(Oi.bind(null,r,i,e),[e]),r.flags|=2048,Ti(9,Ni.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Es.identifierPrefix;if(oo){var n=Ja;t=":"+t+"R"+(n=(Xa&~(1<<32-it(Xa)-1)).toString(32)+n),0<(n=fi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tl={readContext:To,useCallback:Wi,useContext:To,useEffect:Mi,useImperativeHandle:Ui,useInsertionEffect:zi,useLayoutEffect:Bi,useMemo:Vi,useReducer:wi,useRef:Pi,useState:function(){return wi(ji)},useDebugValue:Hi,useDeferredValue:function(e){return qi(bi(),ci.memoizedState,e)},useTransition:function(){return[wi(ji)[0],bi().memoizedState]},useMutableSource:_i,useSyncExternalStore:ki,useId:$i,unstable_isNewReconciler:!1},nl={readContext:To,useCallback:Wi,useContext:To,useEffect:Mi,useImperativeHandle:Ui,useInsertionEffect:zi,useLayoutEffect:Bi,useMemo:Vi,useReducer:Si,useRef:Pi,useState:function(){return Si(ji)},useDebugValue:Hi,useDeferredValue:function(e){var t=bi();return null===ci?t.memoizedState=e:qi(t,ci.memoizedState,e)},useTransition:function(){return[Si(ji)[0],bi().memoizedState]},useMutableSource:_i,useSyncExternalStore:ki,useId:$i,unstable_isNewReconciler:!1};function rl(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function al(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ol={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),o=Fo(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,a))&&(rc(t,e,a,r),Ho(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),o=Fo(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,a))&&(rc(t,e,a,r),Ho(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=Fo(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Uo(e,a,r))&&(rc(t,e,r,n),Ho(t,e,r))}};function il(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(a,o))}function ll(e,t,n){var r=!1,a=Oa,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(a=Pa(t)?Ra:Da.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Oa),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ol,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function sl(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ol.enqueueReplaceState(t,t.state,null)}function cl(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},zo(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=To(o):(o=Pa(t)?Ra:Da.current,a.context=Ta(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(al(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ol.enqueueReplaceState(a,a.state,null),Vo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function dl(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function pl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fl="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ys=r),pl(0,t)},n}function ml(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){pl(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){pl(0,t),"function"!==typeof r&&(null===$s?$s=new Set([this]):$s.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function yl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var vl=b.ReactCurrentOwner,bl=!1;function jl(e,t,n,r){t.child=null===e?So(t,null,n,r):wo(t,e.child,n,r)}function wl(e,t,n,r,a){n=n.render;var o=t.ref;return Ro(t,a),r=yi(e,t,n,r,o,a),n=xi(),null===e||bl?(oo&&n&&to(t),t.flags|=1,jl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ql(e,t,a))}function Sl(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Pc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_l(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(i,r)&&e.ref===t.ref)return ql(e,t,a)}return t.flags|=1,(e=Ic(o,r)).ref=t.ref,e.return=t,t.child=e}function _l(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(sr(o,r)&&e.ref===t.ref){if(bl=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,ql(e,t,a);0!==(131072&e.flags)&&(bl=!0)}}return Nl(e,t,n,r,a)}function kl(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Is,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Is,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Na(Is,Ps),Ps|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Na(Is,Ps),Ps|=r;return jl(e,t,a,n),t.child}function Cl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nl(e,t,n,r,a){var o=Pa(n)?Ra:Da.current;return o=Ta(t,o),Ro(t,a),n=yi(e,t,n,r,o,a),r=xi(),null===e||bl?(oo&&r&&to(t),t.flags|=1,jl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ql(e,t,a))}function Ol(e,t,n,r,a){if(Pa(n)){var o=!0;Ma(t)}else o=!1;if(Ro(t,a),null===t.stateNode)Vl(e,t),ll(t,n,r),cl(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var s=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Ta(t,c=Pa(n)?Ra:Da.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||s!==c)&&sl(t,i,r,c),Mo=!1;var p=t.memoizedState;i.state=p,Vo(t,r,i,a),s=t.memoizedState,l!==r||p!==s||Ea.current||Mo?("function"===typeof d&&(al(t,n,d,r),s=t.memoizedState),(l=Mo||il(t,n,l,r,p,s,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),i.props=r,i.state=s,i.context=c,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Bo(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:rl(t.type,l),i.props=c,u=t.pendingProps,p=i.context,"object"===typeof(s=n.contextType)&&null!==s?s=To(s):s=Ta(t,s=Pa(n)?Ra:Da.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||p!==s)&&sl(t,i,r,s),Mo=!1,p=t.memoizedState,i.state=p,Vo(t,r,i,a);var h=t.memoizedState;l!==u||p!==h||Ea.current||Mo?("function"===typeof f&&(al(t,n,f,r),h=t.memoizedState),(c=Mo||il(t,n,c,r,p,h,s)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,s),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=s,r=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Dl(e,t,n,r,o,a)}function Dl(e,t,n,r,a,o){Cl(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&za(t,n,!1),ql(e,t,o);r=t.stateNode,vl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=wo(t,e.child,null,o),t.child=wo(t,null,l,o)):jl(e,t,l,o),t.memoizedState=r.state,a&&za(t,n,!0),t.child}function El(e){var t=e.stateNode;t.pendingContext?La(0,t.pendingContext,t.pendingContext!==t.context):t.context&&La(0,t.context,!1),Xo(e,t.containerInfo)}function Rl(e,t,n,r,a){return mo(),go(a),t.flags|=256,jl(e,t,n,r),t.child}var Tl,Pl,Il,Ll,Al={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function zl(e,t,n){var r,a=t.pendingProps,i=ti.current,l=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Na(ti,1&i),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=a.children,e=a.fallback,l?(a=t.mode,l=t.child,s={mode:"hidden",children:s},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=s):l=Mc(s,a,0,null),e=Ac(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ml(n),t.memoizedState=Al,e):Bl(t,s));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,l){if(n)return 256&t.flags?(t.flags&=-257,Fl(e,t,l,r=ul(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Mc({mode:"visible",children:r.children},a,0,null),(i=Ac(i,a,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&wo(t,e.child,null,l),t.child.memoizedState=Ml(l),t.memoizedState=Al,i);if(0===(1&t.mode))return Fl(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var s=r.dgst;return r=s,Fl(e,t,l,r=ul(i=Error(o(419)),r,void 0))}if(s=0!==(l&e.childLanes),bl||s){if(null!==(r=Es)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Ao(e,a),rc(r,e,a,-1))}return gc(),Fl(e,t,l,r=ul(Error(o(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Oc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ao=da(a.nextSibling),ro=t,oo=!0,io=null,null!==e&&(Ka[Qa++]=Xa,Ka[Qa++]=Ja,Ka[Qa++]=Ga,Xa=e.id,Ja=e.overflow,Ga=t),t=Bl(t,r.children),t.flags|=4096,t)}(e,t,s,a,r,i,n);if(l){l=a.fallback,s=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&s)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ic(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=Ic(r,l):(l=Ac(l,s,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,s=null===(s=e.child.memoizedState)?Ml(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},l.memoizedState=s,l.childLanes=e.childLanes&~n,t.memoizedState=Al,a}return e=(l=e.child).sibling,a=Ic(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bl(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,n,r){return null!==r&&go(r),wo(t,e.child,null,n),(e=Bl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Hl(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Wl(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(jl(e,t,r.children,n),0!==(2&(r=ti.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,n,t);else if(19===e.tag)Ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(ti,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ni(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Hl(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ni(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Hl(t,!0,n,null,o);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ql(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ic(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ic(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yl(e,t){if(!oo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $l(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Kl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $l(t),null;case 1:case 17:return Pa(t.type)&&Ia(),$l(t),null;case 3:return r=t.stateNode,Jo(),Ca(Ea),Ca(Da),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==io&&(lc(io),io=null))),Pl(e,t),$l(t),null;case 5:ei(t);var a=Go(Qo.current);if(n=t.type,null!==e&&null!=t.stateNode)Il(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $l(t),null}if(e=Go($o.current),fo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[fa]=t,r[ha]=i,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)Br(Lr[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":G(r,i),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Br("invalid",r);break;case"textarea":ae(r,i),Br("invalid",r)}for(var s in xe(n,i),a=null,i)if(i.hasOwnProperty(s)){var c=i[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Br("scroll",r)}switch(n){case"input":Y(r),Z(r,i,!0);break;case"textarea":Y(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fa]=t,e[ha]=r,Tl(e,t,!1,!1),t.stateNode=e;e:{switch(s=ve(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)Br(Lr[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":G(e,r),a=Q(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(i in xe(n,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?ge(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Br("scroll",e):null!=d&&v(e,i,d,s))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $l(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Go(Qo.current),Go($o.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(i=r.nodeValue!==n)&&null!==(e=ro))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return $l(t),null;case 13:if(Ca(ti),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(oo&&null!==ao&&0!==(1&t.mode)&&0===(128&t.flags))ho(),mo(),t.flags|=98560,i=!1;else if(i=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[fa]=t}else mo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$l(t),i=!1}else null!==io&&(lc(io),io=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ti.current)?0===Ls&&(Ls=3):gc())),null!==t.updateQueue&&(t.flags|=4),$l(t),null);case 4:return Jo(),Pl(e,t),null===e&&Hr(t.stateNode.containerInfo),$l(t),null;case 10:return Do(t.type._context),$l(t),null;case 19:if(Ca(ti),null===(i=t.memoizedState))return $l(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)Yl(i,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ni(e))){for(t.flags|=128,Yl(i,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(s=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(ti,1&ti.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>Ws&&(t.flags|=128,r=!0,Yl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ni(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Yl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!oo)return $l(t),null}else 2*Xe()-i.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=128,r=!0,Yl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=ti.current,Na(ti,r?1&n|2:1&n),t):($l(t),null);case 22:case 23:return pc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&($l(t),6&t.subtreeFlags&&(t.flags|=8192)):$l(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ql(e,t){switch(no(t),t.tag){case 1:return Pa(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ca(Ea),Ca(Da),ai(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ei(t),null;case 13:if(Ca(ti),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));mo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ti),null;case 4:return Jo(),null;case 10:return Do(t.type._context),null;case 22:case 23:return pc(),null;default:return null}}Tl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pl=function(){},Il=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Go($o.current);var o,i=null;switch(n){case"input":a=Q(e,a),r=Q(e,r),i=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in xe(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var s=a[d];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(s=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==s&&(null!=c||null!=s))if("style"===d)if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Br("scroll",e),i||s===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ll=function(e,t,n,r){n!==r&&(t.flags|=4)};var Gl=!1,Xl=!1,Jl="function"===typeof WeakSet?WeakSet:Set,Zl=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){kc(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&ts(t,n,o)}a=a.next}while(a!==r)}}function as(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function is(e){var t=e.alternate;null!==t&&(e.alternate=null,is(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ha],delete t[ga],delete t[ya],delete t[xa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ls(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ds(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ds(e,t,n),e=e.sibling;null!==e;)ds(e,t,n),e=e.sibling}var us=null,ps=!1;function fs(e,t,n){for(n=n.child;null!==n;)hs(e,t,n),n=n.sibling}function hs(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(l){}switch(n.tag){case 5:Xl||es(n,t);case 6:var r=us,a=ps;us=null,fs(e,t,n),ps=a,null!==(us=r)&&(ps?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ps?(e=us,n=n.stateNode,8===e.nodeType?ca(e.parentNode,n):1===e.nodeType&&ca(e,n),Ht(e)):ca(us,n.stateNode));break;case 4:r=us,a=ps,us=n.stateNode.containerInfo,ps=!0,fs(e,t,n),us=r,ps=a;break;case 0:case 11:case 14:case 15:if(!Xl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&ts(n,t,i),a=a.next}while(a!==r)}fs(e,t,n);break;case 1:if(!Xl&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kc(n,t,l)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:1&n.mode?(Xl=(r=Xl)||null!==n.memoizedState,fs(e,t,n),Xl=r):fs(e,t,n);break;default:fs(e,t,n)}}function ms(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jl),t.forEach((function(t){var r=Dc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,s=l;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ps=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ps=!0;break e}s=s.return}if(null===us)throw Error(o(160));hs(i,l,a),us=null,ps=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gs(t,e),xs(e),4&r){try{rs(3,e,e.return),as(3,e)}catch(g){kc(e,e.return,g)}try{rs(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gs(t,e),xs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(gs(t,e),xs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===i.type&&null!=i.name&&X(a,i),ve(s,l);var d=ve(s,i);for(l=0;l<c.length;l+=2){var u=c[l],p=c[l+1];"style"===u?ge(a,p):"dangerouslySetInnerHTML"===u?ue(a,p):"children"===u?pe(a,p):v(a,u,p,d)}switch(s){case"input":J(a,i);break;case"textarea":oe(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(a,!!i.multiple,h,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[ha]=i}catch(g){kc(e,e.return,g)}}break;case 6:if(gs(t,e),xs(e),4&r){if(null===e.stateNode)throw Error(o(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){kc(e,e.return,g)}}break;case 3:if(gs(t,e),xs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gs(t,e),xs(e);break;case 13:gs(t,e),xs(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Hs=Xe())),4&r&&ms(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Xl=(d=Xl)||u,gs(t,e),Xl=d):gs(t,e),xs(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zl=e,u=e.child;null!==u;){for(p=Zl=u;null!==Zl;){switch(h=(f=Zl).child,f.tag){case 0:case 11:case 14:case 15:rs(4,f,f.return);break;case 1:es(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:es(f,f.return);break;case 22:if(null!==f.memoizedState){ws(p);continue}}null!==h?(h.return=f,Zl=h):ws(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{a=p.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(s=p.stateNode,l=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=me("display",l))}catch(g){kc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gs(t,e),xs(e),4&r&&ms(e);case 21:}}function xs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ls(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),ds(e,ss(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;cs(e,ss(e),i);break;default:throw Error(o(161))}}catch(l){kc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Zl=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Zl;){var a=Zl,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Gl;if(!i){var l=a.alternate,s=null!==l&&null!==l.memoizedState||Xl;l=Gl;var c=Xl;if(Gl=i,(Xl=s)&&!c)for(Zl=a;null!==Zl;)s=(i=Zl).child,22===i.tag&&null!==i.memoizedState?Ss(a):null!==s?(s.return=i,Zl=s):Ss(a);for(;null!==o;)Zl=o,bs(o,t,n),o=o.sibling;Zl=a,Gl=l,Xl=c}js(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Zl=o):js(e)}}function js(e){for(;null!==Zl;){var t=Zl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xl||as(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xl)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:rl(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&qo(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qo(t,l,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ht(p)}}}break;default:throw Error(o(163))}Xl||512&t.flags&&os(t)}catch(la){kc(t,t.return,la)}}if(t===e){Zl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zl=n;break}Zl=t.return}}function ws(e){for(;null!==Zl;){var t=Zl;if(t===e){Zl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zl=n;break}Zl=t.return}}function Ss(e){for(;null!==Zl;){var t=Zl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{as(4,t)}catch(s){kc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(s){kc(t,a,s)}}var o=t.return;try{os(t)}catch(s){kc(t,o,s)}break;case 5:var i=t.return;try{os(t)}catch(s){kc(t,i,s)}}}catch(s){kc(t,t.return,s)}if(t===e){Zl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Zl=l;break}Zl=t.return}}var _s,ks=Math.ceil,Cs=b.ReactCurrentDispatcher,Ns=b.ReactCurrentOwner,Os=b.ReactCurrentBatchConfig,Ds=0,Es=null,Rs=null,Ts=0,Ps=0,Is=ka(0),Ls=0,As=null,Ms=0,zs=0,Bs=0,Fs=null,Us=null,Hs=0,Ws=1/0,Vs=null,qs=!1,Ys=null,$s=null,Ks=!1,Qs=null,Gs=0,Xs=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Ds)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ds)&&0!==Ts?Ts&-Ts:null!==yo.transition?(0===ec&&(ec=mt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,Js=null,Error(o(185));yt(e,n,r),0!==(2&Ds)&&e===Es||(e===Es&&(0===(2&Ds)&&(zs|=n),4===Ls&&sc(e,Ts)),ac(e,r),1===n&&0===Ds&&0===(1&t.mode)&&(Ws=Xe()+500,Fa&&Wa()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),l=1<<i,s=a[i];-1===s?0!==(l&n)&&0===(l&r)||(a[i]=ft(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var r=pt(e,e===Es?Ts:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fa=!0,Ha(e)}(cc.bind(null,e)):Ha(cc.bind(null,e)),ia((function(){0===(6&Ds)&&Wa()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ec(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zs=-1,ec=0,0!==(6&Ds))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=pt(e,e===Es?Ts:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var a=Ds;Ds|=2;var i=mc();for(Es===e&&Ts===t||(Vs=null,Ws=Xe()+500,fc(e,t));;)try{vc();break}catch(s){hc(e,s)}Oo(),Cs.current=i,Ds=a,null!==Rs?t=0:(Es=null,Ts=0,t=Ls)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=ic(e,a))),1===t)throw n=As,fc(e,0),sc(e,r),ac(e,Xe()),n;if(6===t)sc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!lr(o(),a))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=yc(e,r))&&(0!==(i=ht(e))&&(r=i,t=ic(e,i))),1===t))throw n=As,fc(e,0),sc(e,r),ac(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Us,Vs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Hs+500-Xe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Us,Vs),t);break}wc(e,Us,Vs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>a&&(a=l),r&=~i}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ks(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Us,Vs),r);break}wc(e,Us,Vs);break;default:throw Error(o(329))}}}return ac(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=Fs;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Us,Us=n,null!==t&&lc(t)),e}function lc(e){null===Us?Us=e:Us.push.apply(Us,e)}function sc(e,t){for(t&=~Bs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ds))throw Error(o(327));Sc();var t=pt(e,0);if(0===(1&t))return ac(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=As,fc(e,0),sc(e,t),ac(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Us,Vs),ac(e,Xe()),null}function dc(e,t){var n=Ds;Ds|=1;try{return e(t)}finally{0===(Ds=n)&&(Ws=Xe()+500,Fa&&Wa())}}function uc(e){null!==Qs&&0===Qs.tag&&0===(6&Ds)&&Sc();var t=Ds;Ds|=1;var n=Os.transition,r=vt;try{if(Os.transition=null,vt=1,e)return e()}finally{vt=r,Os.transition=n,0===(6&(Ds=t))&&Wa()}}function pc(){Ps=Is.current,Ca(Is)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(no(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ia();break;case 3:Jo(),Ca(Ea),Ca(Da),ai();break;case 5:ei(r);break;case 4:Jo();break;case 13:case 19:Ca(ti);break;case 10:Do(r.type._context);break;case 22:case 23:pc()}n=n.return}if(Es=e,Rs=e=Ic(e.current,null),Ts=Ps=t,Ls=0,As=null,Bs=zs=Ms=0,Us=Fs=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}Po=null}return e}function hc(e,t){for(;;){var n=Rs;try{if(Oo(),oi.current=Zi,ui){for(var r=si.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ui=!1}if(li=0,di=ci=si=null,pi=!1,fi=0,Ns.current=null,null===n||null===n.return){Ls=1,As=t,Rs=null;break}e:{var i=e,l=n.return,s=n,c=t;if(t=Ts,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=s,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=yl(l);if(null!==h){h.flags&=-257,xl(h,l,s,0,t),1&h.mode&&gl(i,d,t),c=d;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gl(i,d,t),gc();break e}c=Error(o(426))}else if(oo&&1&s.mode){var y=yl(l);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),xl(y,l,s,0,t),go(dl(c,s));break e}}i=c=dl(c,s),4!==Ls&&(Ls=2),null===Fs?Fs=[i]:Fs.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Wo(i,hl(0,c,t));break e;case 1:s=c;var x=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof x.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===$s||!$s.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Wo(i,ml(i,s,t));break e}}i=i.return}while(null!==i)}jc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function mc(){var e=Cs.current;return Cs.current=Zi,null===e?Zi:e}function gc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===Es||0===(268435455&Ms)&&0===(268435455&zs)||sc(Es,Ts)}function yc(e,t){var n=Ds;Ds|=2;var r=mc();for(Es===e&&Ts===t||(Vs=null,fc(e,t));;)try{xc();break}catch(a){hc(e,a)}if(Oo(),Ds=n,Cs.current=r,null!==Rs)throw Error(o(261));return Es=null,Ts=0,Ls}function xc(){for(;null!==Rs;)bc(Rs)}function vc(){for(;null!==Rs&&!Qe();)bc(Rs)}function bc(e){var t=_s(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?jc(e):Rs=t,Ns.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Kl(n,t,Ps)))return void(Rs=n)}else{if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ls=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ls&&(Ls=5)}function wc(e,t,n){var r=vt,a=Os.transition;try{Os.transition=null,vt=1,function(e,t,n,r){do{Sc()}while(null!==Qs);if(0!==(6&Ds))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Es&&(Rs=Es=null,Ts=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Ec(tt,(function(){return Sc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Os.transition,Os.transition=null;var l=vt;vt=1;var s=Ds;Ds|=4,Ns.current=null,function(e,t){if(ea=Vt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(j){n=null;break e}var l=0,s=-1,c=-1,d=0,u=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(s=l+a),p!==i||0!==r&&3!==p.nodeType||(c=l+r),3===p.nodeType&&(l+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++d===a&&(s=l),f===i&&++u===r&&(c=l),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Zl=t;null!==Zl;)if(e=(t=Zl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zl=e;else for(;null!==Zl;){t=Zl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:rl(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Zl=e;break}Zl=t.return}m=ns,ns=!1}(e,n),ys(n,e),hr(ta),Vt=!!ea,ta=ea=null,e.current=n,vs(n,e,a),Ge(),Ds=s,vt=l,Os.transition=i}else e.current=n;if(Ks&&(Ks=!1,Qs=e,Gs=a),i=e.pendingLanes,0===i&&($s=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(qs)throw qs=!1,e=Ys,Ys=null,e;0!==(1&Gs)&&0!==e.tag&&Sc(),i=e.pendingLanes,0!==(1&i)?e===Js?Xs++:(Xs=0,Js=e):Xs=0,Wa()}(e,t,n,r)}finally{Os.transition=a,vt=r}return null}function Sc(){if(null!==Qs){var e=bt(Gs),t=Os.transition,n=vt;try{if(Os.transition=null,vt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Gs=0,0!==(6&Ds))throw Error(o(331));var a=Ds;for(Ds|=4,Zl=e.current;null!==Zl;){var i=Zl,l=i.child;if(0!==(16&Zl.flags)){var s=i.deletions;if(null!==s){for(var c=0;c<s.length;c++){var d=s[c];for(Zl=d;null!==Zl;){var u=Zl;switch(u.tag){case 0:case 11:case 15:rs(8,u,i)}var p=u.child;if(null!==p)p.return=u,Zl=p;else for(;null!==Zl;){var f=(u=Zl).sibling,h=u.return;if(is(u),u===d){Zl=null;break}if(null!==f){f.return=h,Zl=f;break}Zl=h}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Zl=l;else e:for(;null!==Zl;){if(0!==(2048&(i=Zl).flags))switch(i.tag){case 0:case 11:case 15:rs(9,i,i.return)}var x=i.sibling;if(null!==x){x.return=i.return,Zl=x;break e}Zl=i.return}}var v=e.current;for(Zl=v;null!==Zl;){var b=(l=Zl).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,Zl=b;else e:for(l=v;null!==Zl;){if(0!==(2048&(s=Zl).flags))try{switch(s.tag){case 0:case 11:case 15:as(9,s)}}catch(w){kc(s,s.return,w)}if(s===l){Zl=null;break e}var j=s.sibling;if(null!==j){j.return=s.return,Zl=j;break e}Zl=s.return}}if(Ds=a,Wa(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{vt=n,Os.transition=t}}return!1}function _c(e,t,n){e=Uo(e,t=hl(0,t=dl(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$s||!$s.has(r))){t=Uo(t,e=ml(t,e=dl(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ac(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Ts&n)===n&&(4===Ls||3===Ls&&(130023424&Ts)===Ts&&500>Xe()-Hs?fc(e,0):Bs|=n),ac(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Ao(e,t))&&(yt(e,t,n),ac(e,n))}function Oc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Dc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Nc(e,n)}function Ec(e,t){return $e(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ic(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,a,i){var l=2;if(r=e,"function"===typeof e)Pc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case S:return Ac(n.children,a,i,t);case _:l=8,a|=8;break;case k:return(e=Tc(12,n,t,2|a)).elementType=k,e.lanes=i,e;case D:return(e=Tc(13,n,t,a)).elementType=D,e.lanes=i,e;case E:return(e=Tc(19,n,t,a)).elementType=E,e.lanes=i,e;case P:return Mc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case N:l=9;break e;case O:l=11;break e;case R:l=14;break e;case T:l=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Tc(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ac(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,o,i,l,s){return e=new Fc(e,t,n,l,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Tc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zo(o),e}function Hc(e){if(!e)return Oa;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pa(n))return Aa(e,n,t)}return t}function Wc(e,t,n,r,a,o,i,l,s){return(e=Uc(n,r,!0,e,0,o,0,l,s)).context=Hc(null),n=e.current,(o=Fo(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,a),e.current.lanes=a,yt(e,a,r),ac(e,r),e}function Vc(e,t,n,r){var a=t.current,o=tc(),i=nc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Uo(a,t,i))&&(rc(e,a,i,o),Ho(e,a,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Yc(e,t),(e=e.alternate)&&Yc(e,t)}_s=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:El(t),mo();break;case 5:Zo(t);break;case 1:Pa(t.type)&&Ma(t);break;case 4:Xo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(_o,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(ti,1&ti.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zl(e,t,n):(Na(ti,1&ti.current),null!==(e=ql(e,t,n))?e.sibling:null);Na(ti,1&ti.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(ti,ti.current),r)break;return null;case 22:case 23:return t.lanes=0,kl(e,t,n)}return ql(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,oo&&0!==(1048576&t.flags)&&eo(t,$a,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vl(e,t),e=t.pendingProps;var a=Ta(t,Da.current);Ro(t,n),a=yi(null,t,r,e,a,n);var i=xi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(i=!0,Ma(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,zo(t),a.updater=ol,t.stateNode=a,a._reactInternals=t,cl(t,r,e,n),t=Dl(null,t,r,!0,i,n)):(t.tag=0,oo&&i&&to(t),jl(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===R)return 14}return 2}(r),e=rl(r,e),a){case 0:t=Nl(null,t,r,e,n);break e;case 1:t=Ol(null,t,r,e,n);break e;case 11:t=wl(null,t,r,e,n);break e;case 14:t=Sl(null,t,r,rl(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Nl(e,t,r,a=t.elementType===r?a:rl(r,a),n);case 1:return r=t.type,a=t.pendingProps,Ol(e,t,r,a=t.elementType===r?a:rl(r,a),n);case 3:e:{if(El(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,Bo(e,t),Vo(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Rl(e,t,r,n,a=dl(Error(o(423)),t));break e}if(r!==a){t=Rl(e,t,r,n,a=dl(Error(o(424)),t));break e}for(ao=da(t.stateNode.containerInfo.firstChild),ro=t,oo=!0,io=null,n=So(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mo(),r===a){t=ql(e,t,n);break e}jl(e,t,r,n)}t=t.child}return t;case 5:return Zo(t),null===e&&uo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,na(r,a)?l=null:null!==i&&na(r,i)&&(t.flags|=32),Cl(e,t),jl(e,t,l,n),t.child;case 6:return null===e&&uo(t),null;case 13:return zl(e,t,n);case 4:return Xo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wo(t,null,r,n):jl(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,wl(e,t,r,a=t.elementType===r?a:rl(r,a),n);case 7:return jl(e,t,t.pendingProps,n),t.child;case 8:case 12:return jl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Na(_o,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===a.children&&!Ea.current){t=ql(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var s=i.dependencies;if(null!==s){l=i.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Fo(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Eo(i.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(o(341));l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Eo(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}jl(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ro(t,n),r=r(a=To(a)),t.flags|=1,jl(e,t,r,n),t.child;case 14:return a=rl(r=t.type,t.pendingProps),Sl(e,t,r,a=rl(r.type,a),n);case 15:return _l(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:rl(r,a),Vl(e,t),t.tag=1,Pa(r)?(e=!0,Ma(t)):e=!1,Ro(t,n),ll(t,r,a),cl(t,r,a,n),Dl(null,t,r,!0,e,n);case 19:return Wl(e,t,n);case 22:return kl(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var l=a;a=function(){var e=qc(i);l.call(e)}}Vc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=qc(i);o.call(e)}}var i=Wc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[ma]=i.current,Hr(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var l=r;r=function(){var e=qc(s);l.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[ma]=s.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,s,n,r)})),s}(n,t,e,a,r);return qc(i)}Gc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vc(e,t,null,null)},Gc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[ma]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),ac(t,Xe()),0===(6&Ds)&&(Ws=Xe()+500,Wa()))}break;case 13:uc((function(){var t=Ao(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),$c(e,1)}},wt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)rc(t,e,134217728,tc());$c(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Ao(e,t);if(null!==n)rc(n,e,t,tc());$c(e,t)}},_t=function(){return vt},kt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));$(r),J(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=dc,De=uc;var td={usingClientEntryPoint:!1,Events:[ba,ja,wa,Ce,Ne,dc]},nd={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{at=ad.inject(rd),ot=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[ma]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",l=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,a,0,i,l),e[ma]=t.current,Hr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){ed(null,null,e,!1,(function(){e._reactRootContainer=null,e[ma]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ed(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,n.d(o,i),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".8ab44547.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,a,o,i)=>{if(e[r])e[r].push(a);else{var l,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){l=u;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+o),l.src=r),e[r]=[a];var p=(t,n)=>{l.onerror=l.onload=null,clearTimeout(f);var a=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(n))),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),s&&document.head.appendChild(l)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=o);var i=n.p+n.u(t),l=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,a[1](l)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,o,i=r[0],l=r[1],s=r[2],c=0;if(i.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(s)s(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Ht,hasStandardBrowserEnv:()=>Vt,hasStandardBrowserWebWorkerEnv:()=>qt,navigator:()=>Wt,origin:()=>Yt});var a,o=n(43),i=n.t(o,2),l=n(391),s=n(950),c=n.t(s,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function f(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,r){return void 0===n&&(n=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function g(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function x(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,l=o.history,s=a.Pop,c=null,f=y();function y(){return(l.state||{idx:null}).idx}function x(){s=a.Pop;let e=y(),t=null==e?null:e-f;f=e,c&&c({action:s,location:b.location,delta:t})}function v(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:g(e);return n=n.replace(/ $/,"%20"),p(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,l.replaceState(d({},l.state,{idx:f}),""));let b={get action(){return s},get location(){return e(o,l)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(u,x),c=e,()=>{o.removeEventListener(u,x),c=null}},createHref:e=>t(o,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s=a.Push;let r=m(b.location,e,t);n&&n(r,e),f=y()+1;let d=h(r,f),u=b.createHref(r);try{l.pushState(d,"",u)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;o.location.assign(u)}i&&c&&c({action:s,location:b.location,delta:1})},replace:function(e,t){s=a.Replace;let r=m(b.location,e,t);n&&n(r,e),f=y();let o=h(r,f),d=b.createHref(r);l.replaceState(o,"",d),i&&c&&c({action:s,location:b.location,delta:0})},go:e=>l.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,n){return void 0===n&&(n="/"),j(e,t,n,!1)}function j(e,t,n,r){let a=L(("string"===typeof t?y(t):t).pathname||"/",n);if(null==a)return null;let o=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let l=0;null==i&&l<o.length;++l){let e=I(a);i=T(o[l],e,r)}return i}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,o)=>{let i={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(p(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=F([r,i.relativePath]),s=n.concat(i);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),w(e.children,t,s,l)),(null!=e.path||e.index)&&t.push({path:l,score:R(l,e.index),routesMeta:s})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of S(e.path))a(e,t,r);else a(e,t)})),t}function S(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return a?[o,""]:[o];let i=S(r.join("/")),l=[];return l.push(...i.map((e=>""===e?o:[o,e].join("/")))),a&&l.push(...i),l.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,k=3,C=2,N=1,O=10,D=-2,E=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=D),t&&(r+=C),n.filter((e=>!E(e))).reduce(((e,t)=>e+(_.test(t)?k:""===t?N:O)),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},o="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],s=l===r.length-1,c="/"===o?t:t.slice(o.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:s},c),u=e.route;if(!d&&s&&n&&!r[r.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:F([o,d.pathname]),pathnameBase:U(F([o,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(o=F([o,d.pathnameBase]))}return i}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);f("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";i=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const s=l[n];return e[r]=a&&!s?void 0:(s||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:i,pattern:e}}function I(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return f(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function A(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function z(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function B(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=y(e):(a=d({},e),p(!a.pathname||!a.pathname.includes("?"),A("?","pathname","search",a)),p(!a.pathname||!a.pathname.includes("#"),A("#","pathname","hash",a)),p(!a.search||!a.search.includes("#"),A("#","search","hash",a)));let o,i=""===e||""===a.pathname,l=i?"/":a.pathname;if(null==l)o=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}o=e>=0?t[e]:"/"}let s=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?y(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:H(r),hash:W(a)}}(a,o),c=l&&"/"!==l&&l.endsWith("/"),u=(i||"."===l)&&n.endsWith("/");return s.pathname.endsWith("/")||!c&&!u||(s.pathname+="/"),s}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",W=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],Y=(new Set(q),["get",...q]);new Set(Y),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}const K=o.createContext(null);const Q=o.createContext(null);const G=o.createContext(null);const X=o.createContext(null);const J=o.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=o.createContext(null);function ee(){return null!=o.useContext(X)}function te(){return ee()||p(!1),o.useContext(X).location}function ne(e){o.useContext(G).static||o.useLayoutEffect(e)}function re(){let{isDataRoute:e}=o.useContext(J);return e?function(){let{router:e}=he(pe.UseNavigateStable),t=ge(fe.UseNavigateStable),n=o.useRef(!1);return ne((()=>{n.current=!0})),o.useCallback((function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,$({fromRouteId:t},a)))}),[e,t])}():function(){ee()||p(!1);let e=o.useContext(K),{basename:t,future:n,navigator:r}=o.useContext(G),{matches:a}=o.useContext(J),{pathname:i}=te(),l=JSON.stringify(z(a,n.v7_relativeSplatPath)),s=o.useRef(!1);return ne((()=>{s.current=!0})),o.useCallback((function(n,a){if(void 0===a&&(a={}),!s.current)return;if("number"===typeof n)return void r.go(n);let o=B(n,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==t&&(o.pathname="/"===o.pathname?t:F([t,o.pathname])),(a.replace?r.replace:r.push)(o,a.state,a)}),[t,r,l,i,e])}()}const ae=o.createContext(null);function oe(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=o.useContext(G),{matches:a}=o.useContext(J),{pathname:i}=te(),l=JSON.stringify(z(a,r.v7_relativeSplatPath));return o.useMemo((()=>B(e,JSON.parse(l),i,"path"===n)),[e,l,i,n])}function ie(e,t,n,r){ee()||p(!1);let{navigator:i}=o.useContext(G),{matches:l}=o.useContext(J),s=l[l.length-1],c=s?s.params:{},d=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let u,f=te();if(t){var h;let e="string"===typeof t?y(t):t;"/"===d||(null==(h=e.pathname)?void 0:h.startsWith(d))||p(!1),u=e}else u=f;let m=u.pathname||"/",g=m;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=b(e,{pathname:g});let v=ue(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:F([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&v?o.createElement(X.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:a.Pop}},v):v}function le(){let e=function(){var e;let t=o.useContext(Z),n=me(fe.UseRouteError),r=ge(fe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=V(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},t),n?o.createElement("pre",{style:a},n):null,null)}const se=o.createElement(le,null);class ce extends o.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?o.createElement(J.Provider,{value:this.props.routeContext},o.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:n,children:r}=e,a=o.useContext(K);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),o.createElement(J.Provider,{value:t},r)}function ue(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,s=null==(a=n)?void 0:a.errors;if(null!=s){let e=l.findIndex((e=>e.route.id&&void 0!==(null==s?void 0:s[e.route.id])));e>=0||p(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let o=0;o<l.length;o++){let e=l[o];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=o),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight(((e,r,a)=>{let i,u=!1,p=null,f=null;var h;n&&(i=s&&r.route.id?s[r.route.id]:void 0,p=r.route.errorElement||se,c&&(d<0&&0===a?(h="route-fallback",!1||ye[h]||(ye[h]=!0),u=!0,f=null):d===a&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(l.slice(0,a+1)),g=()=>{let t;return t=i?p:u?f:r.route.Component?o.createElement(r.route.Component,null):r.route.element?r.route.element:e,o.createElement(de,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?o.createElement(ce,{location:n.location,revalidation:n.revalidation,component:p,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var pe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pe||{}),fe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(fe||{});function he(e){let t=o.useContext(K);return t||p(!1),t}function me(e){let t=o.useContext(Q);return t||p(!1),t}function ge(e){let t=function(){let e=o.useContext(J);return e||p(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||p(!1),n.route.id}const ye={};i.startTransition;function xe(e){let{to:t,replace:n,state:r,relative:a}=e;ee()||p(!1);let{future:i,static:l}=o.useContext(G),{matches:s}=o.useContext(J),{pathname:c}=te(),d=re(),u=B(t,z(s,i.v7_relativeSplatPath),c,"path"===a),f=JSON.stringify(u);return o.useEffect((()=>d(JSON.parse(f),{replace:n,state:r,relative:a})),[d,f,a,n,r]),null}function ve(e){return function(e){let t=o.useContext(J).outlet;return t?o.createElement(ae.Provider,{value:e},t):t}(e.context)}function be(e){p(!1)}function je(e){let{basename:t="/",children:n=null,location:r,navigationType:i=a.Pop,navigator:l,static:s=!1,future:c}=e;ee()&&p(!1);let d=t.replace(/^\/*/,"/"),u=o.useMemo((()=>({basename:d,navigator:l,static:s,future:$({v7_relativeSplatPath:!1},c)})),[d,c,l,s]);"string"===typeof r&&(r=y(r));let{pathname:f="/",search:h="",hash:m="",state:g=null,key:x="default"}=r,v=o.useMemo((()=>{let e=L(f,d);return null==e?null:{location:{pathname:e,search:h,hash:m,state:g,key:x},navigationType:i}}),[d,f,h,m,g,x,i]);return null==v?null:o.createElement(G.Provider,{value:u},o.createElement(X.Provider,{children:n,value:v}))}function we(e){let{children:t,location:n}=e;return ie(Se(t),n)}new Promise((()=>{}));o.Component;function Se(e,t){void 0===t&&(t=[]);let n=[];return o.Children.forEach(e,((e,r)=>{if(!o.isValidElement(e))return;let a=[...t,r];if(e.type===o.Fragment)return void n.push.apply(n,Se(e.props.children,a));e.type!==be&&p(!1),e.props.index&&e.props.children&&p(!1);let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Se(e.props.children,a)),n.push(i)})),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(_c){}new Map;const Ne=i.startTransition;c.flushSync,i.useId;function Oe(e){let{basename:t,children:n,future:r,window:a}=e,i=o.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:a,v5Compat:!0})&&(l={}),x((function(e,t){let{pathname:n,search:r,hash:a}=e.location;return m("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,l)));let s=i.current,[c,d]=o.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},p=o.useCallback((e=>{u&&Ne?Ne((()=>d(e))):d(e)}),[d,u]);return o.useLayoutEffect((()=>s.listen(p)),[s,p]),o.createElement(je,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s,future:r})}const De="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=o.forwardRef((function(e,t){let n,{onClick:r,relative:a,reloadDocument:i,replace:l,state:s,target:c,to:d,preventScrollReset:u,unstable_viewTransition:f}=e,h=ke(e,Ce),{basename:m}=o.useContext(G),y=!1;if("string"===typeof d&&Ee.test(d)&&(n=d,De))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=L(t.pathname,m);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch(_c){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||p(!1);let{basename:r,navigator:a}=o.useContext(G),{hash:i,pathname:l,search:s}=oe(e,{relative:n}),c=l;return"/"!==r&&(c="/"===l?r:F([r,l])),a.createHref({pathname:c,search:s,hash:i})}(d,{relative:a}),v=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:l,unstable_viewTransition:s}=void 0===t?{}:t,c=re(),d=te(),u=oe(e,{relative:l});return o.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:g(d)===g(u);c(e,{replace:n,state:a,preventScrollReset:i,relative:l,unstable_viewTransition:s})}}),[d,c,u,r,a,n,e,i,l,s])}(d,{replace:l,state:s,target:c,preventScrollReset:u,relative:a,unstable_viewTransition:f});return o.createElement("a",_e({},h,{href:n||x,onClick:y||i?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:t,target:c}))}));var Te,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));function Ie(e,t){return function(){return e.apply(t,arguments)}}const{toString:Le}=Object.prototype,{getPrototypeOf:Ae}=Object,{iterator:Me,toStringTag:ze}=Symbol,Be=(Fe=Object.create(null),e=>{const t=Le.call(e);return Fe[t]||(Fe[t]=t.slice(8,-1).toLowerCase())});var Fe;const Ue=e=>(e=e.toLowerCase(),t=>Be(t)===e),He=e=>t=>typeof t===e,{isArray:We}=Array,Ve=He("undefined");const qe=Ue("ArrayBuffer");const Ye=He("string"),$e=He("function"),Ke=He("number"),Qe=e=>null!==e&&"object"===typeof e,Ge=e=>{if("object"!==Be(e))return!1;const t=Ae(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(ze in e)&&!(Me in e)},Xe=Ue("Date"),Je=Ue("File"),Ze=Ue("Blob"),et=Ue("FileList"),tt=Ue("URLSearchParams"),[nt,rt,at,ot]=["ReadableStream","Request","Response","Headers"].map(Ue);function it(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),We(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=a?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let i;for(n=0;n<o;n++)i=r[n],t.call(null,e[i],i,e)}}function lt(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const st="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ct=e=>!Ve(e)&&e!==st;const dt=(ut="undefined"!==typeof Uint8Array&&Ae(Uint8Array),e=>ut&&e instanceof ut);var ut;const pt=Ue("HTMLFormElement"),ft=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),ht=Ue("RegExp"),mt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};it(n,((n,a)=>{let o;!1!==(o=t(n,a,e))&&(r[a]=o||n)})),Object.defineProperties(e,r)};const gt=Ue("AsyncFunction"),yt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],st.addEventListener("message",(e=>{let{source:t,data:a}=e;t===st&&a===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),st.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,$e(st.postMessage)),xt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(st):"undefined"!==typeof process&&process.nextTick||yt,vt={isArray:We,isArrayBuffer:qe,isBuffer:function(e){return null!==e&&!Ve(e)&&null!==e.constructor&&!Ve(e.constructor)&&$e(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||$e(e.append)&&("formdata"===(t=Be(e))||"object"===t&&$e(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&qe(e.buffer),t},isString:Ye,isNumber:Ke,isBoolean:e=>!0===e||!1===e,isObject:Qe,isPlainObject:Ge,isReadableStream:nt,isRequest:rt,isResponse:at,isHeaders:ot,isUndefined:Ve,isDate:Xe,isFile:Je,isBlob:Ze,isRegExp:ht,isFunction:$e,isStream:e=>Qe(e)&&$e(e.pipe),isURLSearchParams:tt,isTypedArray:dt,isFileList:et,forEach:it,merge:function e(){const{caseless:t}=ct(this)&&this||{},n={},r=(r,a)=>{const o=t&&lt(n,a)||a;Ge(n[o])&&Ge(r)?n[o]=e(n[o],r):Ge(r)?n[o]=e({},r):We(r)?n[o]=r.slice():n[o]=r};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&it(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return it(t,((t,r)=>{n&&$e(t)?e[r]=Ie(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,o,i;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)i=a[o],r&&!r(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==n&&Ae(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Be,kindOfTest:Ue,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(We(e))return e;let t=e.length;if(!Ke(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Me]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:pt,hasOwnProperty:ft,hasOwnProp:ft,reduceDescriptors:mt,freezeMethods:e=>{mt(e,((t,n)=>{if($e(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];$e(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return We(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:lt,global:st,isContextDefined:ct,isSpecCompliantForm:function(e){return!!(e&&$e(e.append)&&"FormData"===e[ze]&&e[Me])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Qe(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const a=We(e)?[]:{};return it(e,((e,t)=>{const o=n(e,r+1);!Ve(o)&&(a[t]=o)})),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:gt,isThenable:e=>e&&(Qe(e)||$e(e))&&$e(e.then)&&$e(e.catch),setImmediate:yt,asap:xt,isIterable:e=>null!=e&&$e(e[Me])};function bt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}vt.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:vt.toJSONObject(this.config),code:this.code,status:this.status}}});const jt=bt.prototype,wt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{wt[e]={value:e}})),Object.defineProperties(bt,wt),Object.defineProperty(jt,"isAxiosError",{value:!0}),bt.from=(e,t,n,r,a,o)=>{const i=Object.create(jt);return vt.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),bt.call(i,e.message,t,n,r,a),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};const St=bt;function _t(e){return vt.isPlainObject(e)||vt.isArray(e)}function kt(e){return vt.endsWith(e,"[]")?e.slice(0,-2):e}function Ct(e,t,n){return e?e.concat(t).map((function(e,t){return e=kt(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Nt=vt.toFlatObject(vt,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Ot=function(e,t,n){if(!vt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=vt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!vt.isUndefined(t[e])}))).metaTokens,a=n.visitor||c,o=n.dots,i=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&vt.isSpecCompliantForm(t);if(!vt.isFunction(a))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(vt.isDate(e))return e.toISOString();if(!l&&vt.isBlob(e))throw new St("Blob is not supported. Use a Buffer instead.");return vt.isArrayBuffer(e)||vt.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let l=e;if(e&&!a&&"object"===typeof e)if(vt.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(vt.isArray(e)&&function(e){return vt.isArray(e)&&!e.some(_t)}(e)||(vt.isFileList(e)||vt.endsWith(n,"[]"))&&(l=vt.toArray(e)))return n=kt(n),l.forEach((function(e,r){!vt.isUndefined(e)&&null!==e&&t.append(!0===i?Ct([n],r,o):null===i?n:n+"[]",s(e))})),!1;return!!_t(e)||(t.append(Ct(a,n,o),s(e)),!1)}const d=[],u=Object.assign(Nt,{defaultVisitor:c,convertValue:s,isVisitable:_t});if(!vt.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!vt.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),vt.forEach(n,(function(n,o){!0===(!(vt.isUndefined(n)||null===n)&&a.call(t,n,vt.isString(o)?o.trim():o,r,u))&&e(n,r?r.concat(o):[o])})),d.pop()}}(e),t};function Dt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Et(e,t){this._pairs=[],e&&Ot(e,this,t)}const Rt=Et.prototype;Rt.append=function(e,t){this._pairs.push([e,t])},Rt.toString=function(e){const t=e?function(t){return e.call(this,t,Dt)}:Dt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Tt=Et;function Pt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function It(e,t,n){if(!t)return e;const r=n&&n.encode||Pt;vt.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let o;if(o=a?a(t,n):vt.isURLSearchParams(t)?t.toString():new Tt(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const Lt=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){vt.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},At={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Mt(e){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(e)}function zt(e){var t=function(e,t){if("object"!==Mt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Mt(t)?t:String(t)}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){var r,a,o;r=e,a=t,o=n[t],(a=zt(a))in r?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ut={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Tt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ht="undefined"!==typeof window&&"undefined"!==typeof document,Wt="object"===typeof navigator&&navigator||void 0,Vt=Ht&&(!Wt||["ReactNative","NativeScript","NS"].indexOf(Wt.product)<0),qt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Yt=Ht&&window.location.href||"http://localhost",$t=Ft(Ft({},r),Ut);const Kt=function(e){function t(e,n,r,a){let o=e[a++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),l=a>=e.length;if(o=!o&&vt.isArray(r)?r.length:o,l)return vt.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!i;r[o]&&vt.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],a)&&vt.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let o;for(r=0;r<a;r++)o=n[r],t[o]=e[o];return t}(r[o])),!i}if(vt.isFormData(e)&&vt.isFunction(e.entries)){const n={};return vt.forEachEntry(e,((e,r)=>{t(function(e){return vt.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const Qt={transitional:At,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=vt.isObject(e);a&&vt.isHTMLForm(e)&&(e=new FormData(e));if(vt.isFormData(e))return r?JSON.stringify(Kt(e)):e;if(vt.isArrayBuffer(e)||vt.isBuffer(e)||vt.isStream(e)||vt.isFile(e)||vt.isBlob(e)||vt.isReadableStream(e))return e;if(vt.isArrayBufferView(e))return e.buffer;if(vt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ot(e,new $t.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return $t.isNode&&vt.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=vt.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ot(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(vt.isString(e))try{return(t||JSON.parse)(e),vt.trim(e)}catch(_c){if("SyntaxError"!==_c.name)throw _c}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Qt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(vt.isResponse(e)||vt.isReadableStream(e))return e;if(e&&vt.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(_c){if(n){if("SyntaxError"===_c.name)throw St.from(_c,St.ERR_BAD_RESPONSE,this,null,this.response);throw _c}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};vt.forEach(["delete","get","head","post","put","patch"],(e=>{Qt.headers[e]={}}));const Gt=Qt,Xt=vt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jt=Symbol("internals");function Zt(e){return e&&String(e).trim().toLowerCase()}function en(e){return!1===e||null==e?e:vt.isArray(e)?e.map(en):String(e)}function tn(e,t,n,r,a){return vt.isFunction(r)?r.call(this,t,n):(a&&(t=n),vt.isString(t)?vt.isString(r)?-1!==t.indexOf(r):vt.isRegExp(r)?r.test(t):void 0:void 0)}class nn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Zt(t);if(!a)throw new Error("header name must be a non-empty string");const o=vt.findKey(r,a);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=en(e))}const o=(e,t)=>vt.forEach(e,((e,n)=>a(e,n,t)));if(vt.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(vt.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&Xt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(vt.isObject(e)&&vt.isIterable(e)){let n,r,a={};for(const t of e){if(!vt.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?vt.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Zt(e)){const n=vt.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(vt.isFunction(t))return t.call(this,e,n);if(vt.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zt(e)){const n=vt.findKey(this,e);return!(!n||void 0===this[n]||t&&!tn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Zt(e)){const a=vt.findKey(n,e);!a||t&&!tn(0,n[a],a,t)||(delete n[a],r=!0)}}return vt.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!tn(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return vt.forEach(this,((r,a)=>{const o=vt.findKey(n,a);if(o)return t[o]=en(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(a):String(a).trim();i!==a&&delete t[a],t[i]=en(r),n[i]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return vt.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&vt.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Jt]=this[Jt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Zt(e);t[r]||(!function(e,t){const n=vt.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})}))}(n,e),t[r]=!0)}return vt.isArray(e)?e.forEach(r):r(e),this}}nn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),vt.reduceDescriptors(nn.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),vt.freezeMethods(nn);const rn=nn;function an(e,t){const n=this||Gt,r=t||n,a=rn.from(r.headers);let o=r.data;return vt.forEach(e,(function(e){o=e.call(n,o,a.normalize(),t?t.status:void 0)})),a.normalize(),o}function on(e){return!(!e||!e.__CANCEL__)}function ln(e,t,n){St.call(this,null==e?"canceled":e,St.ERR_CANCELED,t,n),this.name="CanceledError"}vt.inherits(ln,St,{__CANCEL__:!0});const sn=ln;function cn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new St("Request failed with status code "+n.status,[St.ERR_BAD_REQUEST,St.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const dn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,o=0,i=0;return t=void 0!==t?t:1e3,function(l){const s=Date.now(),c=r[i];a||(a=s),n[o]=l,r[o]=s;let d=i,u=0;for(;d!==o;)u+=n[d++],d%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),s-a<t)return;const p=c&&s-c;return p?Math.round(1e3*u/p):void 0}};const un=function(e,t){let n,r,a=0,o=1e3/t;const i=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];t>=o?i(s,e):(n=s,r||(r=setTimeout((()=>{r=null,i(n)}),o-t)))},()=>n&&i(n)]},pn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=dn(50,250);return un((n=>{const o=n.loaded,i=n.lengthComputable?n.total:void 0,l=o-r,s=a(l);r=o;e({loaded:o,total:i,progress:i?o/i:void 0,bytes:l,rate:s||void 0,estimated:s&&i&&o<=i?(i-o)/s:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},fn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},hn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vt.asap((()=>e(...n)))},mn=$t.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$t.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($t.origin),$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent)):()=>!0,gn=$t.hasStandardBrowserEnv?{write(e,t,n,r,a,o){const i=[e+"="+encodeURIComponent(t)];vt.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),vt.isString(r)&&i.push("path="+r),vt.isString(a)&&i.push("domain="+a),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function yn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const xn=e=>e instanceof rn?Ft({},e):e;function vn(e,t){t=t||{};const n={};function r(e,t,n,r){return vt.isPlainObject(e)&&vt.isPlainObject(t)?vt.merge.call({caseless:r},e,t):vt.isPlainObject(t)?vt.merge({},t):vt.isArray(t)?t.slice():t}function a(e,t,n,a){return vt.isUndefined(t)?vt.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function o(e,t){if(!vt.isUndefined(t))return r(void 0,t)}function i(e,t){return vt.isUndefined(t)?vt.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,a,o){return o in t?r(n,a):o in e?r(void 0,n):void 0}const s={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,n)=>a(xn(e),xn(t),0,!0)};return vt.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=s[r]||a,i=o(e[r],t[r],r);vt.isUndefined(i)&&o!==l||(n[r]=i)})),n}const bn=e=>{const t=vn({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:i,headers:l,auth:s}=t;if(t.headers=l=rn.from(l),t.url=It(yn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&l.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),vt.isFormData(r))if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(n=l.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if($t.hasStandardBrowserEnv&&(a&&vt.isFunction(a)&&(a=a(t)),a||!1!==a&&mn(t.url))){const e=o&&i&&gn.read(i);e&&l.set(o,e)}return t},jn="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=bn(e);let a=r.data;const o=rn.from(r.headers).normalize();let i,l,s,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:f}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=rn.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());cn((function(e){t(e),h()}),(function(e){n(e),h()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new St("Request aborted",St.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new St("Network Error",St.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||At;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new St(t,a.clarifyTimeoutError?St.ETIMEDOUT:St.ECONNABORTED,e,m)),m=null},void 0===a&&o.setContentType(null),"setRequestHeader"in m&&vt.forEach(o.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),vt.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),f&&([s,d]=pn(f,!0),m.addEventListener("progress",s)),p&&m.upload&&([l,c]=pn(p),m.upload.addEventListener("progress",l),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new sn(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===$t.protocols.indexOf(y)?n(new St("Unsupported protocol "+y+":",St.ERR_BAD_REQUEST,e)):m.send(a||null)}))},wn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof St?t:new sn(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,a(new St("timeout ".concat(t," of ms exceeded"),St.ETIMEDOUT))}),t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:l}=r;return l.unsubscribe=()=>vt.asap(i),l}};function Sn(e,t){this.v=e,this.k=t}function _n(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,l=i instanceof Sn;Promise.resolve(l?i.v:i).then((function(n){if(l){var s="return"===t?"return":"next";if(!i.k||n.done)return r(s,n);n=e[s](n).value}a(o.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(o,i){var l={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=l:(t=n=l,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function kn(e){return function(){return new _n(e.apply(this,arguments))}}function Cn(e){return new Sn(e,0)}function Nn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise((function(n){n(e[t](r))})),{done:!1,value:new Sn(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function On(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Dn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Dn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Dn=function(e){this.s=e,this.n=e.next},Dn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Dn(e)}_n.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},_n.prototype.next=function(e){return this._invoke("next",e)},_n.prototype.throw=function(e){return this._invoke("throw",e)},_n.prototype.return=function(e){return this._invoke("return",e)};const En=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Rn=function(){var e=kn((function*(e,t){var n,r=!1,a=!1;try{for(var o,i=On(Tn(e));r=!(o=yield Cn(i.next())).done;r=!1){const e=o.value;yield*Nn(On(En(e,t)))}}catch(l){a=!0,n=l}finally{try{r&&null!=i.return&&(yield Cn(i.return()))}finally{if(a)throw n}}}));return function(t,n){return e.apply(this,arguments)}}(),Tn=function(){var e=kn((function*(e){if(e[Symbol.asyncIterator])return void(yield*Nn(On(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Cn(t.read());if(e)break;yield n}}finally{yield Cn(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Pn=(e,t,n,r)=>{const a=Rn(e,t);let o,i=0,l=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return l(),void e.close();let o=r.byteLength;if(n){let e=i+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},In="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ln=In&&"function"===typeof ReadableStream,An=In&&("function"===typeof TextEncoder?(Mn=new TextEncoder,e=>Mn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Mn;const zn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(_c){return!1}},Bn=Ln&&zn((()=>{let e=!1;const t=new Request($t.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Fn=Ln&&zn((()=>vt.isReadableStream(new Response("").body))),Un={stream:Fn&&(e=>e.body)};var Hn;In&&(Hn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Un[e]&&(Un[e]=vt.isFunction(Hn[e])?t=>t[e]():(t,n)=>{throw new St("Response type '".concat(e,"' is not supported"),St.ERR_NOT_SUPPORT,n)})})));const Wn=async(e,t)=>{const n=vt.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(vt.isBlob(e))return e.size;if(vt.isSpecCompliantForm(e)){const t=new Request($t.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return vt.isArrayBufferView(e)||vt.isArrayBuffer(e)?e.byteLength:(vt.isURLSearchParams(e)&&(e+=""),vt.isString(e)?(await An(e)).byteLength:void 0)})(t):n},Vn=In&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:s,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=bn(e);c=c?(c+"").toLowerCase():"text";let f,h=wn([a,o&&o.toAbortSignal()],i);const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(s&&Bn&&"get"!==n&&"head"!==n&&0!==(g=await Wn(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(vt.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=fn(g,pn(hn(s)));r=Pn(n.body,65536,e,t)}}vt.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,Ft(Ft({},p),{},{signal:h,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:a?u:void 0}));let o=await fetch(f);const i=Fn&&("stream"===c||"response"===c);if(Fn&&(l||i&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=vt.toFiniteNumber(o.headers.get("content-length")),[n,r]=l&&fn(t,pn(hn(l),!0))||[];o=new Response(Pn(o.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await Un[vt.findKey(Un,c)||"text"](o,e);return!i&&m&&m(),await new Promise(((t,n)=>{cn(t,n,{data:y,headers:rn.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:f})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new St("Network Error",St.ERR_NETWORK,e,f),{cause:y.cause||y});throw St.from(y,y&&y.code,e,f)}}),qn={http:null,xhr:jn,fetch:Vn};vt.forEach(qn,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(_c){}Object.defineProperty(e,"adapterName",{value:t})}}));const Yn=e=>"- ".concat(e),$n=e=>vt.isFunction(e)||null===e||!1===e,Kn=e=>{e=vt.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!$n(n)&&(r=qn[(t=String(n)).toLowerCase()],void 0===r))throw new St("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+o]=r}if(!r){const e=Object.entries(a).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Yn).join("\n"):" "+Yn(e[0]):"as no adapter specified";throw new St("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Qn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new sn(null,e)}function Gn(e){Qn(e),e.headers=rn.from(e.headers),e.data=an.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Kn(e.adapter||Gt.adapter)(e).then((function(t){return Qn(e),t.data=an.call(e,e.transformResponse,t),t.headers=rn.from(t.headers),t}),(function(t){return on(t)||(Qn(e),t&&t.response&&(t.response.data=an.call(e,e.transformResponse,t.response),t.response.headers=rn.from(t.response.headers))),Promise.reject(t)}))}const Xn="1.9.0",Jn={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Jn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Zn={};Jn.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,o)=>{if(!1===e)throw new St(r(a," has been removed"+(t?" in "+t:"")),St.ERR_DEPRECATED);return t&&!Zn[a]&&(Zn[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,o)}},Jn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const er={assertOptions:function(e,t,n){if("object"!==typeof e)throw new St("options must be an object",St.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const o=r[a],i=t[o];if(i){const t=e[o],n=void 0===t||i(t,o,e);if(!0!==n)throw new St("option "+o+" must be "+n,St.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new St("Unknown option "+o,St.ERR_BAD_OPTION)}},validators:Jn},tr=er.validators;class nr{constructor(e){this.defaults=e||{},this.interceptors={request:new Lt,response:new Lt}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(_c){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=vn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&er.assertOptions(n,{silentJSONParsing:tr.transitional(tr.boolean),forcedJSONParsing:tr.transitional(tr.boolean),clarifyTimeoutError:tr.transitional(tr.boolean)},!1),null!=r&&(vt.isFunction(r)?t.paramsSerializer={serialize:r}:er.assertOptions(r,{encode:tr.function,serialize:tr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),er.assertOptions(t,{baseUrl:tr.spelling("baseURL"),withXsrfToken:tr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&vt.merge(a.common,a[t.method]);a&&vt.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=rn.concat(o,a);const i=[];let l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const s=[];let c;this.interceptors.response.forEach((function(e){s.push(e.fulfilled,e.rejected)}));let d,u=0;if(!l){const e=[Gn.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,s),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let p=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{p=e(p)}catch(f){t.call(this,f);break}}try{c=Gn.call(this,p)}catch(f){return Promise.reject(f)}for(u=0,d=s.length;u<d;)c=c.then(s[u++],s[u++]);return c}getUri(e){return It(yn((e=vn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}vt.forEach(["delete","get","head","options"],(function(e){nr.prototype[e]=function(t,n){return this.request(vn(n||{},{method:e,url:t,data:(n||{}).data}))}})),vt.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(vn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}nr.prototype[e]=t(),nr.prototype[e+"Form"]=t(!0)}));const rr=nr;class ar{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,a){n.reason||(n.reason=new sn(e,r,a),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ar((function(t){e=t})),cancel:e}}}const or=ar;const ir={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ir).forEach((e=>{let[t,n]=e;ir[n]=t}));const lr=ir;const sr=function e(t){const n=new rr(t),r=Ie(rr.prototype.request,n);return vt.extend(r,rr.prototype,n,{allOwnKeys:!0}),vt.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(vn(t,n))},r}(Gt);sr.Axios=rr,sr.CanceledError=sn,sr.CancelToken=or,sr.isCancel=on,sr.VERSION=Xn,sr.toFormData=Ot,sr.AxiosError=St,sr.Cancel=sr.CanceledError,sr.all=function(e){return Promise.all(e)},sr.spread=function(e){return function(t){return e.apply(null,t)}},sr.isAxiosError=function(e){return vt.isObject(e)&&!0===e.isAxiosError},sr.mergeConfig=vn,sr.AxiosHeaders=rn,sr.formToJSON=e=>Kt(vt.isHTMLForm(e)?new FormData(e):e),sr.getAdapter=Kn,sr.HttpStatusCode=lr,sr.default=sr;const cr=sr,dr=async e=>{try{cr.post("https://meddocai.p-e.kr:8000/api/logs/create/",e),console.log("\ub85c\uadf8 \uc800\uc7a5 \uc131\uacf5")}catch(t){console.error("\ub85c\uadf8 \uc800\uc7a5 \uc2e4\ud328:",t)}};var ur=n(579);const pr=e=>{let{orderId:t,onClose:n}=e;const r=re(),[a,i]=(0,o.useState)({}),[l,s]=(0,o.useState)(""),[c,d]=(0,o.useState)(""),[u,p]=(0,o.useState)(""),[f,h]=(0,o.useState)([]),[m,g]=(0,o.useState)(""),{orderId:y}=function(){let{matches:e}=o.useContext(J),t=e[e.length-1];return t?t.params:{}}(),[x,v]=(0,o.useState)(t||y||""),[b,j]=(0,o.useState)(""),[w]=(0,o.useState)("collected");(0,o.useEffect)((()=>{y&&v(y)}),[y]),(0,o.useEffect)((()=>{cr.get("".concat("https://meddocai.p-e.kr/api/","samples/alias-mapping")).then((e=>{console.log("\u2705 aliasMappings \ubd88\ub7ec\uc624\uae30 \uc131\uacf5:",e.data),i(e.data)})).catch((e=>console.error("\u274c aliasMappings \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e)))}),[]),(0,o.useEffect)((()=>{l&&u&&cr.get("".concat("https://meddocai.p-e.kr/api/","samples/test-types-by-alias/"),{params:{sample_type:u,alias_name:l}}).then((e=>{console.log("\ud83e\uddea test_type \ubaa9\ub85d:",e.data),h(e.data)})).catch((e=>{console.error("\u274c test_type \ubaa9\ub85d \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e)}))}),[l,u]),(0,o.useEffect)((()=>{c&&u&&(console.log("\ud83d\udce6 LOINC \ub9e4\ud551 \uc694\uccad:",{sample_type:u,test_type:c}),cr.get("".concat("https://meddocai.p-e.kr/api/","samples/loinc-by-sample-type"),{params:{sample_type:u,test_type:c}}).then((e=>{console.log("\u2705 LOINC \ub9e4\ud551 \uc751\ub2f5:",e.data);const t=e.data.find((e=>e.test_type===c));j((null===t||void 0===t?void 0:t.loinc_code)||""),d((null===t||void 0===t?void 0:t.test_type)||c)})).catch((e=>{console.error("\u274c LOINC \ucf54\ub4dc \ub9e4\ud551 \uc2e4\ud328:",e)})))}),[c,u]);return(0,ur.jsx)("div",{className:"form-page-wrapper",children:(0,ur.jsxs)("div",{className:"form-card",children:[(0,ur.jsx)("h2",{className:"form-title",children:"\ud83d\udc89 \uc0d8\ud50c \ub4f1\ub85d"}),(0,ur.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={order:parseInt(x),sample_type:u,test_type:l,collection_date:m,loinc_code:b,sample_status:w};console.log("\ud83d\udce6 \ubcf4\ub0bc payload:",t);try{const e=await cr.post("".concat("https://meddocai.p-e.kr/api/","samples/create"),t,{headers:{"Content-Type":"application/json"}});alert("\u2705 \uc0d8\ud50c \ub4f1\ub85d \uc131\uacf5!"),console.log("\ud83c\udf89 \ub4f1\ub85d\ub41c \uc0d8\ud50c:",e.data);const n=(await cr.get("".concat("https://meddocai.p-e.kr/api/","orders/").concat(x,"/"))).data,a=n.patient_id||"UNKNOWN",o=n.doctor_id||"UNKNOWN";await dr({patient_id:a,doctor_id:o,order_id:x,sample_id:e.data.id,step:"sample",request_detail:"\uc0d8\ud50c: ".concat(l,", \uc138\ubd80: ").concat(c,", LOINC: ").concat(b)}),r("/lis/samples")}catch(a){var n;console.error("\u274c \uc0d8\ud50c \ub4f1\ub85d \uc2e4\ud328:",a),alert("\uc0d8\ud50c \ub4f1\ub85d \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),null!==(n=a.response)&&void 0!==n&&n.data&&console.log("\ud83d\udca1 \ubc31\uc5d4\ub4dc \uc624\ub958 \uc751\ub2f5 \ub0b4\uc6a9:",a.response.data)}},children:[(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{children:"\ud83e\uddfe \uc624\ub354 ID"}),(0,ur.jsx)("input",{type:"text",value:x,onChange:e=>v(e.target.value),placeholder:"Order ID",required:!0})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{children:"\ud83d\udcc5 \ucc44\ucde8\uc77c\uc2dc"}),(0,ur.jsx)("input",{type:"datetime-local",value:m,onChange:e=>g(e.target.value),required:!0})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{children:"\ud83e\uddea \uac80\uccb4 \uc885\ub958"}),(0,ur.jsxs)("select",{value:u,onChange:e=>{p(e.target.value),s("")},required:!0,children:[(0,ur.jsx)("option",{value:"",children:"Sample Type \uc120\ud0dd"}),Object.keys(a).map((e=>(0,ur.jsx)("option",{value:e,children:e},e)))]})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{children:"\ud83d\udcc1 \uac80\uc0ac \uc885\ub958"}),(0,ur.jsxs)("select",{value:l,onChange:e=>s(e.target.value),required:!0,children:[(0,ur.jsx)("option",{value:"",children:"Test Type \uc120\ud0dd"}),u&&Object.keys(a[u]||{}).map((e=>(0,ur.jsx)("option",{value:e,children:e},e)))]})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{children:"\ud83d\udcc2 \uc138\ubd80 \uac80\uc0ac"}),(0,ur.jsxs)("select",{value:c,onChange:e=>d(e.target.value),required:!0,children:[(0,ur.jsx)("option",{value:"",children:"Detail Type \uc120\ud0dd"}),f.map(((e,t)=>(0,ur.jsx)("option",{value:e,children:e},t)))]})]}),(0,ur.jsxs)("div",{className:"form-loinc",children:["\ud83d\udd0d \uc790\ub3d9 \ub9e4\ud551\ub41c LOINC \ucf54\ub4dc: ",(0,ur.jsx)("strong",{children:b||"\uc5c6\uc74c"})]}),(0,ur.jsx)("div",{className:"form-footer",children:(0,ur.jsx)("button",{type:"submit",children:"\uc0d8\ud50c \ub4f1\ub85d"})})]})]})})},fr=e=>{let{onClick:t}=e;const[n,r]=(0,o.useState)(0),a=async()=>{const e="https://meddocai.p-e.kr/api/".replace(/\/$/,"");try{const t=await cr.get("".concat(e,"/integration/alerts/urgent/count/"));r(t.data.count)}catch(t){r(0)}};return(0,o.useEffect)((()=>{a();const e=setInterval(a,1e4);return()=>clearInterval(e)}),[]),(0,ur.jsxs)("div",{className:"notification-bell",style:{position:"relative",cursor:"pointer"},onClick:t,children:[(0,ur.jsx)("span",{style:{fontSize:"1.5rem"},children:"\ud83d\udd14"}),n>0&&(0,ur.jsx)("span",{style:{position:"absolute",top:-4,right:-4,background:"red",color:"white",borderRadius:"50%",padding:"2px 6px",fontSize:"0.75rem"},children:n})]})};var hr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mr=o.createContext&&o.createContext(hr),gr=["attr","size","title"];function yr(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xr(){return xr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xr.apply(this,arguments)}function vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function br(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vr(Object(n),!0).forEach((function(t){jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wr(e){return e&&e.map(((e,t)=>o.createElement(e.tag,br({key:t},e.attr),wr(e.child))))}function Sr(e){return t=>o.createElement(_r,xr({attr:br({},e.attr)},t),wr(e.child))}function _r(e){var t=t=>{var n,{attr:r,size:a,title:i}=e,l=yr(e,gr),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),o.createElement("svg",xr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:n,style:br(br({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),e.children)};return void 0!==mr?o.createElement(mr.Consumer,null,(e=>t(e))):t(hr)}function kr(e){return Sr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function Cr(e){return Sr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function Nr(e){return Sr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Or(e){return Sr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(e)}function Dr(e){return Sr({tag:"svg",attr:{viewBox:"0 0 480 512"},child:[{tag:"path",attr:{d:"M477.7 186.1L309.5 18.3c-3.1-3.1-8.2-3.1-11.3 0l-34 33.9c-3.1 3.1-3.1 8.2 0 11.3l11.2 11.1L33 316.5c-38.8 38.7-45.1 102-9.4 143.5 20.6 24 49.5 36 78.4 35.9 26.4 0 52.8-10 72.9-30.1l246.3-245.7 11.2 11.1c3.1 3.1 8.2 3.1 11.3 0l34-33.9c3.1-3 3.1-8.1 0-11.2zM318 256H161l148-147.7 78.5 78.3L318 256z"},child:[]}]})(e)}const Er=()=>{const e=re(),t=te(),n=[{name:"\uc624\ub354 \ubaa9\ub85d \ud655\uc778",path:"/lis/orders",icon:(0,ur.jsx)(Cr,{})},{name:"\uc0d8\ud50c \uc0dd\uc131\ud558\uae30",path:"/lis/sample/new",icon:(0,ur.jsx)(Dr,{})},{name:"\uc0d8\ud50c \ubaa9\ub85d \ud655\uc778",path:"/lis/samples",icon:(0,ur.jsx)(Or,{})},{name:"\uacb0\uacfc \uae30\ub85d\ud558\uae30",path:"/lis/result/new",icon:(0,ur.jsx)(Nr,{})},{name:"\uacb0\uacfc \ubaa9\ub85d \ud655\uc778",path:"/lis/result-list",icon:(0,ur.jsx)(kr,{})}],r=e=>t.pathname===e;return(0,ur.jsxs)("aside",{style:{width:"270px",backgroundColor:"#ffffff",height:"100vh",borderRight:"1px solid #e5e7eb",display:"flex",flexDirection:"column",padding:"1.5rem 1rem",boxSizing:"border-box"},children:[(0,ur.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,ur.jsx)("h1",{style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",marginBottom:"0.25rem"}}),(0,ur.jsx)("div",{style:{fontSize:"14px",color:"#6b7280"},children:"1\uc870 \uba54\ub514\uceec"})]}),(0,ur.jsx)("div",{style:{textAlign:"left",marginBottom:"1.5rem"},children:(0,ur.jsx)(fr,{})}),(0,ur.jsx)("nav",{style:{flex:1},children:(0,ur.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:n.map((t=>(0,ur.jsxs)("li",{onClick:()=>e(t.path),style:{display:"flex",alignItems:"center",padding:"0.75rem 1rem",marginBottom:"0.5rem",borderRadius:"8px",cursor:"pointer",backgroundColor:r(t.path)?"#e0f2fe":"transparent",color:r(t.path)?"#2563eb":"#374151",fontWeight:r(t.path)?"600":"500",transition:"background-color 0.2s"},onMouseEnter:e=>{r(t.path)||(e.target.style.backgroundColor="#f3f4f6")},onMouseLeave:e=>{r(t.path)||(e.target.style.backgroundColor="transparent")},children:[(0,ur.jsx)("span",{style:{marginRight:"0.75rem",fontSize:"16px"},children:t.icon}),t.name]},t.path)))})}),(0,ur.jsx)("footer",{style:{fontSize:"12px",color:"#9ca3af",marginTop:"auto",paddingTop:"2rem"},children:"\ubcd1\uc6d0 \uc2dc\uc2a4\ud15c \uc0c1\ud0dc: \uc815\uc0c1 \uc6b4\uc601 \uc911"})]})},Rr=()=>(0,ur.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#f3f4f6",overflowX:"hidden"},children:[(0,ur.jsxs)("header",{style:{width:"100%",height:"64px",backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 2rem",boxShadow:"0 1px 4px rgba(0,0,0,0.05)",position:"sticky",top:0,zIndex:10,boxSizing:"border-box"},children:[(0,ur.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,ur.jsx)("span",{role:"img","aria-label":"icon",style:{fontSize:"24px",marginRight:"0.6rem"},children:"\ud83e\uddea"}),(0,ur.jsx)("span",{style:{fontSize:"20px",fontWeight:600,color:"#1f2937"},children:"LIS \uc2dc\uc2a4\ud15c"})]}),(0,ur.jsx)("div",{style:{fontSize:"14px",color:"#6b7280"},children:"1\uc870 \uba54\ub514\uceec"})]}),(0,ur.jsxs)("div",{style:{display:"flex",width:"100%",boxSizing:"border-box"},children:[(0,ur.jsx)(Er,{}),(0,ur.jsx)("main",{style:{flex:1,padding:"2rem",backgroundColor:"#f3f4f6",minHeight:"calc(100vh - 64px)",overflowX:"auto",boxSizing:"border-box"},children:(0,ur.jsx)("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.06)",padding:"2rem",width:"100%",boxSizing:"border-box"},children:(0,ur.jsx)(ve,{})})})]})]}),Tr=()=>{const[e,t]=(0,o.useState)([]),n=re(),[r,a]=(0,o.useState)(""),[i,l]=(0,o.useState)(""),[s,c]=(0,o.useState)(""),[d,u]=(0,o.useState)(""),[p]=(0,o.useState)((new Date).toISOString().slice(0,16));(0,o.useEffect)((()=>{cr.get("".concat("https://meddocai.p-e.kr/api/","samples/alias-mapping/")).then((e=>{const n=e.data,r=[];Object.entries(n).forEach((e=>{let[t,n]=e;Object.keys(n).forEach((e=>{r.push(e)}))})),t(r)})).catch((e=>{console.error("\u274c alias \ubaa9\ub85d \ub85c\ub529 \uc2e4\ud328:",e)}))}),[]);return(0,ur.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t={patient_id:i,doctor_id:s,test_type:r,order_date:new Date(p).toISOString()};console.log("\ubcf4\ub0b4\ub294 payload:",t);try{const e=await cr.post("".concat("https://meddocai.p-e.kr/api/","orders/create/"),t);alert("\u2705 \uc8fc\ubb38 \uc0dd\uc131 \uc131\uacf5!"),console.log("Created:",e.data),await dr({patient_id:i,doctor_id:s,order_id:e.data.id,step:"order",request_detail:"\uac80\uc0ac: ".concat(r,", \ub0a0\uc9dc: ").concat(p)}),n("/lis/orders")}catch(o){var a;alert("\u274c \uc8fc\ubb38 \uc0dd\uc131 \uc2e4\ud328"),console.error(o),null!==(a=o.response)&&void 0!==a&&a.data&&console.log("\ud83d\udca1 \ubc31\uc5d4\ub4dc \uc624\ub958 \uc751\ub2f5 \ub0b4\uc6a9:",o.response.data)}},style:{padding:"2rem"},children:[(0,ur.jsx)("h2",{children:"\ud83d\udcdd \uc624\ub354 \uc0dd\uc131"}),(0,ur.jsx)("label",{children:"\ud83d\udc64 \ud658\uc790 ID"}),(0,ur.jsx)("br",{}),(0,ur.jsx)("input",{value:i,onChange:e=>l(e.target.value),required:!0}),(0,ur.jsx)("br",{}),(0,ur.jsx)("label",{children:"\ud83e\uddd1\u200d\u2695\ufe0f \uc758\uc0ac ID"}),(0,ur.jsx)("br",{}),(0,ur.jsx)("input",{value:s,onChange:e=>c(e.target.value),required:!0}),(0,ur.jsx)("br",{}),(0,ur.jsx)("label",{children:"\ud83d\udd2c \uac80\uc0ac \uc885\ub958"}),(0,ur.jsx)("br",{}),(0,ur.jsxs)("select",{value:r,onChange:e=>a(e.target.value),required:!0,children:[(0,ur.jsx)("option",{value:"",children:"Test Type \uc120\ud0dd"}),e.map((e=>(0,ur.jsx)("option",{value:e,children:e},e)))]}),(0,ur.jsx)("br",{}),(0,ur.jsx)("label",{children:"\ud83d\udd52 \uc8fc\ubb38 \ub0a0\uc9dc"}),(0,ur.jsx)("br",{}),(0,ur.jsx)("input",{type:"datetime-local",value:d,onChange:e=>u(e.target.value),required:!0}),(0,ur.jsx)("br",{}),(0,ur.jsx)("br",{}),(0,ur.jsx)("button",{type:"submit",children:"\uc0dd\uc131\ud558\uae30"})]})},Pr=e=>{let{isOpen:t,onClose:n,children:r}=e;return t?(0,ur.jsx)("div",{className:"slide-panel-overlay",children:(0,ur.jsxs)("div",{className:"slide-panel",children:[(0,ur.jsx)("button",{className:"slide-close-btn",onClick:n,children:"\u2716 \ub2eb\uae30"}),r]})}):null},Ir=()=>{re();const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)([]),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)(!1),[c,d]=(0,o.useState)(null),[u,p]=(0,o.useState)(!1),[f,h]=(0,o.useState)((()=>new Date((new Date).toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0]));(0,o.useEffect)((()=>{console.log("\ud83d\udd0d \uc120\ud0dd\ub41c \ub0a0\uc9dc:",f),console.log("\ud83c\udf10 API Base URL:","https://meddocai.p-e.kr/api/"),(async()=>{try{const e=await cr.get("".concat("https://meddocai.p-e.kr/api/","orders/"));console.log("\ud83d\udce5 Orders API \uc751\ub2f5:",e.data);const n=e.data.data||e.data||[];console.log("\ud83d\udccb \uc8fc\ubb38 \ubc30\uc5f4:",n);const r=n.filter((e=>{var t;return(null===(t=e.order_date)||void 0===t?void 0:t.slice(0,10))===f}));t(r),console.log("\ud83d\udccb \ud544\ud130\ub41c \uc8fc\ubb38 \ubaa9\ub85d:",r)}catch(e){console.error("\u274c \uc624\ub354 \ubaa9\ub85d \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e),console.error("\ud83c\udf10 \uc694\uccad URL:","".concat("https://meddocai.p-e.kr/api/","orders/")),e.response&&(console.error("\ud83d\udcc4 \uc751\ub2f5 \ub370\uc774\ud130:",e.response.data),console.error("\ud83d\udcca \uc751\ub2f5 \uc0c1\ud0dc:",e.response.status))}})(),(async()=>{try{const e=await cr.get("".concat("https://meddocai.p-e.kr/api/","samples/"));r(e.data)}catch(e){console.error("\uc0d8\ud50c \ubaa9\ub85d \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e)}})()}),[f]);const m=e.filter((e=>e.order_id.toString().includes(a)));return(0,ur.jsxs)("div",{className:"order-page-container",children:[(0,ur.jsxs)("div",{className:"order-header",children:[(0,ur.jsx)("h2",{children:"\ud83d\uddc2 \uc624\ub354 \ubaa9\ub85d"}),(0,ur.jsx)("button",{onClick:async()=>{try{console.log("\ud83d\udd04 \uc218\ub3d9 \uc0c8\ub85c\uace0\uce68 \uc2dc\uc791...");const e=await cr.get("".concat("https://meddocai.p-e.kr/api/","orders/"));console.log("\ud83d\udce5 \uc0c8\ub85c\uace0\uce68 \uc751\ub2f5:",e.data);const n=(e.data.data||e.data||[]).filter((e=>{var t;return(null===(t=e.order_date)||void 0===t?void 0:t.slice(0,10))===f}));t(n),alert("\u2705 \uc0c8\ub85c\uace0\uce68 \uc644\ub8cc! ".concat(n.length,"\uac1c \uc8fc\ubb38 \ud45c\uc2dc\uc911"))}catch(e){console.error("\u274c \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",e),alert("\u274c \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328")}},children:"\ud83d\udd04 \uc0c8\ub85c\uace0\uce68"})]}),(0,ur.jsxs)("div",{className:"order-controls",children:[(0,ur.jsxs)("label",{children:["\ub0a0\uc9dc \uc120\ud0dd:",(0,ur.jsx)("input",{type:"date",value:f,onChange:e=>h(e.target.value)})]}),(0,ur.jsxs)("label",{children:["\ud83d\udd0d Order ID \uac80\uc0c9:",(0,ur.jsx)("input",{type:"text",placeholder:"\uc624\ub354 ID \uc785\ub825",value:a,onChange:e=>i(e.target.value)})]})]}),(0,ur.jsx)("div",{className:"debug-toggle",children:(0,ur.jsxs)("span",{onClick:()=>s(!l),className:"debug-icon",children:[(0,ur.jsx)("span",{style:{fontSize:"18px",marginRight:"6px"},children:"\u2139\ufe0f"}),"\ub514\ubc84\uadf8 \uc815\ubcf4 ",l?"\uc228\uae30\uae30":"\ubcf4\uae30"]})}),l&&(0,ur.jsxs)("div",{className:"order-debug",children:[(0,ur.jsxs)("div",{children:["API URL: ","https://meddocai.p-e.kr/api/","orders/"]}),(0,ur.jsxs)("div",{children:["\uc120\ud0dd\ub41c \ub0a0\uc9dc: ",f]}),(0,ur.jsxs)("div",{children:["\uc804\uccb4 \uc8fc\ubb38 \uc218: ",e.length]}),(0,ur.jsxs)("div",{children:["\ud45c\uc2dc\ub41c \uc8fc\ubb38 \uc218: ",m.length]})]}),(0,ur.jsx)("div",{className:"order-table-wrapper",children:(0,ur.jsxs)("table",{className:"order-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{children:"\uc624\ub354 ID"}),(0,ur.jsx)("th",{children:"\ud658\uc790 ID"}),(0,ur.jsx)("th",{children:"\uc758\uc0ac ID"}),(0,ur.jsx)("th",{children:"\uac80\uc0ac \ud0c0\uc785"}),(0,ur.jsx)("th",{children:"\uc624\ub354 \ub0a0\uc9dc"}),(0,ur.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,ur.jsx)("th",{children:"\uc0d8\ud50c \ub4f1\ub85d"})]})}),(0,ur.jsxs)("tbody",{children:[m.map((e=>{var t;const r=n.some((t=>Number(t.order)===Number(e.order_id)));return(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:e.order_id}),(0,ur.jsx)("td",{children:e.patient_id}),(0,ur.jsx)("td",{children:e.doctor_id}),(0,ur.jsx)("td",{children:e.panel}),(0,ur.jsx)("td",{children:null===(t=e.order_date)||void 0===t?void 0:t.slice(0,10)}),(0,ur.jsx)("td",{children:(0,ur.jsx)("span",{className:r?"status-chip registered":"status-chip pending",children:r?"\uc0d8\ud50c \ub4f1\ub85d\ub428":"\uc0d8\ud50c \ubbf8\ub4f1\ub85d"})}),(0,ur.jsx)("td",{children:(0,ur.jsx)("button",{className:"sample-button",onClick:()=>{d(e.order_id),p(!0)},children:"\u2795 \uc0d8\ud50c \ub4f1\ub85d"})})]},e.order_id)})),0===m.length&&(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"7",className:"no-orders",children:"\ud45c\uc2dc\ud560 \uc624\ub354\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})]})}),(0,ur.jsx)(Pr,{isOpen:u,onClose:()=>p(!1),children:(0,ur.jsx)(pr,{orderId:c})})]})},Lr={CBC:["WBC","RBC","Hemoglobin","Hematocrit","MCV","MCH","MCHC","Platelets"],LFT:["ALT","AST","ALP","GGT","Total Bilirubin","Direct Bilirubin","Albumin","Total Protein"],RFT:["BUN","Creatinine","eGFR","Uric Acid","Sodium","Potassium","Chloride"],"Lipid Panel":["Total Cholesterol","HDL Cholesterol","LDL Cholesterol","Triglycerides"],"Electrolyte Panel":["Sodium","Potassium","Chloride","Bicarbonate"],"Thyroid Panel":["TSH","Free T4","T3"],"Coagulation Panel":["PT","INR","aPTT","Fibrinogen"],Glucose:["Fasting Blood Glucose","HbA1c"]},Ar={WBC:"10^3/uL",RBC:"10^6/uL",Hemoglobin:"g/dL",Hematocrit:"%",MCV:"fL",MCH:"pg",MCHC:"g/dL",Platelets:"10^3/uL",ALT:"U/L",AST:"U/L",ALP:"U/L",GGT:"U/L","Total Bilirubin":"mg/dL","Direct Bilirubin":"mg/dL",Albumin:"g/dL","Total Protein":"g/dL",BUN:"mg/dL",Creatinine:"mg/dL",eGFR:"mL/min/1.73m^2","Uric Acid":"mg/dL",Sodium:"mmol/L",Potassium:"mmol/L",Chloride:"mmol/L","Total Cholesterol":"mg/dL","HDL Cholesterol":"mg/dL","LDL Cholesterol":"mg/dL",Triglycerides:"mg/dL",Bicarbonate:"mmol/L",TSH:"uIU/mL","Free T4":"ng/dL",T3:"ng/dL",PT:"sec",INR:"",aPTT:"sec",Fibrinogen:"mg/dL","Fasting Blood Glucose":"mg/dL",HbA1c:"%"},Mr=e=>{let{sampleId:t,onClose:n}=e;re();const[r,a]=(0,o.useState)(""),[i,l]=(0,o.useState)({}),[s,c]=(0,o.useState)(""),[d,u]=(0,o.useState)([]);(0,o.useEffect)((()=>{cr.get("".concat("https://meddocai.p-e.kr/api/","samples/")).then((e=>{const t=e.data.filter((e=>"deleted"!==e.sample_status));u(t)})).catch((e=>console.error("\uc0d8\ud50c \ubaa9\ub85d \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e)))}),[]),(0,o.useEffect)((()=>{s&&cr.get("".concat("https://meddocai.p-e.kr/api/","samples/get/").concat(s)).then((e=>{const t=e.data.test_type;t&&Lr[t]?a(t):a("")})).catch((e=>{console.error("\uc0d8\ud50c \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e),a("")}))}),[s]);return(0,ur.jsxs)("div",{className:"result-form-container",children:[(0,ur.jsx)("h2",{children:"\ud83e\uddea \uacb0\uacfc \uc785\ub825"}),(0,ur.jsx)("label",{className:"sample-select-label",children:"\uc0d8\ud50c \uc120\ud0dd"}),!t&&(0,ur.jsxs)("select",{value:s,onChange:e=>c(e.target.value),className:"sample-select",children:[(0,ur.jsx)("option",{value:"",children:"\uc0d8\ud50c\uc744 \uc120\ud0dd\ud558\uc138\uc694"}),d.map((e=>(0,ur.jsx)("option",{value:e.id,children:"ID ".concat(e.id," - ").concat(e.test_type)},e.id)))]}),r&&(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsxs)("h3",{className:"panel-title",children:[r," \ud56d\ubaa9 \uc785\ub825"]}),Lr[r].map((e=>(0,ur.jsxs)("div",{className:"result-row",children:[(0,ur.jsxs)("label",{className:"result-label",children:[e," (",Ar[e]||"-",")"]}),(0,ur.jsx)("input",{type:"text",value:i[e]||"",onChange:t=>((e,t)=>{l((n=>Ft(Ft({},n),{},{[e]:t})))})(e,t.target.value),className:"result-input",placeholder:"\uac12 \uc785\ub825",required:!0})]},e))),(0,ur.jsx)("button",{onClick:async()=>{const e=Object.entries(i);if((Lr[r]||[]).every((e=>{var t;return null===(t=i[e])||void 0===t?void 0:t.trim()})))try{const n=(await cr.get("".concat("https://meddocai.p-e.kr/api/","cdss/results/"))).data.some((e=>String(e.sample)===String(s)));if(n)return void alert("\u26a0 \uc774\ubbf8 CDSS\ub85c \uc804\uc1a1\ub41c \uc0d8\ud50c\uc785\ub2c8\ub2e4. \uacb0\uacfc\ub97c \ub2e4\uc2dc \ub4f1\ub85d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");await Promise.all(e.map((e=>{let[t,n]=e;return cr.post("".concat("https://meddocai.p-e.kr/api/","tests/run"),{sample:s,test_type:r,component_name:t,result_value:n,result_unit:Ar[t]||"",verified_by:1,verified_date:(new Date).toISOString()})}))),await Promise.all(e.map((e=>{let[t,n]=e;const a={sample:s,test_type:r,component_name:t,value:n,unit:Ar[t]||"",verified_by:1,verified_date:(new Date).toISOString()};return console.log("CDSS \uc804\uc1a1 payload \ud655\uc778:"),cr.post("".concat("https://meddocai.p-e.kr/api/","cdss/receive/"),a).catch((e=>{var t;throw console.log("CDSS POST error:",null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data),e}))})));try{const t=(await cr.get("".concat("https://meddocai.p-e.kr/api/","logs/"))).data.find((e=>{var t;return(null===(t=e.sample_status)||void 0===t?void 0:t.toString())===(null===s||void 0===s?void 0:s.toString())&&"sample"===e.step})),n=(null===t||void 0===t?void 0:t.patient_id)||"UNKNOWN",r=(null===t||void 0===t?void 0:t.doctor_id)||"UNKNOWN",a=e.map((e=>{let[t,n]=e;return"".concat(t,": ").concat(n," ").concat(Ar[t]||"")})).join(", ");await dr({patient_id:n,doctor_id:r,sample:s,step:"result",result_detail:a})}catch(t){console.warn("\u2757 \ub85c\uadf8 \uc800\uc7a5 \uc911 \uc624\ub958:",t)}alert("\ubaa8\ub4e0 \uacb0\uacfc\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d \ubc0f CDSS \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(n){console.error("\ub4f1\ub85d \ub610\ub294 \uc804\uc1a1 \uc2e4\ud328:",n),alert("\uc77c\ubd80 \ub610\ub294 \uc804\uccb4 \uacb0\uacfc \ub4f1\ub85d \uc2e4\ud328")}else alert("\u2757 \ubaa8\ub4e0 \uac80\uc0ac \ud56d\ubaa9\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.")},className:"submit-button",children:"\uacb0\uacfc \ub4f1\ub85d"})]})]})},zr="https://meddocai.p-e.kr/api/",Br=()=>{re();const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)([]),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)((new Date).toISOString().split("T")[0]),[c,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(null),[f,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(null);(0,o.useEffect)((()=>{(async()=>{try{const e=(await cr.get("".concat(zr,"samples/"))).data.sort(((e,t)=>new Date(t.collection_date)-new Date(e.collection_date)));t(e)}catch(n){var e;console.error("\uc0d8\ud50c \ubaa9\ub85d \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",n),null!==(e=n.response)&&void 0!==e&&e.data&&console.log("\ud83d\udca1 \ubc31\uc5d4\ub4dc \uc624\ub958 \uc751\ub2f5 \ub0b4\uc6a9:",n.response.data)}})(),(async()=>{try{const e=(await cr.get("".concat(zr,"cdss/results/"))).data.map((e=>e.sample));r(e)}catch(t){var e;console.error("CDSS \uacb0\uacfc \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",t),null!==(e=t.response)&&void 0!==e&&e.data&&console.log("\ud83d\udca1 \ubc31\uc5d4\ub4dc \uc624\ub958 \uc751\ub2f5 \ub0b4\uc6a9:",t.response.data)}})()}),[]);const y=e.filter((e=>{var t;return null===(t=e.collection_date)||void 0===t?void 0:t.startsWith(l)})).filter((e=>e.id.toString().includes(a)));return(0,ur.jsxs)("div",{className:"sample-wrapper",children:[(0,ur.jsxs)("div",{className:"sample-container",children:[(0,ur.jsx)("h2",{className:"sample-title",children:"\ud83e\uddea \uc0d8\ud50c \ubaa9\ub85d"}),(0,ur.jsxs)("div",{className:"sample-filter",children:[(0,ur.jsxs)("div",{className:"filter-item",children:[(0,ur.jsx)("label",{children:"\ud83d\udcc5 \ub0a0\uc9dc \uc120\ud0dd:"}),(0,ur.jsx)("input",{type:"date",value:l,onChange:e=>s(e.target.value)})]}),(0,ur.jsxs)("div",{className:"filter-item",children:[(0,ur.jsx)("label",{children:"\ud83d\udd0d Sample ID \uac80\uc0c9:"}),(0,ur.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"\uc0d8\ud50c ID \uc785\ub825"})]})]}),(0,ur.jsx)("div",{className:"sample-table-wrapper",children:(0,ur.jsxs)("table",{className:"sample-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{children:"\uc0d8\ud50c ID"}),(0,ur.jsx)("th",{children:"\uc624\ub354 ID"}),(0,ur.jsx)("th",{children:"\uac80\uccb4 \uc885\ub958"}),(0,ur.jsx)("th",{children:"\uac80\uc0ac \ud56d\ubaa9"}),(0,ur.jsx)("th",{children:"LOINC \ucf54\ub4dc"}),(0,ur.jsx)("th",{children:"\ucc44\ucde8\uc77c\uc2dc"}),(0,ur.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,ur.jsx)("th",{children:"\uacb0\uacfc \uc0c1\ud0dc"}),(0,ur.jsx)("th",{children:"\uacb0\uacfc \ub4f1\ub85d"}),(0,ur.jsx)("th",{children:"\uc0ad\uc81c"})]})}),(0,ur.jsxs)("tbody",{children:[y.map((e=>{const t=n.includes(e.id);return(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:e.id}),(0,ur.jsx)("td",{children:e.order}),(0,ur.jsx)("td",{children:e.sample_type}),(0,ur.jsx)("td",{children:e.test_type}),(0,ur.jsx)("td",{children:e.loinc_code}),(0,ur.jsx)("td",{children:(r=e.collection_date,new Date(r).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}))}),(0,ur.jsx)("td",{children:(0,ur.jsx)("span",{className:"status-badge",children:e.sample_status})}),(0,ur.jsx)("td",{children:(0,ur.jsx)("span",{className:t?"badge-done":"badge-processing",children:t?"\uac80\uc0ac \uc644\ub8cc":"\uac80\uc0ac \uc911"})}),(0,ur.jsx)("td",{children:(0,ur.jsx)("button",{onClick:()=>(async e=>{try{var t,n,r;const a={patient_id:(null===(t=e.order)||void 0===t?void 0:t.patient_id)||"UNKNOWN",doctor_id:(null===(n=e.order)||void 0===n?void 0:n.doctor_id)||"UNKNOWN",order_id:(null===(r=e.order)||void 0===r?void 0:r.order_id)||e.order,sample_id:e.id,step:"result",result_detail:"".concat(e.test_type||"\uae30\ud0c0"," \uacb0\uacfc \ub4f1\ub85d")};console.log("\ubcf4\ub0b4\ub294 \ub85c\uadf8:",a),await cr.post("".concat(zr,"logs/create/"),a),console.log("\u2705 \ub85c\uadf8 \uc800\uc7a5 \uc131\uacf5"),p(e.id),d(!0)}catch(o){var a;console.error("\u274c \ub85c\uadf8 \uc800\uc7a5 \uc2e4\ud328:",(null===(a=o.response)||void 0===a?void 0:a.data)||o.message)}})(e),disabled:t,className:t?"button-disabled":"button-register",children:t?"\ub4f1\ub85d \uc644\ub8cc":"\uacb0\uacfc \ub4f1\ub85d"})}),(0,ur.jsx)("td",{children:(0,ur.jsx)("button",{onClick:()=>{return t=e.id,g(t),void h(!0);var t},className:"button-delete",children:"\uc0ad\uc81c"})})]},e.id);var r})),0===y.length&&(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"10",className:"no-data",children:"\ud45c\uc2dc\ud560 \uc0d8\ud50c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})]})})]}),f&&(0,ur.jsx)("div",{className:"modal-overlay",children:(0,ur.jsxs)("div",{className:"modal",children:[(0,ur.jsxs)("p",{children:["\uc0d8\ud50c ID ",m,"\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"]}),(0,ur.jsxs)("div",{className:"modal-buttons",children:[(0,ur.jsx)("button",{onClick:async()=>{try{await cr.delete("".concat(zr,"samples/delete/").concat(m)),t((e=>e.filter((e=>e.id!==m)))),h(!1),g(null)}catch(e){console.error("\uc0ad\uc81c \uc2e4\ud328:",e),alert("\uc0d8\ud50c \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},className:"btn-confirm",children:"\uc0ad\uc81c"}),(0,ur.jsx)("button",{onClick:()=>h(!1),className:"btn-cancel",children:"\ucde8\uc18c"})]})]})}),(0,ur.jsx)(Pr,{isOpen:c,onClose:()=>d(!1),children:(0,ur.jsx)(Mr,{sampleId:u,onClose:()=>d(!1)})})]})},Fr=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)([]),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)((()=>(new Date).toISOString().slice(0,10))),[c,d]=(0,o.useState)(""),[u,p]=(0,o.useState)(""),[f,h]=(0,o.useState)({}),m=(0,o.useCallback)((async()=>{try{const e=await cr.get("".concat("https://meddocai.p-e.kr/api/","cdss/results/"));t(e.data),d("")}catch(e){console.error("CDSS \uacb0\uacfc \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e),e.response&&console.log("\uc11c\ubc84 \uc751\ub2f5 \ub0b4\uc6a9:",e.response.data),d("\uacb0\uacfc\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),t([])}}),[]);(0,o.useEffect)((()=>{m()}),[l,m]);const g=e.filter((e=>{var t;return(!l||(null===(t=e.verified_date)||void 0===t?void 0:t.slice(0,10))===l)&&(!a||String(e.sample)===String(a))&&(!u||String(e.sample).includes(u))})),y=g.reduce(((e,t)=>(e[t.sample]=e[t.sample]||[],e[t.sample].push(t),e)),{});(0,o.useEffect)((()=>{const t=[...new Set(e.filter((e=>{var t;return(null===(t=e.verified_date)||void 0===t?void 0:t.slice(0,10))===l})).map((e=>e.sample)))];r(t)}),[e,l]);return(0,ur.jsxs)("div",{className:"result-cdss-wrapper",children:[(0,ur.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\ud83d\udcca CDSS \uac80\uc0ac \uacb0\uacfc"}),c&&(0,ur.jsx)("p",{className:"text-red-500 font-semibold mb-4",children:c}),(0,ur.jsxs)("div",{className:"filter-bar",children:[(0,ur.jsxs)("label",{children:["\uc2dc\uc791 \ub0a0\uc9dc:",(0,ur.jsx)("input",{type:"date",value:l,onChange:e=>{s(e.target.value),i(""),p("")}})]}),(0,ur.jsxs)("label",{children:["\ud83d\udd0d Sample ID \uac80\uc0c9:",(0,ur.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"\uc0d8\ud50c ID \uc785\ub825"})]}),(0,ur.jsxs)("label",{children:["\ud83d\udd0d Sample ID \uc120\ud0dd:",(0,ur.jsxs)("select",{value:a,onChange:e=>i(e.target.value),children:[(0,ur.jsx)("option",{value:"",children:"\uc804\uccb4 \ubcf4\uae30"}),n.map((e=>(0,ur.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,ur.jsx)("div",{className:"overflow-x-auto",children:(0,ur.jsxs)("table",{className:"result-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{children:"Sample ID"}),(0,ur.jsx)("th",{children:"Test Type"}),(0,ur.jsx)("th",{children:"Component"}),(0,ur.jsx)("th",{children:"Value"}),(0,ur.jsx)("th",{children:"Unit"}),(0,ur.jsx)("th",{children:"Verified By"}),(0,ur.jsx)("th",{children:"Verified Date"}),(0,ur.jsx)("th",{children:"Prediction"})]})}),(0,ur.jsx)("tbody",{children:0===Object.keys(y).length?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"8",className:"empty-message",children:"\ud574\ub2f9 \uc0d8\ud50c ID\uc5d0 \ub300\ud55c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}):Object.keys(y).map((e=>(0,ur.jsxs)(o.Fragment,{children:[(0,ur.jsx)("tr",{className:"group-header",children:(0,ur.jsxs)("td",{colSpan:"8",children:[(0,ur.jsxs)("span",{className:"group-toggle-btn",onClick:()=>{return t=e,void h((e=>Ft(Ft({},e),{},{[t]:!e[t]})));var t},children:[f[e]?"\u25bc":"\u25b6"," \uc0d8\ud50c ID: ",e]}),(0,ur.jsx)("span",{className:"group-delete-btn",onClick:()=>(async e=>{if(console.log("\uc0ad\uc81c \uc694\uccad sampleId:",e),window.confirm("\uc0d8\ud50c ID ".concat(e,"\uc758 \uacb0\uacfc \uc804\uccb4\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")))try{await cr.delete("".concat("https://meddocai.p-e.kr/api/","cdss/delete/").concat(e)),alert("\u2705 \ud574\ub2f9 \uc0d8\ud50c \uacb0\uacfc \uc804\uccb4\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),m()}catch(t){console.error("\u274c \uc0ad\uc81c \uc2e4\ud328(\uc5d0\ub7ec \uac1d\uccb4):",t),t.response&&console.error("\u274c \uc0ad\uc81c \uc2e4\ud328(\uc751\ub2f5 data):",t.response.data),alert("\uc0ad\uc81c \uc2e4\ud328")}})(e),children:"\uc804\uccb4 \uc0ad\uc81c"})]})}),f[e]&&y[e].map(((e,t)=>(0,ur.jsxs)("tr",{className:"text-center bg-white",children:[(0,ur.jsx)("td",{children:e.sample}),(0,ur.jsx)("td",{children:e.test_type}),(0,ur.jsx)("td",{children:e.component_name}),(0,ur.jsx)("td",{children:e.value}),(0,ur.jsx)("td",{children:e.unit}),(0,ur.jsx)("td",{children:e.verified_by}),(0,ur.jsx)("td",{children:new Date(e.verified_date).toLocaleString()}),(0,ur.jsx)("td",{})]},e.id||t)))]},e)))})]})})]})};function Ur(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Hr=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Wr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var Vr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qr=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Yr=(0,o.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:s,iconNode:c}=e,d=Ur(e,qr);return(0,o.createElement)("svg",Ft(Ft(Ft({ref:t},Vr),{},{width:r,height:r,stroke:n,strokeWidth:i?24*Number(a)/Number(r):a,className:Wr("lucide",l)},!s&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map((e=>{let[t,n]=e;return(0,o.createElement)(t,n)})),...Array.isArray(s)?s:[s]])})),$r=["className"],Kr=(e,t)=>{const n=(0,o.forwardRef)(((n,r)=>{let{className:a}=n,i=Ur(n,$r);return(0,o.createElement)(Yr,Ft({ref:r,iconNode:t,className:Wr("lucide-".concat((l=Hr(e),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},i));var l}));return n.displayName=Hr(e),n},Qr=Kr("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Gr=Kr("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),Xr=Kr("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Jr=Kr("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zr=Kr("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ea=Kr("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ta=Kr("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),na=()=>{var e,t,n,r;const[a,i]=(0,o.useState)([]),[l,s]=(0,o.useState)(!1),[c,d]=(0,o.useState)(null),[u,p]=(0,o.useState)(""),[f,h]=(0,o.useState)(null),[m,g]=(0,o.useState)(null),[y,x]=(0,o.useState)([]),[v,b]=(0,o.useState)(1),[j,w]=(0,o.useState)(0),S="https://meddocai.p-e.kr/api/";console.log("\ud83c\udf10 API_BASE_URL:",S);const _=async()=>{try{s(!0),console.log("\ud83d\udd0d \uc5f0\uacb0 \ud14c\uc2a4\ud2b8 \uc2dc\uc791...");const e=await cr.get("".concat(S,"integration/test-connections/"));g(e.data),console.log("\u2705 \uc5f0\uacb0 \ud14c\uc2a4\ud2b8 \uacb0\uacfc:",e.data)}catch(e){console.error("\u274c \uc5f0\uacb0 \ud14c\uc2a4\ud2b8 \uc2e4\ud328:",e),d("\uc11c\ubc84 \uc5f0\uacb0\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{s(!1)}},k=async()=>{try{s(!0),d(null),console.log("\ud83d\udccb \uc804\uccb4 \ud658\uc790 \ubaa9\ub85d \uc870\ud68c \uc2dc\uc791...");const e=20*(v-1),t="".concat(S,"integration/openmrs/patients/?limit=").concat(20,"&startIndex=").concat(e);console.log("\ud83c\udf10 Django API \ud638\ucd9c:",t);const n=await cr.get(t,{timeout:3e4,headers:{"Content-Type":"application/json"}});if(console.log("\ud83d\udce5 Django API \uc751\ub2f5:",n.data),!n.data.results)throw new Error("\uc751\ub2f5 \ub370\uc774\ud130 \ud615\uc2dd\uc774 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");i(n.data.results),x(n.data.results),w(n.data.totalCount||n.data.total||n.data.results.length),console.log("\u2705 \ud658\uc790 \ubaa9\ub85d \uc870\ud68c \uc131\uacf5: ".concat(n.data.results.length,"\uba85"))}catch(t){var e;if(console.error("\u274c \ud658\uc790 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328:",t),t.response)console.error("\uc751\ub2f5 \uc0c1\ud0dc:",t.response.status),console.error("\uc751\ub2f5 \ub370\uc774\ud130:",t.response.data),d("\ud658\uc790 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328: ".concat((null===(e=t.response.data)||void 0===e?void 0:e.error)||t.response.statusText));else t.request?(console.error("\uc694\uccad \uc2e4\ud328:",t.request),d("\uc11c\ubc84\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.")):(console.error("\uc624\ub958:",t.message),d("\ud658\uc790 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328: ".concat(t.message)));i([]),x([])}finally{s(!1)}};(0,o.useEffect)((()=>{const e=setTimeout((()=>{u.trim()?async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(e.trim())try{s(!0),d(null),console.log("\ud83d\udd0d \ud658\uc790 \uac80\uc0c9:",e);const t=await cr.get("".concat(S,"integration/openmrs/patients/search/"),{params:{q:e},timeout:15e3});console.log("\ud83d\udd0d \uac80\uc0c9 \uacb0\uacfc:",t.data),x(t.data.results||[])}catch(r){var t,n;console.error("\u274c \ud658\uc790 \uac80\uc0c9 \uc2e4\ud328:",r),d("\ud658\uc790 \uac80\uc0c9 \uc2e4\ud328: ".concat((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message)),x([])}finally{s(!1)}else x(a)}(u):x(a)}),500);return()=>clearTimeout(e)}),[u,a]),(0,o.useEffect)((()=>{_(),k()}),[v]);const C=e=>{if(!e)return"\uc54c \uc218 \uc5c6\uc74c";try{const t=new Date,n=new Date(e),r=t.getFullYear()-n.getFullYear(),a=t.getMonth()-n.getMonth();return a<0||0===a&&t.getDate()<n.getDate()?r-1:r}catch(t){return"\uc54c \uc218 \uc5c6\uc74c"}},N=e=>"M"===e?"\ub0a8\uc131":"F"===e?"\uc5ec\uc131":"\uc54c \uc218 \uc5c6\uc74c",O=e=>{b(e)},D=()=>{b(1),p(""),d(null),k()},E=Math.ceil(j/20);return(0,ur.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,ur.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,ur.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,ur.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ur.jsxs)("div",{children:[(0,ur.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\ud83d\udc65 OpenMRS \ud658\uc790 \ubaa9\ub85d"}),(0,ur.jsx)("p",{className:"text-gray-600",children:j>0?(0,ur.jsxs)(ur.Fragment,{children:["\ucd1d ",j,"\uba85\uc758 \ud658\uc790 (\ud398\uc774\uc9c0 ",v,"/",E,")"]}):"\ud658\uc790 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."})]}),(0,ur.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ur.jsxs)("button",{onClick:_,disabled:l,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,ur.jsx)(Qr,{className:"w-4 h-4 mr-2 ".concat(l?"animate-spin":"")}),"\uc5f0\uacb0 \ud14c\uc2a4\ud2b8"]}),(0,ur.jsxs)("button",{onClick:D,disabled:l,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,ur.jsx)(Qr,{className:"w-4 h-4 mr-2 ".concat(l?"animate-spin":"")}),"\uc0c8\ub85c\uace0\uce68"]}),m&&(0,ur.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ur.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(null!==(e=m.connections)&&void 0!==e&&e.openmrs?"bg-green-500":"bg-red-500")}),(0,ur.jsxs)("span",{className:"text-sm font-medium ".concat(null!==(t=m.connections)&&void 0!==t&&t.openmrs?"text-green-700":"text-red-700"),children:["OpenMRS ",null!==(n=m.connections)&&void 0!==n&&n.openmrs?"\uc5f0\uacb0\ub428":"\uc5f0\uacb0 \uc2e4\ud328"]})]})]})]})}),(0,ur.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[(0,ur.jsxs)("div",{className:"relative",children:[(0,ur.jsx)(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,ur.jsx)("input",{type:"text",placeholder:"\ud658\uc790 \uc774\ub984, ID, \ub610\ub294 \uae30\ud0c0 \uc815\ubcf4\ub85c \uac80\uc0c9...",value:u,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l&&(0,ur.jsxs)("div",{className:"flex items-center justify-center mt-4",children:[(0,ur.jsx)(Xr,{className:"w-6 h-6 animate-spin text-blue-600"}),(0,ur.jsx)("span",{className:"ml-2 text-gray-600",children:u?"\uac80\uc0c9 \uc911...":"\ud658\uc790 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."})]})]}),c&&(0,ur.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:(0,ur.jsxs)("div",{className:"flex items-start",children:[(0,ur.jsx)(Jr,{className:"w-5 h-5 text-red-600 mr-2 mt-0.5"}),(0,ur.jsxs)("div",{className:"flex-1",children:[(0,ur.jsx)("span",{className:"text-red-700 font-medium",children:"\uc624\ub958 \ubc1c\uc0dd"}),(0,ur.jsx)("p",{className:"text-red-600 mt-1",children:c}),(0,ur.jsxs)("div",{className:"mt-2 text-sm text-red-600",children:["\ud574\uacb0 \ubc29\ubc95:",(0,ur.jsxs)("ul",{className:"list-disc list-inside mt-1",children:[(0,ur.jsx)("li",{children:"Django \ubc31\uc5d4\ub4dc \uc11c\ubc84\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778"}),(0,ur.jsx)("li",{children:"OpenMRS \uc11c\ubc84\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778"}),(0,ur.jsx)("li",{children:"\ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0 \uc0c1\ud0dc \ud655\uc778"})]})]})]}),(0,ur.jsx)("button",{onClick:()=>d(null),className:"text-red-600 hover:text-red-800 ml-2",children:"\u2715"})]})}),(0,ur.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,ur.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,ur.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ur.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["\ud658\uc790 \ubaa9\ub85d (",y.length,"\uba85)"]})}),(0,ur.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0!==y.length||l?(0,ur.jsx)("div",{className:"divide-y divide-gray-200",children:y.map((e=>(0,ur.jsx)("div",{onClick:()=>(async e=>{try{s(!0);const t=await cr.get("".concat(S,"integration/openmrs/patients/").concat(e,"/"));h(t.data),console.log("\ud83d\udc64 \ud658\uc790 \uc0c1\uc138 \uc815\ubcf4:",t.data)}catch(r){var t,n;console.error("\u274c \ud658\uc790 \uc815\ubcf4 \uc870\ud68c \uc2e4\ud328:",r),d("\ud658\uc790 \uc815\ubcf4 \uc870\ud68c \uc2e4\ud328: ".concat((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message))}finally{s(!1)}})(e.uuid),className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors ".concat((null===f||void 0===f?void 0:f.uuid)===e.uuid?"bg-blue-50 border-l-4 border-blue-500":""),children:(0,ur.jsxs)("div",{className:"flex items-start justify-between",children:[(0,ur.jsxs)("div",{className:"flex-1",children:[(0,ur.jsx)("h3",{className:"font-semibold text-gray-900",children:e.display||e.name||"\uc774\ub984 \uc5c6\uc74c"}),(0,ur.jsxs)("div",{className:"mt-1 space-y-1",children:[(0,ur.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,ur.jsx)("span",{className:"font-medium",children:"ID:"})," ",e.identifier||"N/A"]}),(0,ur.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,ur.jsx)("span",{className:"font-medium",children:"\uc131\ubcc4:"})," ",N(e.gender)]}),(0,ur.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,ur.jsx)("span",{className:"font-medium",children:"\ub098\uc774:"})," ",C(e.birthdate),"\uc138"]}),e.birthdate&&(0,ur.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,ur.jsx)("span",{className:"font-medium",children:"\uc0dd\ub144\uc6d4\uc77c:"})," ",e.birthdate.split("T")[0]]})]})]}),(0,ur.jsx)("div",{className:"text-xs text-gray-400",children:"\ud074\ub9ad\ud558\uc5ec \uc0c1\uc138\ubcf4\uae30"})]})},e.uuid)))}):(0,ur.jsxs)("div",{className:"p-6 text-center text-gray-500",children:[(0,ur.jsx)(Zr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,ur.jsx)("p",{children:u?"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ud658\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),!u&&(0,ur.jsx)("button",{onClick:D,className:"mt-2 text-blue-600 hover:text-blue-800",children:"\ub2e4\uc2dc \uc2dc\ub3c4"})]})}),E>1&&(0,ur.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,ur.jsxs)("div",{className:"flex items-center justify-between",children:[(0,ur.jsx)("button",{onClick:()=>O(v-1),disabled:1===v||l,className:"px-3 py-1 text-sm bg-gray-100 rounded disabled:opacity-50 hover:bg-gray-200",children:"\uc774\uc804"}),(0,ur.jsxs)("span",{className:"text-sm text-gray-600",children:[v," / ",E]}),(0,ur.jsx)("button",{onClick:()=>O(v+1),disabled:v===E||l,className:"px-3 py-1 text-sm bg-gray-100 rounded disabled:opacity-50 hover:bg-gray-200",children:"\ub2e4\uc74c"})]})})]}),(0,ur.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,ur.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,ur.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\ud658\uc790 \uc0c1\uc138 \uc815\ubcf4"})}),(0,ur.jsx)("div",{className:"p-6",children:f?(0,ur.jsxs)("div",{className:"space-y-6",children:[(0,ur.jsxs)("div",{children:[(0,ur.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"\uae30\ubcf8 \uc815\ubcf4"}),(0,ur.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[(0,ur.jsxs)("div",{className:"flex items-center",children:[(0,ur.jsx)(Zr,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,ur.jsxs)("div",{children:[(0,ur.jsx)("p",{className:"font-medium text-gray-900",children:f.name}),(0,ur.jsx)("p",{className:"text-sm text-gray-600",children:"\ud658\uc790\uba85"})]})]}),(0,ur.jsxs)("div",{className:"flex items-center",children:[(0,ur.jsx)(ea,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,ur.jsxs)("div",{children:[(0,ur.jsxs)("p",{className:"font-medium text-gray-900",children:[null===(r=f.birthdate)||void 0===r?void 0:r.split("T")[0]," (",C(f.birthdate),"\uc138)"]}),(0,ur.jsx)("p",{className:"text-sm text-gray-600",children:"\uc0dd\ub144\uc6d4\uc77c"})]})]}),(0,ur.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,ur.jsxs)("div",{children:[(0,ur.jsx)("p",{className:"text-sm text-gray-600",children:"\uc131\ubcc4"}),(0,ur.jsx)("p",{className:"font-medium",children:N(f.gender)})]}),(0,ur.jsxs)("div",{children:[(0,ur.jsx)("p",{className:"text-sm text-gray-600",children:"\ud658\uc790 ID"}),(0,ur.jsx)("p",{className:"font-medium",children:f.identifier||"N/A"})]})]})]})]}),f.identifiers&&f.identifiers.length>0&&(0,ur.jsxs)("div",{children:[(0,ur.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"\uc2dd\ubcc4\uc790"}),(0,ur.jsx)("div",{className:"space-y-2",children:f.identifiers.map(((e,t)=>(0,ur.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,ur.jsxs)("div",{className:"flex justify-between",children:[(0,ur.jsx)("span",{className:"font-medium",children:e.identifier}),(0,ur.jsx)("span",{className:"text-sm text-gray-600",children:e.identifierType})]})},t)))})]}),f.addresses&&f.addresses.length>0&&(0,ur.jsxs)("div",{children:[(0,ur.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"\uc8fc\uc18c"}),(0,ur.jsx)("div",{className:"space-y-2",children:f.addresses.map(((e,t)=>(0,ur.jsx)("div",{className:"bg-gray-50 rounded-lg p-3",children:(0,ur.jsxs)("div",{className:"flex items-start",children:[(0,ur.jsx)(ta,{className:"w-4 h-4 text-gray-400 mr-2 mt-1"}),(0,ur.jsxs)("div",{children:[(0,ur.jsx)("p",{className:"font-medium",children:[e.address1,e.address2].filter(Boolean).join(", ")}),(0,ur.jsx)("p",{className:"text-sm text-gray-600",children:[e.cityVillage,e.stateProvince,e.country].filter(Boolean).join(", ")}),e.postalCode&&(0,ur.jsxs)("p",{className:"text-sm text-gray-600",children:["\uc6b0\ud3b8\ubc88\ud638: ",e.postalCode]})]})]})},t)))})]}),(0,ur.jsx)("div",{className:"border-t pt-4",children:(0,ur.jsxs)("p",{className:"text-xs text-gray-500",children:["UUID: ",f.uuid]})})]}):(0,ur.jsxs)("div",{className:"text-center text-gray-500",children:[(0,ur.jsx)(Zr,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,ur.jsx)("p",{children:"\ud658\uc790\ub97c \uc120\ud0dd\ud558\uba74 \uc0c1\uc138 \uc815\ubcf4\uac00 \ud45c\uc2dc\ub429\ub2c8\ub2e4."})]})})]})]})]})})};function ra(){const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)([]),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)(""),[c,d]=(0,o.useState)((()=>{const e=new Date,t=new Date(e);return t.setDate(e.getDate()-7),t.toISOString().slice(0,10)})),[u,p]=(0,o.useState)((()=>(new Date).toISOString().slice(0,10))),[f,h]=(0,o.useState)(1),[m]=(0,o.useState)(10),[g,y]=(0,o.useState)(0),[x,v]=(0,o.useState)({lis:!1,ris:!1}),[b,j]=(0,o.useState)(null),[w,S]=(0,o.useState)(""),_="https://meddocai.p-e.kr/api/".replace(/\/$/,""),k=(0,o.useCallback)((async()=>{v((e=>Ft(Ft({},e),{},{lis:!0})));try{const e={page:f,page_size:m,start_date:c,end_date:u,order_type:"LIS"};a&&(e.patient_id=a),l&&(e.doctor_id=l),w&&(e.test_type=w);const n=await cr.get("".concat(_,"/orders/logs/"),{params:e});t(n.data.data||[]),y(n.data.total)}catch(e){console.error("LIS \ub85c\uadf8 \uc870\ud68c \uc2e4\ud328:",e),j("\uc9c4\ub2e8\uac80\uc0ac \ub85c\uadf8\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{v((e=>Ft(Ft({},e),{},{lis:!1})))}}),[f,m,a,l,w,c,u,_]),C=(0,o.useCallback)((async()=>{v((e=>Ft(Ft({},e),{},{ris:!0})));try{const e=await cr.get("".concat(_,"/worklist/"));r(e.data.data||[])}catch(e){console.error("RIS \ub85c\uadf8 \uc870\ud68c \uc2e4\ud328:",e),j("\uc601\uc0c1\uc758\ud559 \ub85c\uadf8\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{v((e=>Ft(Ft({},e),{},{ris:!1})))}}),[_]);(0,o.useEffect)((()=>{k()}),[k]),(0,o.useEffect)((()=>{C()}),[C]),(0,o.useEffect)((()=>{const e=new BroadcastChannel("order_channel");return e.onmessage=e=>{"newOrderCreated"===e.data&&(console.log('\ud83d\udce2 "newOrderCreated" \uc2e0\ud638 \uc218\uc2e0! RIS \ubaa9\ub85d\ub9cc \uc0c8\ub85c\uace0\uce68\ud569\ub2c8\ub2e4.'),C())},()=>{e.close()}}),[C]);const N=e=>{if(!e)return"-";try{return new Date(e).toLocaleString("ko-KR",{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}catch(_c){return e}},O=e=>"status-badge status-".concat((null===e||void 0===e?void 0:e.toLowerCase())||"unknown");return(0,ur.jsxs)("div",{className:"ocs-log-container",children:[(0,ur.jsx)("div",{className:"ocs-footer",children:(0,ur.jsx)("button",{className:"btn-secondary",onClick:()=>window.location.href="/settings",children:"\u2190 \uc124\uc815\uc73c\ub85c \ub3cc\uc544\uac00\uae30"})}),(0,ur.jsxs)("h2",{className:"ocs-log-title",children:[(0,ur.jsx)("span",{role:"img","aria-label":"log-icon",style:{marginRight:"10px"},children:"\ud83d\udccb"}),"\uc624\ub354 \ub85c\uadf8 \uc870\ud68c"]}),(0,ur.jsxs)("div",{className:"ocs-filter-box",children:[(0,ur.jsxs)("div",{className:"filter-group",children:[(0,ur.jsxs)("div",{className:"filter-item",children:[(0,ur.jsx)("label",{htmlFor:"start-date",children:"\uc2dc\uc791 \ub0a0\uc9dc"}),(0,ur.jsx)("input",{id:"start-date",type:"date",value:c,onChange:e=>d(e.target.value)})]}),(0,ur.jsxs)("div",{className:"filter-item",children:[(0,ur.jsx)("label",{htmlFor:"end-date",children:"\ub9c8\uc9c0\ub9c9 \ub0a0\uc9dc"}),(0,ur.jsx)("input",{id:"end-date",type:"date",value:u,onChange:e=>p(e.target.value)})]})]}),(0,ur.jsx)("div",{className:"filter-group",children:(0,ur.jsxs)("div",{className:"filter-item",children:[(0,ur.jsx)("label",{htmlFor:"test-type",children:"\uac80\uc0ac \ud0c0\uc785"}),(0,ur.jsx)("input",{id:"test-type",type:"text",placeholder:"\uc608: CBC, RFT, CR \ub4f1",value:w,onChange:e=>S(e.target.value)})]})}),(0,ur.jsxs)("div",{className:"filter-group",children:[(0,ur.jsxs)("div",{className:"filter-item",children:[(0,ur.jsx)("label",{htmlFor:"patient-id",children:"\ud658\uc790 ID"}),(0,ur.jsx)("input",{id:"patient-id",type:"text",placeholder:"\ud658\uc790 UUID \uc785\ub825",value:a,onChange:e=>i(e.target.value)})]}),(0,ur.jsxs)("div",{className:"filter-item",children:[(0,ur.jsx)("label",{htmlFor:"doctor-id",children:"\uc758\uc0ac ID"}),(0,ur.jsx)("input",{id:"doctor-id",type:"text",placeholder:"\uc758\uc0ac ID \uc785\ub825",value:l,onChange:e=>s(e.target.value)})]})]}),(0,ur.jsxs)("div",{className:"filter-actions",children:[(0,ur.jsx)("button",{className:"btn-primary",onClick:()=>{h(1)},disabled:x.lis||x.ris,children:"\ud83d\udd0d \uac80\uc0c9"}),(0,ur.jsx)("button",{className:"btn-secondary",onClick:()=>{i(""),s(""),S("");const e=new Date,t=new Date(e);t.setDate(t.getDate()-7),d(t.toISOString().slice(0,10)),p(e.toISOString().slice(0,10)),h(1)},disabled:x.lis||x.ris,children:"\ud83d\udd04 \ucd08\uae30\ud654"})]})]}),(0,ur.jsxs)("div",{className:"ocs-table-container",children:[(0,ur.jsx)("h3",{children:"\ud83e\uddea \uc9c4\ub2e8\uac80\uc0ac \ub85c\uadf8 (LIS)"}),(0,ur.jsxs)("table",{className:"ocs-log-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{children:"No."}),(0,ur.jsx)("th",{children:"\ud658\uc790 ID"}),(0,ur.jsx)("th",{children:"\uc758\uc0ac ID"}),(0,ur.jsx)("th",{children:"\uac80\uc0ac \ud0c0\uc785"}),(0,ur.jsx)("th",{children:"\uac80\uc0ac \ud56d\ubaa9"}),(0,ur.jsx)("th",{children:"\uc624\ub354 \ub0a0\uc9dc"}),(0,ur.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,ur.jsx)("th",{children:"\uc0dd\uc131 \uc2dc\uac01"})]})}),(0,ur.jsx)("tbody",{children:x.lis?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"8",className:"message-cell",children:"\ub85c\ub529 \uc911..."})}):b?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"8",className:"message-cell error",children:b})}):0===e.length?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"8",className:"message-cell",children:"LIS \ub85c\uadf8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}):e.map((e=>(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:e.order_id}),(0,ur.jsx)("td",{children:e.patient_id}),(0,ur.jsx)("td",{children:e.doctor_id}),(0,ur.jsx)("td",{children:e.panel}),(0,ur.jsx)("td",{children:Array.isArray(e.tests)?e.tests.join(", "):e.tests}),(0,ur.jsx)("td",{children:e.order_date}),(0,ur.jsx)("td",{children:(0,ur.jsx)("span",{className:O(e.status),children:e.status})}),(0,ur.jsx)("td",{children:N(e.created_at)})]},"lis-".concat(e.order_id))))})]})]}),(0,ur.jsxs)("div",{className:"ocs-table-container",style:{marginTop:"40px"},children:[(0,ur.jsx)("h3",{children:"\ud83d\uddbc\ufe0f \uc601\uc0c1\uc758\ud559 \uac80\uc0ac \ub85c\uadf8 (RIS)"}),(0,ur.jsxs)("table",{className:"ocs-log-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{children:"No."}),(0,ur.jsx)("th",{children:"\ud658\uc790 ID"}),(0,ur.jsx)("th",{children:"\uc694\uccad\uc758\uc0ac"}),(0,ur.jsx)("th",{children:"\uac80\uc0ac\ubd80\uc704"}),(0,ur.jsx)("th",{children:"\ubaa8\ub2ec\ub9ac\ud2f0"}),(0,ur.jsx)("th",{children:"\uac80\uc0ac\uc124\uba85"}),(0,ur.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,ur.jsx)("th",{children:"\uc0dd\uc131 \uc2dc\uac01"})]})}),(0,ur.jsx)("tbody",{children:x.ris?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"8",className:"message-cell",children:"\ub85c\ub529 \uc911..."})}):b?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"8",className:"message-cell error",children:b})}):0===n.length?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:"8",className:"message-cell",children:"RIS \ub85c\uadf8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}):n.map((e=>(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:e.order_id}),(0,ur.jsx)("td",{children:e.patient_id}),(0,ur.jsx)("td",{children:e.doctor_id}),(0,ur.jsx)("td",{children:e.body_part||"-"}),(0,ur.jsx)("td",{children:e.panel}),(0,ur.jsx)("td",{children:Array.isArray(e.tests)?e.tests.join(", "):e.tests}),(0,ur.jsx)("td",{children:(0,ur.jsx)("span",{className:O(e.status),children:e.status})}),(0,ur.jsx)("td",{children:N(e.created_at)})]},"ris-".concat(e.order_id))))})]})]}),g>-1&&(0,ur.jsxs)("div",{className:"ocs-pagination",children:[(0,ur.jsx)("button",{onClick:()=>f>1&&h((e=>e-1)),disabled:1===f||x.lis,children:"\uc774\uc804"}),(0,ur.jsxs)("span",{children:[" Page ",f," / ",Math.ceil(g/m)," "]}),(0,ur.jsx)("button",{onClick:()=>{const e=Math.ceil(g/m);f<e&&h((e=>e+1))},disabled:f>=Math.ceil(g/m)||x.lis,children:"\ub2e4\uc74c"})]}),(0,ur.jsx)("footer",{className:"ocs-footer",children:(0,ur.jsxs)("p",{children:["\xa9 2025 \uba54\ub514\uc2dc\uc2a4. \ubaa8\ub4e0 \uad8c\ub9ac \ubcf4\uc720. |",(0,ur.jsx)("a",{href:"#/privacy",children:" \uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68"})," |",(0,ur.jsx)("a",{href:"#/terms",children:" \uc774\uc6a9\uc57d\uad00"})]})})]})}const aa=function(e){let{onLoginSuccess:t}=e;const[n,r]=(0,o.useState)(""),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)(""),[c,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(""),[f,h]=(0,o.useState)(!1);return(0,ur.jsxs)("div",{className:"medisys-login-card",children:[(0,ur.jsxs)("div",{className:"medisys-login-header",children:[(0,ur.jsx)("h3",{className:"medisys-login-title",children:"\ub85c\uadf8\uc778"}),(0,ur.jsx)("p",{className:"medisys-login-subtitle",children:"\uc758\ub8cc\uc9c4 \uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778\ud558\uc138\uc694"})]}),(0,ur.jsxs)("div",{className:"medisys-login-form",children:[(0,ur.jsxs)("div",{className:"medisys-input-group",children:[(0,ur.jsx)("label",{className:"medisys-label",children:"\uc758\ub8cc\uc9c4 ID"}),(0,ur.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"\uc758\ub8cc\uc9c4 ID\ub97c \uc785\ub825\ud558\uc138\uc694",className:"medisys-input"})]}),(0,ur.jsxs)("div",{className:"medisys-input-group",children:[(0,ur.jsx)("label",{className:"medisys-label",children:"\ube44\ubc00\ubc88\ud638"}),(0,ur.jsx)("input",{type:"password",value:a,onChange:e=>i(e.target.value),placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",className:"medisys-input"})]}),(0,ur.jsxs)("div",{className:"medisys-input-group",children:[(0,ur.jsx)("label",{className:"medisys-label",children:"\uc778\uc99d \ucf54\ub4dc"}),(0,ur.jsx)("input",{type:"text",value:l,onChange:e=>s(e.target.value),placeholder:"\uc778\uc99d \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694",className:"medisys-input"})]}),(0,ur.jsxs)("div",{className:"medisys-checkbox-group",children:[(0,ur.jsxs)("label",{className:"medisys-checkbox-label",children:[(0,ur.jsx)("input",{type:"checkbox",checked:c,onChange:e=>d(e.target.checked),className:"medisys-checkbox"}),"\uc790\ub3d9 \ub85c\uadf8\uc778"]}),(0,ur.jsx)("a",{href:"#",className:"medisys-forgot-link",children:"\ucf54\ub4dc \ucc3e\uae30"})]}),(0,ur.jsx)("button",{onClick:async()=>{if(n&&a&&l){h(!0),p("");try{const e=await async function(e){let{username:t,password:n,code:r}=e;return cr.post("/api/login/",{username:t,password:n,code:r})}({username:n,password:a,code:l});c&&localStorage.setItem("autoLoginUser",e.data.user_id),t(e.data.user_id)}catch(e){p("\ub85c\uadf8\uc778 \uc2e4\ud328: \uc544\uc774\ub514/\ube44\ubc88/\ucf54\ub4dc \ud655\uc778")}finally{h(!1)}}else p("\ubaa8\ub4e0 \ud544\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},disabled:f,className:"medisys-login-button",children:f?"\ub85c\uadf8\uc778 \uc911...":"\ub85c\uadf8\uc778"}),u&&(0,ur.jsx)("div",{className:"medisys-error-box",children:u})]}),(0,ur.jsx)("div",{className:"medisys-login-footer",children:(0,ur.jsxs)("p",{className:"medisys-help-text",children:["\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694? ",(0,ur.jsx)("a",{href:"#",className:"medisys-signup-link",children:"\uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758"})]})})]})};const oa=function(e){let{message:t}=e;return t?(0,ur.jsx)("div",{className:"medisys-notification",children:t}):null};const ia=function(){const[e,t]=(0,o.useState)(null),[n,r]=(0,o.useState)(""),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)(!1),[c,d]=(0,o.useState)(""),[u,p]=(0,o.useState)(!1),[f,h]=(0,o.useState)(null);return(0,o.useEffect)((()=>{localStorage.getItem("autoLoginUser")&&s(!0)}),[]),(0,o.useEffect)((()=>{cr.get("/api/notice/").then((e=>i(e.data.notice||""))).catch((()=>i("")))}),[]),(0,o.useEffect)((()=>{e&&cr.get("/openmrs/ws/rest/v1/user/".concat(e)).then((e=>{const t=e.data;localStorage.setItem("doctor_id",t.uuid),localStorage.setItem("doctor_name",t.display),h(t)})).catch((e=>{console.error("\uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc870\ud68c \uc2e4\ud328",e),alert("\ub85c\uadf8\uc778 \ud6c4 \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))}),[e]),(0,ur.jsxs)("div",{className:"medisys-container",children:[(0,ur.jsxs)("div",{className:"medisys-content",children:[(0,ur.jsxs)("div",{className:"medisys-left-side",children:[(0,ur.jsxs)("div",{className:"medisys-logo-container",children:[(0,ur.jsx)("div",{className:"medisys-logo-icon",children:"M"}),(0,ur.jsxs)("div",{children:[(0,ur.jsx)("h1",{className:"medisys-brand-title",children:"\uba54\ub514\uc2dc\uc2a4 v1.0"}),(0,ur.jsx)("p",{className:"medisys-brand-subtitle",children:"\uc758\ub8cc\uc9c4 \ud3ec\ud138 \uc2dc\uc2a4\ud15c"})]})]}),(0,ur.jsxs)("div",{className:"medisys-branding-text",children:[(0,ur.jsx)("h2",{className:"medisys-welcome-title",children:"\uc758\ub8cc\uc9c4 \ud3ec\ud138\uc5d0 \uc624\uc2e0 \uac83\uc744 \ud658\uc601\ud569\ub2c8\ub2e4"}),(0,ur.jsxs)("p",{className:"medisys-welcome-subtitle",children:["\uc548\uc804\ud558\uace0 \ud6a8\uc728\uc801\uc778 \uc758\ub8cc \uc815\ubcf4 \uc2dc\uc2a4\ud15c\uc73c\ub85c",(0,ur.jsx)("br",{}),"\ub354 \ub098\uc740 \ud658\uc790 \ucf00\uc5b4\ub97c \uc81c\uacf5\ud558\uc138\uc694"]})]}),(0,ur.jsxs)("div",{className:"medisys-features",children:[(0,ur.jsxs)("div",{className:"medisys-feature-item",children:[(0,ur.jsx)("span",{className:"medisys-feature-icon",children:"\ud83c\udfe5"}),(0,ur.jsx)("span",{children:"\ud1b5\ud569 \uc758\ub8cc \uc815\ubcf4 \uc2dc\uc2a4\ud15c"})]}),(0,ur.jsxs)("div",{className:"medisys-feature-item",children:[(0,ur.jsx)("span",{className:"medisys-feature-icon",children:"\ud83d\udd12"}),(0,ur.jsx)("span",{children:"\ubcf4\uc548 \uac15\ud654\ub41c \ud658\uc790 \ub370\uc774\ud130"})]}),(0,ur.jsxs)("div",{className:"medisys-feature-item",children:[(0,ur.jsx)("span",{className:"medisys-feature-icon",children:"\ud83d\udcca"}),(0,ur.jsx)("span",{children:"\uc2e4\uc2dc\uac04 \uc758\ub8cc \ud1b5\uacc4 \ubc0f \ubd84\uc11d"})]})]})]}),(0,ur.jsxs)("div",{className:"medisys-right-side",children:[(0,ur.jsx)(oa,{message:a}),f&&(0,ur.jsxs)("div",{className:"medisys-success-box",children:[(0,ur.jsx)("h3",{className:"medisys-success-title",children:"\ub85c\uadf8\uc778 \uc131\uacf5!"}),(0,ur.jsxs)("p",{className:"medisys-success-text",children:["\ud658\uc601\ud569\ub2c8\ub2e4, ",f.display,"\ub2d8",(0,ur.jsx)("br",{}),"\uc0ac\uc6a9\uc790 ID: ",f.uuid]})]}),(0,ur.jsx)(aa,{onLoginSuccess:t}),l&&(0,ur.jsxs)("div",{className:"medisys-auto-login",children:[(0,ur.jsx)("h4",{className:"medisys-auto-login-title",children:"\uc790\ub3d9 \ub85c\uadf8\uc778"}),(0,ur.jsxs)("div",{className:"medisys-auto-login-form",children:[(0,ur.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"\ubd80\uc5ec \ucf54\ub4dc \uc785\ub825",className:"medisys-input"}),(0,ur.jsxs)("div",{className:"medisys-auto-login-buttons",children:[(0,ur.jsx)("button",{onClick:async()=>{if(n){p(!0),d("");try{const e=await async function(e){let{code:t}=e;return cr.post("/api/auto-login/",{code:t})}({code:n});t(e.data.user_id)}catch(e){d("\uc790\ub3d9 \ub85c\uadf8\uc778 \uc2e4\ud328: \ucf54\ub4dc\uac00 \uc720\ud6a8\ud558\uc9c0 \uc54a\uac70\ub098 \ub9cc\ub8cc\ub428")}finally{p(!1)}}else d("\ucf54\ub4dc\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.")},disabled:u,className:"medisys-auto-login-button",children:u?"\ub85c\uadf8\uc778 \uc911...":"\uc790\ub3d9 \ub85c\uadf8\uc778"}),(0,ur.jsx)("button",{onClick:()=>{localStorage.removeItem("autoLoginUser"),s(!1),t(null),h(null),r(""),d("")},className:"medisys-other-account-button",children:"\ub2e4\ub978 \uacc4\uc815"})]}),c&&(0,ur.jsx)("div",{className:"medisys-error-box",children:c})]})]}),(0,ur.jsxs)("div",{className:"medisys-system-status",children:[(0,ur.jsxs)("div",{className:"medisys-status-item",children:[(0,ur.jsx)("div",{className:"medisys-status-dot"}),(0,ur.jsx)("span",{children:"\uc2dc\uc2a4\ud15c \uc815\uc0c1 \uc6b4\uc601 \uc911"})]}),(0,ur.jsx)("div",{className:"medisys-status-item",children:(0,ur.jsx)("span",{children:"\uc11c\ubc84 \uc751\ub2f5 \uc2dc\uac04: 12ms"})})]})]})]}),(0,ur.jsx)("div",{className:"medisys-footer",children:(0,ur.jsx)("p",{className:"medisys-footer-text",children:"\xa9 2025 \uba54\ub514\uc2dc\uc2a4. \ubaa8\ub4e0 \uad8c\ub9ac \ubcf4\uc720. | \uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68 | \uc774\uc6a9\uc57d\uad00"})})]})};function la(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=la(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const sa=function(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=la(e))&&(r&&(r+=" "),r+=t);return r},ca=(e,t,n,r)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const a=Object.getOwnPropertyDescriptor(e,n),o=Object.getOwnPropertyDescriptor(t,n);!da(a,o)&&r||Object.defineProperty(e,n,o)},da=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},ua=(e,t)=>"/* Wrapped ".concat(e,"*/\n").concat(t),pa=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),fa=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");function ha(e,t){let{ignoreNonConfigurable:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:r}=e;for(const a of Reflect.ownKeys(t))ca(e,t,a,n);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,t),((e,t,n)=>{const r=""===n?"":"with ".concat(n.trim(),"() "),a=ua.bind(null,r,t.toString());Object.defineProperty(a,"name",fa);const{writable:o,enumerable:i,configurable:l}=pa;Object.defineProperty(e,"toString",{value:a,writable:o,enumerable:i,configurable:l})})(e,t,r),e}const ma=new WeakMap,ga=new WeakMap;function ya(e){let{cacheKey:t,cache:n=new Map,maxAge:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===r)return e;if("number"===typeof r){const e=2147483647;if(r>e)throw new TypeError("The `maxAge` option cannot exceed ".concat(e,"."));if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const a=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];const l=t?t(o):o[0],s=n.get(l);if(s)return s.data;const c=e.apply(this,o),d="function"===typeof r?r(...o):r;if(n.set(l,{data:c,maxAge:d?Date.now()+d:Number.POSITIVE_INFINITY}),d&&d>0&&d!==Number.POSITIVE_INFINITY){var u,p;const t=setTimeout((()=>{n.delete(l)}),d);null===(u=t.unref)||void 0===u||u.call(t);const r=null!==(p=ga.get(e))&&void 0!==p?p:new Set;r.add(t),ga.set(e,r)}return c};return ha(a,e,{ignoreNonConfigurable:!0}),ma.set(a,n),a}function xa(e){return"string"===typeof e}function va(e,t,n){return n.indexOf(e)===t}function ba(e){return-1===e.indexOf(",")?e:e.split(",")}function ja(e){if(!e)return e;if("C"===e||"posix"===e||"POSIX"===e)return"en-US";if(-1!==e.indexOf(".")){var t=e.split(".")[0];return ja(void 0===t?"":t)}if(-1!==e.indexOf("@")){var n=e.split("@")[0];return ja(void 0===n?"":n)}if(-1===e.indexOf("-")||(r=e).toLowerCase()!==r)return e;var r,a=e.split("-"),o=a[0],i=a[1],l=void 0===i?"":i;return"".concat(o,"-").concat(l.toUpperCase())}var wa=ya((function(e){var t=void 0===e?{}:e,n=t.useFallbackLocale,r=void 0===n||n,a=t.fallbackLocale,o=void 0===a?"en-US":a,i=[];if("undefined"!==typeof navigator){for(var l=[],s=0,c=navigator.languages||[];s<c.length;s++){var d=c[s];l=l.concat(ba(d))}var u=navigator.language,p=u?ba(u):u;i=i.concat(l,p)}return r&&i.push(o),i.filter(xa).map(ja).filter(va)}),{cacheKey:JSON.stringify});var Sa=ya((function(e){return wa(e)[0]||null}),{cacheKey:JSON.stringify});const _a=Sa;function ka(e,t,n){return function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;const o=e(r)+a;return t(o)}}function Ca(e){return function(t){return new Date(e(t).getTime()-1)}}function Na(e,t){return function(n){return[e(n),t(n)]}}function Oa(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;const t=Number.parseInt(e,10);if("string"===typeof e&&!Number.isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function Da(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function Ea(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function Ra(e){const t=Oa(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const Ta=ka(Oa,Ra,-100),Pa=ka(Oa,Ra,100),Ia=Ca(Pa),La=ka(Oa,Ia,-100),Aa=(ka(Oa,Ia,100),Na(Ra,Ia));function Ma(e){const t=Oa(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const za=ka(Oa,Ma,-10),Ba=ka(Oa,Ma,10),Fa=Ca(Ba),Ua=ka(Oa,Fa,-10),Ha=(ka(Oa,Fa,10),Na(Ma,Fa));function Wa(e){const t=Oa(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}const Va=ka(Oa,Wa,-1),qa=ka(Oa,Wa,1),Ya=Ca(qa),$a=ka(Oa,Ya,-1),Ka=(ka(Oa,Ya,1),Na(Wa,Ya));function Qa(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const a=Oa(n),o=Da(n)+r,i=new Date;return i.setFullYear(a,o,1),i.setHours(0,0,0,0),e(i)}}function Ga(e){const t=Oa(e),n=Da(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}const Xa=Qa(Ga,-1),Ja=Qa(Ga,1),Za=Ca(Ja),eo=Qa(Za,-1),to=(Qa(Za,1),Na(Ga,Za));function no(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;const a=Oa(n),o=Da(n),i=Ea(n)+r,l=new Date;return l.setFullYear(a,o,i),l.setHours(0,0,0,0),e(l)}}function ro(e){const t=Oa(e),n=Da(e),r=Ea(e),a=new Date;return a.setFullYear(t,n,r),a.setHours(0,0,0,0),a}no(ro,-1);const ao=Ca(no(ro,1)),oo=(no(ao,-1),no(ao,1),Na(ro,ao));function io(e){return Ea(Za(e))}var lo="gregory",so="hebrew",co="islamic",uo="iso8601",po={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},fo=[0,1,2,3,4,5,6],ho=new Map;function mo(e){return function(t,n){return function(e){return function(t,n){var r=t||_a();ho.has(r)||ho.set(r,new Map);var a=ho.get(r);return a.has(e)||a.set(e,new Intl.DateTimeFormat(r||void 0,e).format),a.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}mo({day:"numeric",month:"numeric",year:"numeric"});var go=mo({day:"numeric"}),yo=mo({day:"numeric",month:"long",year:"numeric"}),xo=mo({month:"long"}),vo=mo({month:"long",year:"numeric"}),bo=mo({weekday:"short"}),jo=mo({weekday:"long"}),wo=mo({year:"numeric"}),So=fo[0],_o=fo[5],ko=fo[6];function Co(e,t){void 0===t&&(t=uo);var n=e.getDay();switch(t){case uo:return(n+6)%7;case co:return(n+1)%7;case so:case lo:return n;default:throw new Error("Unsupported calendar type.")}}function No(e,t){void 0===t&&(t=uo);var n=Oa(e),r=Da(e),a=e.getDate()-Co(e,t);return new Date(n,r,a)}function Oo(e,t){switch(e){case"century":return Ra(t);case"decade":return Ma(t);case"year":return Wa(t);case"month":return Ga(t);case"day":return ro(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Do(e,t){switch(e){case"century":return Pa(t);case"decade":return Ba(t);case"year":return qa(t);case"month":return Ja(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Eo(e,t){switch(e){case"century":return Ia(t);case"decade":return Fa(t);case"year":return Ya(t);case"month":return Za(t);case"day":return ao(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ro(e,t){switch(e){case"century":return Aa(t);case"decade":return Ha(t);case"year":return Ka(t);case"month":return to(t);case"day":return oo(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function To(e,t,n){return n.map((function(n){return(t||wo)(e,n)})).join(" \u2013 ")}function Po(e,t,n){return To(e,t,Ha(n))}function Io(e,t){void 0===t&&(t=uo);var n=e.getDay();switch(t){case co:case so:return n===_o||n===ko;case uo:case lo:return n===ko||n===So;default:throw new Error("Unsupported calendar type.")}}var Lo="react-calendar__navigation";function Ao(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,a=void 0===r?vo:r,o=e.formatYear,i=void 0===o?wo:o,l=e.locale,s=e.maxDate,c=e.minDate,d=e.navigationAriaLabel,u=void 0===d?"":d,p=e.navigationAriaLive,f=e.navigationLabel,h=e.next2AriaLabel,m=void 0===h?"":h,g=e.next2Label,y=void 0===g?"\xbb":g,x=e.nextAriaLabel,v=void 0===x?"":x,b=e.nextLabel,j=void 0===b?"\u203a":b,w=e.prev2AriaLabel,S=void 0===w?"":w,_=e.prev2Label,k=void 0===_?"\xab":_,C=e.prevAriaLabel,N=void 0===C?"":C,O=e.prevLabel,D=void 0===O?"\u2039":O,E=e.setActiveStartDate,R=e.showDoubleView,T=e.view,P=e.views.indexOf(T)>0,I="century"!==T,L=function(e,t){switch(e){case"century":return Ta(t);case"decade":return za(t);case"year":return Va(t);case"month":return Xa(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(T,t),A=I?function(e,t){switch(e){case"decade":return za(t,-100);case"year":return Va(t,-10);case"month":return Xa(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(T,t):void 0,M=Do(T,t),z=I?function(e,t){switch(e){case"decade":return Ba(t,100);case"year":return qa(t,10);case"month":return Ja(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(T,t):void 0,B=function(){if(L.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return La(t);case"decade":return Ua(t);case"year":return $a(t);case"month":return eo(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(T,t);return c&&c>=e}(),F=I&&function(){if(A.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return Ua(t,-100);case"year":return $a(t,-10);case"month":return eo(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(T,t);return c&&c>=e}(),U=s&&s<M,H=I&&s&&s<z;function W(e){var t=function(){switch(T){case"century":return function(e,t,n){return To(e,t,Aa(n))}(l,i,e);case"decade":return Po(l,i,e);case"year":return i(l,e);case"month":return a(l,e);default:throw new Error("Invalid view: ".concat(T,"."))}}();return f?f({date:e,label:t,locale:l||Sa()||void 0,view:T}):t}return(0,ur.jsxs)("div",{className:Lo,children:[null!==k&&I?(0,ur.jsx)("button",{"aria-label":S,className:"".concat(Lo,"__arrow ").concat(Lo,"__prev2-button"),disabled:F,onClick:function(){E(A,"prev2")},type:"button",children:k}):null,null!==D&&(0,ur.jsx)("button",{"aria-label":N,className:"".concat(Lo,"__arrow ").concat(Lo,"__prev-button"),disabled:B,onClick:function(){E(L,"prev")},type:"button",children:D}),function(){var e="".concat(Lo,"__label");return(0,ur.jsxs)("button",{"aria-label":u,"aria-live":p,className:e,disabled:!P,onClick:n,style:{flexGrow:1},type:"button",children:[(0,ur.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from"),children:W(t)}),R?(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsx)("span",{className:"".concat(e,"__divider"),children:" \u2013 "}),(0,ur.jsx)("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to"),children:W(M)})]}):null]})}(),null!==j&&(0,ur.jsx)("button",{"aria-label":v,className:"".concat(Lo,"__arrow ").concat(Lo,"__next-button"),disabled:U,onClick:function(){E(M,"next")},type:"button",children:j}),null!==y&&I?(0,ur.jsx)("button",{"aria-label":m,className:"".concat(Lo,"__arrow ").concat(Lo,"__next2-button"),disabled:H,onClick:function(){E(z,"next2")},type:"button",children:y}):null]})}var Mo=function(){return Mo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Mo.apply(this,arguments)},zo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Bo(e){return"".concat(e,"%")}function Fo(e){var t=e.children,n=e.className,r=e.count,a=e.direction,i=e.offset,l=e.style,s=e.wrap,c=zo(e,["children","className","count","direction","offset","style","wrap"]);return(0,ur.jsx)("div",Mo({className:n,style:Mo({display:"flex",flexDirection:a,flexWrap:s?"wrap":"nowrap"},l)},c,{children:o.Children.map(t,(function(e,t){var n=i&&0===t?Bo(100*i/r):null;return(0,o.cloneElement)(e,Mo(Mo({},e.props),{style:{flexBasis:Bo(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:n,marginInlineStart:n,marginInlineEnd:0}}))}))}))}function Uo(e,t){return t[0]<=e&&t[1]>=e}function Ho(e,t){return Uo(e[0],t)||Uo(e[1],t)}function Wo(e,t,n){var r=[];if(Ho(t,e)){r.push(n);var a=Uo(e[0],t),o=Uo(e[1],t);a&&r.push("".concat(n,"Start")),o&&r.push("".concat(n,"End")),a&&o&&r.push("".concat(n,"BothEnds"))}return r}function Vo(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,a="react-calendar__tile",o=[a];if(!n)return o;var i=new Date,l=function(){if(Array.isArray(n))return n;var t=e.dateType;if(!t)throw new Error("dateType is required when date is not an array of two dates");return Ro(t,n)}();if(Uo(i,l)&&o.push("".concat(a,"--now")),!t||!function(e){return Array.isArray(e)?null!==e[0]&&null!==e[1]:null!==e}(t))return o;var s,c,d=function(){if(Array.isArray(t))return t;var n=e.valueType;if(!n)throw new Error("valueType is required when value is not an array of two dates");return Ro(n,t)}();c=l,(s=d)[0]<=c[0]&&s[1]>=c[1]?o.push("".concat(a,"--active")):Ho(d,l)&&o.push("".concat(a,"--hasActive"));var u=Wo(d,l,"".concat(a,"--range"));o.push.apply(o,u);var p=Array.isArray(t)?t:[t];if(r&&1===p.length){var f=Wo(r>d[0]?[d[0],r]:[r,d[0]],l,"".concat(a,"--hover"));o.push.apply(o,f)}return o}function qo(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,a=e.dateTransform,o=e.dateType,i=e.end,l=e.hover,s=e.offset,c=e.renderTile,d=e.start,u=e.step,p=void 0===u?1:u,f=e.value,h=e.valueType,m=[],g=d;g<=i;g+=p){var y=a(g);m.push(c({classes:Vo({date:y,dateType:o,hover:l,value:f,valueType:h}),date:y}))}return(0,ur.jsx)(Fo,{className:t,count:r,offset:s,wrap:!0,children:m})}function Yo(e){var t=e.activeStartDate,n=e.children,r=e.classes,a=e.date,i=e.formatAbbr,l=e.locale,s=e.maxDate,c=e.maxDateTransform,d=e.minDate,u=e.minDateTransform,p=e.onClick,f=e.onMouseOver,h=e.style,m=e.tileClassName,g=e.tileContent,y=e.tileDisabled,x=e.view,v=(0,o.useMemo)((function(){return"function"===typeof m?m({activeStartDate:t,date:a,view:x}):m}),[t,a,m,x]),b=(0,o.useMemo)((function(){return"function"===typeof g?g({activeStartDate:t,date:a,view:x}):g}),[t,a,g,x]);return(0,ur.jsxs)("button",{className:sa(r,v),disabled:d&&u(d)>a||s&&c(s)<a||(null===y||void 0===y?void 0:y({activeStartDate:t,date:a,view:x})),onClick:p?function(e){return p(a,e)}:void 0,onFocus:f?function(){return f(a)}:void 0,onMouseOver:f?function(){return f(a)}:void 0,style:h,type:"button",children:[i?(0,ur.jsx)("abbr",{"aria-label":i(l,a),children:n}):n,b]})}var $o=function(){return $o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},$o.apply(this,arguments)},Ko=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Qo="react-calendar__century-view__decades__decade";function Go(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentCentury,a=e.formatYear,o=void 0===a?wo:a,i=Ko(e,["classes","currentCentury","formatYear"]),l=i.date,s=i.locale,c=[];return n&&c.push.apply(c,n),Qo&&c.push(Qo),Ra(l).getFullYear()!==r&&c.push("".concat(Qo,"--neighboringCentury")),(0,ur.jsx)(Yo,$o({},i,{classes:c,maxDateTransform:Fa,minDateTransform:Ma,view:"century",children:Po(s,o,l)}))}var Xo=function(){return Xo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Xo.apply(this,arguments)},Jo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Zo(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,a=e.value,o=e.valueType,i=Jo(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),l=Oa(Ra(t)),s=l+(r?119:99);return(0,ur.jsx)(qo,{className:"react-calendar__century-view__decades",dateTransform:Ma,dateType:"decade",end:s,hover:n,renderTile:function(e){var n=e.date,r=Jo(e,["date"]);return(0,ur.jsx)(Go,Xo({},i,r,{activeStartDate:t,currentCentury:l,date:n}),n.getTime())},start:l,step:10,value:a,valueType:o})}var ei=function(){return ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ei.apply(this,arguments)};function ti(e){return(0,ur.jsx)("div",{className:"react-calendar__century-view",children:(0,ur.jsx)(Zo,ei({},e))})}var ni=function(){return ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ni.apply(this,arguments)},ri=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},ai="react-calendar__decade-view__years__year";function oi(e){var t=e.classes,n=void 0===t?[]:t,r=e.currentDecade,a=e.formatYear,o=void 0===a?wo:a,i=ri(e,["classes","currentDecade","formatYear"]),l=i.date,s=i.locale,c=[];return n&&c.push.apply(c,n),ai&&c.push(ai),Ma(l).getFullYear()!==r&&c.push("".concat(ai,"--neighboringDecade")),(0,ur.jsx)(Yo,ni({},i,{classes:c,maxDateTransform:Ya,minDateTransform:Wa,view:"decade",children:o(s,l)}))}var ii=function(){return ii=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ii.apply(this,arguments)},li=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function si(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,a=e.value,o=e.valueType,i=li(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),l=Oa(Ma(t)),s=l+(r?11:9);return(0,ur.jsx)(qo,{className:"react-calendar__decade-view__years",dateTransform:Wa,dateType:"year",end:s,hover:n,renderTile:function(e){var n=e.date,r=li(e,["date"]);return(0,ur.jsx)(oi,ii({},i,r,{activeStartDate:t,currentDecade:l,date:n}),n.getTime())},start:l,value:a,valueType:o})}var ci=function(){return ci=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ci.apply(this,arguments)};function di(e){return(0,ur.jsx)("div",{className:"react-calendar__decade-view",children:(0,ur.jsx)(si,ci({},e))})}var ui=function(){return ui=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ui.apply(this,arguments)},pi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},fi=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function hi(e){var t=e.classes,n=void 0===t?[]:t,r=e.formatMonth,a=void 0===r?xo:r,o=e.formatMonthYear,i=void 0===o?vo:o,l=pi(e,["classes","formatMonth","formatMonthYear"]),s=l.date,c=l.locale;return(0,ur.jsx)(Yo,ui({},l,{classes:fi(fi([],n,!0),["react-calendar__year-view__months__month"],!1),formatAbbr:i,maxDateTransform:Za,minDateTransform:Ga,view:"year",children:a(c,s)}))}var mi=function(){return mi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},mi.apply(this,arguments)},gi=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function yi(e){var t=e.activeStartDate,n=e.hover,r=e.value,a=e.valueType,o=gi(e,["activeStartDate","hover","value","valueType"]),i=Oa(t);return(0,ur.jsx)(qo,{className:"react-calendar__year-view__months",dateTransform:function(e){var t=new Date;return t.setFullYear(i,e,1),Ga(t)},dateType:"month",end:11,hover:n,renderTile:function(e){var n=e.date,r=gi(e,["date"]);return(0,ur.jsx)(hi,mi({},o,r,{activeStartDate:t,date:n}),n.getTime())},start:0,value:r,valueType:a})}var xi=function(){return xi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},xi.apply(this,arguments)};function vi(e){return(0,ur.jsx)("div",{className:"react-calendar__year-view",children:(0,ur.jsx)(yi,xi({},e))})}var bi=function(){return bi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},bi.apply(this,arguments)},ji=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},wi="react-calendar__month-view__days__day";function Si(e){var t=e.calendarType,n=e.classes,r=void 0===n?[]:n,a=e.currentMonthIndex,o=e.formatDay,i=void 0===o?go:o,l=e.formatLongDate,s=void 0===l?yo:l,c=ji(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=c.date,u=c.locale,p=[];return r&&p.push.apply(p,r),wi&&p.push(wi),Io(d,t)&&p.push("".concat(wi,"--weekend")),d.getMonth()!==a&&p.push("".concat(wi,"--neighboringMonth")),(0,ur.jsx)(Yo,bi({},c,{classes:p,formatAbbr:s,maxDateTransform:ao,minDateTransform:ro,view:"month",children:i(u,d)}))}var _i=function(){return _i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},_i.apply(this,arguments)},ki=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Ci(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,a=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,i=e.value,l=e.valueType,s=ki(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Oa(t),d=Da(t),u=a||o,p=Co(t,n),f=u?0:p,h=1+(u?-p:0),m=function(){if(a)return h+42-1;var e=io(t);if(o){var r=new Date;return r.setFullYear(c,d,e),r.setHours(0,0,0,0),e+(7-Co(r,n)-1)}return e}();return(0,ur.jsx)(qo,{className:"react-calendar__month-view__days",count:7,dateTransform:function(e){var t=new Date;return t.setFullYear(c,d,e),ro(t)},dateType:"day",hover:r,end:m,renderTile:function(e){var r=e.date,a=ki(e,["date"]);return(0,ur.jsx)(Si,_i({},s,a,{activeStartDate:t,calendarType:n,currentMonthIndex:d,date:r}),r.getTime())},offset:f,start:h,value:i,valueType:l})}var Ni="react-calendar__month-view__weekdays",Oi="".concat(Ni,"__weekday");function Di(e){for(var t,n=e.calendarType,r=e.formatShortWeekday,a=void 0===r?bo:r,o=e.formatWeekday,i=void 0===o?jo:o,l=e.locale,s=e.onMouseLeave,c=Ga(new Date),d=Oa(c),u=Da(c),p=[],f=1;f<=7;f+=1){var h=new Date(d,u,f-Co(c,n)),m=i(l,h);p.push((0,ur.jsx)("div",{className:sa(Oi,(t=h,t.getDay()===(new Date).getDay()&&"".concat(Oi,"--current")),Io(h,n)&&"".concat(Oi,"--weekend")),children:(0,ur.jsx)("abbr",{"aria-label":m,title:m,children:a(l,h).replace(".","")})},f))}return(0,ur.jsx)(Fo,{className:Ni,count:7,onFocus:s,onMouseOver:s,children:p})}var Ei=function(){return Ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Ei.apply(this,arguments)},Ri=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Ti="react-calendar__tile";function Pi(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=(0,ur.jsx)("span",{children:n});if(t){var a=e.date,o=e.onClickWeekNumber,i=e.weekNumber,l=Ri(e,["date","onClickWeekNumber","weekNumber"]);return(0,ur.jsx)("button",Ei({},l,{className:Ti,onClick:function(e){return o(i,a,e)},type:"button",children:r}))}e.date,e.onClickWeekNumber,e.weekNumber,l=Ri(e,["date","onClickWeekNumber","weekNumber"]);return(0,ur.jsx)("div",Ei({},l,{className:Ti,children:r}))}function Ii(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,a=e.onMouseLeave,o=e.showFixedNumberOfWeeks,i=function(){if(o)return 6;var e=io(t)-(7-Co(t,n));return 1+Math.ceil(e/7)}(),l=function(){for(var e=Oa(t),r=Da(t),a=Ea(t),o=[],l=0;l<i;l+=1)o.push(No(new Date(e,r,a+7*l),n));return o}(),s=l.map((function(e){return function(e,t){void 0===t&&(t=uo);var n,r=t===lo?lo:uo,a=No(e,t),o=Oa(e)+1;do{n=No(new Date(o,0,r===uo?4:1),t),o-=1}while(e<n);return Math.round((a.getTime()-n.getTime())/6048e5)+1}(e,n)}));return(0,ur.jsx)(Fo,{className:"react-calendar__month-view__weekNumbers",count:i,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:s.map((function(e,t){var n=l[t];if(!n)throw new Error("date is not defined");return(0,ur.jsx)(Pi,{date:n,onClickWeekNumber:r,weekNumber:e},e)}))})}var Li=function(){return Li=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Li.apply(this,arguments)},Ai=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Mi(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=e.calendarType,i=void 0===o?function(e){if(e)for(var t=0,n=Object.entries(po);t<n.length;t++){var r=n[t],a=r[0];if(r[1].includes(e))return a}return uo}(n):o,l=e.formatShortWeekday,s=e.formatWeekday,c=e.onClickWeekNumber,d=e.showWeekNumbers,u=Ai(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);var p="react-calendar__month-view";return(0,ur.jsx)("div",{className:sa(p,d?"".concat(p,"--weekNumbers"):""),children:(0,ur.jsxs)("div",{style:{display:"flex",alignItems:"flex-end"},children:[d?(0,ur.jsx)(Ii,{activeStartDate:t,calendarType:i,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:a}):null,(0,ur.jsxs)("div",{style:{flexGrow:1,width:"100%"},children:[(0,ur.jsx)(Di,{calendarType:i,formatShortWeekday:l,formatWeekday:s,locale:n,onMouseLeave:r}),(0,ur.jsx)(Ci,Li({calendarType:i},u))]})]})})}var zi=function(){return zi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},zi.apply(this,arguments)},Bi="react-calendar",Fi=["century","decade","year","month"],Ui=["decade","year","month","day"],Hi=new Date;Hi.setFullYear(1,0,1),Hi.setHours(0,0,0,0);var Wi=new Date(864e13);function Vi(e){return e instanceof Date?e:new Date(e)}function qi(e,t){return Fi.slice(Fi.indexOf(e),Fi.indexOf(t)+1)}function Yi(e,t,n){return e&&function(e,t,n){return-1!==qi(t,n).indexOf(e)}(e,t,n)?e:n}function $i(e){var t=Fi.indexOf(e);return Ui[t]}function Ki(e,t){var n=e.value,r=e.minDate,a=e.maxDate,o=e.maxDetail,i=function(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Vi(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}(n,t);if(!i)return null;var l=$i(o);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}(function(){switch(t){case 0:return Oo(l,i);case 1:return Eo(l,i);default:throw new Error("Invalid index value: ".concat(t))}}(),r,a)}var Qi=function(e){return Ki(e,0)},Gi=function(e){return Ki(e,1)},Xi=function(e){return[Qi,Gi].map((function(t){return t(e)}))};function Ji(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,a=e.minDetail,o=e.value;return Oo(Yi(e.view,a,n),Qi({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date)}function Zi(e){return e&&(!Array.isArray(e)||1===e.length)}function el(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var tl=(0,o.forwardRef)((function(e,t){var n=e.activeStartDate,r=e.allowPartialRange,a=e.calendarType,i=e.className,l=e.defaultActiveStartDate,s=e.defaultValue,c=e.defaultView,d=e.formatDay,u=e.formatLongDate,p=e.formatMonth,f=e.formatMonthYear,h=e.formatShortWeekday,m=e.formatWeekday,g=e.formatYear,y=e.goToRangeStartOnSelect,x=void 0===y||y,v=e.inputRef,b=e.locale,j=e.maxDate,w=void 0===j?Wi:j,S=e.maxDetail,_=void 0===S?"month":S,k=e.minDate,C=void 0===k?Hi:k,N=e.minDetail,O=void 0===N?"century":N,D=e.navigationAriaLabel,E=e.navigationAriaLive,R=e.navigationLabel,T=e.next2AriaLabel,P=e.next2Label,I=e.nextAriaLabel,L=e.nextLabel,A=e.onActiveStartDateChange,M=e.onChange,z=e.onClickDay,B=e.onClickDecade,F=e.onClickMonth,U=e.onClickWeekNumber,H=e.onClickYear,W=e.onDrillDown,V=e.onDrillUp,q=e.onViewChange,Y=e.prev2AriaLabel,$=e.prev2Label,K=e.prevAriaLabel,Q=e.prevLabel,G=e.returnValue,X=void 0===G?"start":G,J=e.selectRange,Z=e.showDoubleView,ee=e.showFixedNumberOfWeeks,te=e.showNavigation,ne=void 0===te||te,re=e.showNeighboringCentury,ae=e.showNeighboringDecade,oe=e.showNeighboringMonth,ie=void 0===oe||oe,le=e.showWeekNumbers,se=e.tileClassName,ce=e.tileContent,de=e.tileDisabled,ue=e.value,pe=e.view,fe=(0,o.useState)(l),he=fe[0],me=fe[1],ge=(0,o.useState)(null),ye=ge[0],xe=ge[1],ve=(0,o.useState)(Array.isArray(s)?s.map((function(e){return null!==e?Vi(e):null})):null!==s&&void 0!==s?Vi(s):null),be=ve[0],je=ve[1],we=(0,o.useState)(c),Se=we[0],_e=we[1],ke=n||he||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,a=e.defaultView,o=e.maxDate,i=e.maxDetail,l=e.minDate,s=e.minDetail,c=e.value,d=e.view,u=Yi(d,s,i),p=t||n;return p?Oo(u,p):Ji({maxDate:o,maxDetail:i,minDate:l,minDetail:s,value:c||r,view:d||a})}({activeStartDate:n,defaultActiveStartDate:l,defaultValue:s,defaultView:c,maxDate:w,maxDetail:_,minDate:C,minDetail:O,value:ue,view:pe}),Ce=function(){var e=J&&Zi(be)?be:void 0!==ue?ue:be;return e?Array.isArray(e)?e.map((function(e){return null!==e?Vi(e):null})):null!==e?Vi(e):null:null}(),Ne=$i(_),Oe=Yi(pe||Se,O,_),De=qi(O,_),Ee=J?ye:null,Re=De.indexOf(Oe)<De.length-1,Te=De.indexOf(Oe)>0,Pe=(0,o.useCallback)((function(e){return function(){switch(X){case"start":return Qi;case"end":return Gi;case"range":return Xi;default:throw new Error("Invalid returnValue.")}}()({maxDate:w,maxDetail:_,minDate:C,value:e})}),[w,_,C,X]),Ie=(0,o.useCallback)((function(e,t){me(e);var n={action:t,activeStartDate:e,value:Ce,view:Oe};A&&!el(ke,e)&&A(n)}),[ke,A,Ce,Oe]),Le=(0,o.useCallback)((function(e,t){var n=function(){switch(Oe){case"century":return B;case"decade":return H;case"year":return F;case"month":return z;default:throw new Error("Invalid view: ".concat(Oe,"."))}}();n&&n(e,t)}),[z,B,F,H,Oe]),Ae=(0,o.useCallback)((function(e,t){if(Re){Le(e,t);var n=De[De.indexOf(Oe)+1];if(!n)throw new Error("Attempted to drill down from the lowest view.");me(e),_e(n);var r={action:"drillDown",activeStartDate:e,value:Ce,view:n};A&&!el(ke,e)&&A(r),q&&Oe!==n&&q(r),W&&W(r)}}),[ke,Re,A,Le,W,q,Ce,Oe,De]),Me=(0,o.useCallback)((function(){if(Te){var e=De[De.indexOf(Oe)-1];if(!e)throw new Error("Attempted to drill up from the highest view.");var t=Oo(e,ke);me(t),_e(e);var n={action:"drillUp",activeStartDate:t,value:Ce,view:e};A&&!el(ke,t)&&A(n),q&&Oe!==e&&q(n),V&&V(n)}}),[ke,Te,A,V,q,Ce,Oe,De]),ze=(0,o.useCallback)((function(e,t){var n=Ce;Le(e,t);var a,o=J&&!Zi(n);if(J)if(o)a=Oo(Ne,e);else{if(!n)throw new Error("previousValue is required");if(Array.isArray(n))throw new Error("previousValue must not be an array");a=function(e,t,n){var r=[t,n].sort((function(e,t){return e.getTime()-t.getTime()}));return[Oo(e,r[0]),Eo(e,r[1])]}(Ne,n,e)}else a=Pe(e);var i=!J||o||x?Ji({maxDate:w,maxDetail:_,minDate:C,minDetail:O,value:a,view:Oe}):null;t.persist(),me(i),je(a);var l={action:"onChange",activeStartDate:i,value:a,view:Oe};if(A&&!el(ke,i)&&A(l),M)if(J)if(Zi(a)){if(r){if(Array.isArray(a))throw new Error("value must not be an array");M([a||null,null],t)}}else M(a||null,t);else M(a||null,t)}),[ke,r,Pe,x,w,_,C,O,A,M,Le,J,Ce,Ne,Oe]);function Be(e){xe(e)}function Fe(){xe(null)}function Ue(e){var t={activeStartDate:e?Do(Oe,ke):Oo(Oe,ke),hover:Ee,locale:b,maxDate:w,minDate:C,onClick:Re?Ae:ze,onMouseOver:J?Be:void 0,tileClassName:se,tileContent:ce,tileDisabled:de,value:Ce,valueType:Ne};switch(Oe){case"century":return(0,ur.jsx)(ti,zi({formatYear:g,showNeighboringCentury:re},t));case"decade":return(0,ur.jsx)(di,zi({formatYear:g,showNeighboringDecade:ae},t));case"year":return(0,ur.jsx)(vi,zi({formatMonth:p,formatMonthYear:f},t));case"month":return(0,ur.jsx)(Mi,zi({calendarType:a,formatDay:d,formatLongDate:u,formatShortWeekday:h,formatWeekday:m,onClickWeekNumber:U,onMouseLeave:J?Fe:void 0,showFixedNumberOfWeeks:"undefined"!==typeof ee?ee:Z,showNeighboringMonth:ie,showWeekNumbers:le},t));default:throw new Error("Invalid view: ".concat(Oe,"."))}}(0,o.useImperativeHandle)(t,(function(){return{activeStartDate:ke,drillDown:Ae,drillUp:Me,onChange:ze,setActiveStartDate:Ie,value:Ce,view:Oe}}),[ke,Ae,Me,ze,Ie,Ce,Oe]);var He=Array.isArray(Ce)?Ce:[Ce];return(0,ur.jsxs)("div",{className:sa(Bi,J&&1===He.length&&"".concat(Bi,"--selectRange"),Z&&"".concat(Bi,"--doubleView"),i),ref:v,children:[ne?(0,ur.jsx)(Ao,{activeStartDate:ke,drillUp:Me,formatMonthYear:f,formatYear:g,locale:b,maxDate:w,minDate:C,navigationAriaLabel:D,navigationAriaLive:E,navigationLabel:R,next2AriaLabel:T,next2Label:P,nextAriaLabel:I,nextLabel:L,prev2AriaLabel:Y,prev2Label:$,prevAriaLabel:K,prevLabel:Q,setActiveStartDate:Ie,showDoubleView:Z,view:Oe,views:De}):null,(0,ur.jsxs)("div",{className:"".concat(Bi,"__viewContainer"),onBlur:J?Fe:void 0,onMouseLeave:J?Fe:void 0,children:[Ue(),Z?Ue(!0):null]})]})}));const nl=tl,rl=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)([]),[a,i]=(0,o.useState)(!0),[l,s]=(0,o.useState)(null),[c,d]=(0,o.useState)(""),[u,p]=(0,o.useState)({}),f="https://meddocai.p-e.kr/api/integration/",h="".concat(f.replace(/\/+$/,""),"/openmrs-patients/"),m="".concat(f.replace(/\/+$/,""),"/identifier-based/");(0,o.useEffect)((()=>{(async()=>{try{i(!0),s(null);const e=await cr.get(h);t(e.data||[]),r(e.data||[])}catch(e){s("\ud658\uc790 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),console.error("\u274c \ud658\uc790 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328:",e)}finally{i(!1)}})()}),[]),(0,o.useEffect)((()=>{r(""===c?e:e.filter((e=>{var t;return((null===(t=e.person)||void 0===t?void 0:t.display)||e.display||"").toLowerCase().includes(c.toLowerCase())})))}),[c,e]);const g=e=>{try{return new Date(e).toLocaleDateString()}catch(t){return"N/A"}},y=e=>{if(!e)return"N/A";const t=new Date,n=new Date(e);let r=t.getFullYear()-n.getFullYear();const a=t.getMonth()-n.getMonth();return(a<0||0===a&&t.getDate()<n.getDate())&&r--,r};return a?(0,ur.jsx)("p",{children:"\ud83d\udd04 \ud658\uc790 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911\uc785\ub2c8\ub2e4..."}):l?(0,ur.jsxs)("div",{style:{color:"red"},children:[(0,ur.jsx)("h3",{children:"\ud83d\udea8 \uc624\ub958 \ubc1c\uc0dd"}),(0,ur.jsx)("pre",{children:l})]}):(0,ur.jsxs)("div",{style:{padding:"20px"},children:[(0,ur.jsx)("h2",{children:"\ud83d\udc65 \ud658\uc790 \ubaa9\ub85d (OpenMRS \uc5f0\ub3d9)"}),(0,ur.jsx)("input",{type:"text",placeholder:"\ud658\uc790 \uc774\ub984 \uac80\uc0c9",value:c,onChange:e=>{d(e.target.value)},style:{padding:"8px",marginBottom:"16px",width:"300px"}}),(0,ur.jsxs)("table",{border:"1",cellPadding:"8",cellSpacing:"0",style:{width:"100%"},children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{children:"\uc2dd\ubcc4\uc790"}),(0,ur.jsx)("th",{children:"\uc774\ub984"}),(0,ur.jsx)("th",{children:"\uc131\ubcc4"}),(0,ur.jsx)("th",{children:"\ub098\uc774"}),(0,ur.jsx)("th",{children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,ur.jsx)("th",{children:"UUID"}),(0,ur.jsx)("th",{children:"\ub300\uae30 \ub4f1\ub85d"})]})}),(0,ur.jsx)("tbody",{children:n.map((e=>{var t,n,r,a,o,i;const l=e.uuid,s=!0===u[l];return(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:(null===(t=e.identifiers)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.identifier)||"N/A"}),(0,ur.jsx)("td",{children:(null===(r=e.person)||void 0===r?void 0:r.display)||e.display||"N/A"}),(0,ur.jsx)("td",{children:(null===(a=e.person)||void 0===a?void 0:a.gender)||"N/A"}),(0,ur.jsx)("td",{children:y(null===(o=e.person)||void 0===o?void 0:o.birthdate)}),(0,ur.jsx)("td",{children:g(null===(i=e.person)||void 0===i?void 0:i.birthdate)}),(0,ur.jsx)("td",{children:l}),(0,ur.jsx)("td",{children:s?(0,ur.jsx)("span",{style:{color:"green"},children:"\u2705 \ub4f1\ub85d\ub428"}):(0,ur.jsx)("button",{onClick:()=>(async e=>{var t,n;const r=null===(t=e.identifiers)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.identifier,a=e.uuid,o=e.orthanc_patient_id||"DUMMY-".concat(Date.now()),i={openmrs_patient_uuid:a,patient_identifier:r,orthanc_patient_id:o};try{await cr.post(m,i),alert("\u2705 \ub300\uae30 \ub4f1\ub85d \uc644\ub8cc!"),p((e=>Ft(Ft({},e),{},{[a]:!0})))}catch(c){var l,s;console.error("\u274c \ub300\uae30 \ub4f1\ub85d \uc2e4\ud328:",c);const e=(null===(l=c.response)||void 0===l||null===(s=l.data)||void 0===s?void 0:s.error)||c.message;alert("\u274c \ub300\uae30 \ub4f1\ub85d \uc2e4\ud328: ".concat(e))}})(e),style:{backgroundColor:"#4caf50",color:"white"},children:"\ub300\uae30 \ub4f1\ub85d"})})]},l)}))})]})]})},al=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!1),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)(null),c="".concat("http://localhost:8000/api/integration","/openmrs/providers/"),d=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r(!0);try{const n=await cr.get(c,{params:e?{q:e}:{}});t(n.data.results||n.data)}catch(n){console.error("\u274c Provider \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328",n),s("\uc758\ub8cc\uc9c4 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}finally{r(!1)}};(0,o.useEffect)((()=>{d()}),[]);return(0,ur.jsxs)("div",{children:[(0,ur.jsx)("h2",{children:"\uc758\ub8cc\uc9c4 \ubaa9\ub85d"}),(0,ur.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,ur.jsx)("input",{type:"text",placeholder:"\uc758\ub8cc\uc9c4 \uc774\ub984 \uac80\uc0c9",value:a,onChange:e=>i(e.target.value)}),(0,ur.jsx)("button",{onClick:()=>{d(a)},children:"\uac80\uc0c9"})]}),n?(0,ur.jsx)("p",{children:"\ubd88\ub7ec\uc624\ub294 \uc911..."}):l?(0,ur.jsx)("p",{children:l}):(0,ur.jsx)("ul",{children:e.map((e=>{var t,n;return(0,ur.jsxs)("li",{children:[(0,ur.jsx)("strong",{children:e.display})," (",(null===(t=e.person)||void 0===t?void 0:t.gender)||"\uc131\ubcc4 \ubbf8\uc0c1",", ",(null===(n=e.person)||void 0===n?void 0:n.birthdate)||"\uc0dd\ub144\uc6d4\uc77c \ubbf8\uc0c1",")"]},e.uuid)}))})]})},ol={container:{padding:"20px",maxWidth:"900px",margin:"0 auto",fontFamily:"Arial, sans-serif"},header:{background:"#f8f9fa",padding:"15px",borderRadius:"8px",marginBottom:"20px"},debugSection:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px",padding:"15px",background:"#e9ecef",borderRadius:"8px",flexWrap:"wrap"},testButton:{padding:"8px 15px",background:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},status:{fontSize:"12px",color:"#666",marginLeft:"auto"},loading:{textAlign:"center",padding:"20px",fontSize:"16px"},error:{background:"#fff3cd",border:"1px solid #ffeaa7",padding:"15px",borderRadius:"8px",marginBottom:"20px"},retryButton:{marginLeft:"10px",padding:"5px 10px",background:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},studiesContainer:{marginTop:"20px"},studyCard:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",marginBottom:"15px",background:"#ffffff",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},studyInfo:{flex:1},studyDetails:{fontSize:"14px",color:"#666"},uid:{fontSize:"12px",color:"#999",wordBreak:"break-all"},studyActions:{display:"flex",flexDirection:"column",gap:"8px",marginLeft:"15px"},ohifButton:{padding:"8px 16px",background:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",whiteSpace:"nowrap"},orthancButton:{padding:"8px 16px",background:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",whiteSpace:"nowrap"},noData:{textAlign:"center",padding:"40px",color:"#666"},noPatient:{textAlign:"center",padding:"40px",color:"#666"}},il=e=>{var t,n;let{patient:r}=e;const[a,i]=(0,o.useState)([]),[l,s]=(0,o.useState)(!1),[c,d]=(0,o.useState)(""),u="https://meddocai.p-e.kr/ohif-viewer",p="https://meddocai.p-e.kr/app/";(0,o.useEffect)((()=>{null!==r&&void 0!==r&&r.uuid&&f()}),[r]);const f=async()=>{try{s(!0),d(""),console.log("\ud83d\udd0d \ud658\uc790 DICOM Studies \uc870\ud68c:",r.uuid);const e=await cr.get("".concat("https://meddocai.p-e.kr/api/","integration/patients/").concat(r.uuid,"/dicom-studies/"));e.data.success?(i(e.data.studies||[]),console.log("\u2705 DICOM Studies \uc870\ud68c \uc131\uacf5:",e.data.studies)):d(e.data.error||"DICOM Studies \uc870\ud68c \uc2e4\ud328")}catch(e){console.error("\u274c DICOM Studies \uc870\ud68c \uc2e4\ud328:",e),d("DICOM Studies \uc870\ud68c \uc911 \uc624\ub958 \ubc1c\uc0dd")}finally{s(!1)}};return(0,ur.jsxs)("div",{style:ol.container,children:[(0,ur.jsxs)("div",{style:ol.header,children:[(0,ur.jsx)("h2",{children:"\ud83d\uddbc\ufe0f DICOM \uc601\uc0c1 \ubdf0\uc5b4"}),r&&(0,ur.jsxs)("p",{children:["\ud658\uc790: ",r.display||r.name," (ID: ",(null===(t=r.identifiers)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.identifier)||r.uuid,")"]})]}),(0,ur.jsxs)("div",{style:ol.debugSection,children:[(0,ur.jsx)("button",{onClick:async()=>{const e=await(async()=>{try{return(await fetch("".concat(u),{method:"GET"})).ok}catch(c){return console.log("OHIF \uc5f0\uacb0 \uc2e4\ud328:",c),!1}})();if(!e)return void alert("\u274c OHIF Viewer\uac00 \uc2e4\ud589\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\nDocker\ub85c OHIF\ub97c \uba3c\uc800 \uc2e4\ud589\ud574\uc8fc\uc138\uc694.");const t="".concat(u,"/viewer?StudyInstanceUIDs=").concat("1.2.840.113619.2.5.1762583153.215519.978957063.78");console.log("\ud83e\uddea OHIF \ud14c\uc2a4\ud2b8:",t),window.open(t,"_blank","width=1400,height=900")},style:ol.testButton,children:"\ud83e\uddea OHIF \ud14c\uc2a4\ud2b8"}),(0,ur.jsx)("button",{onClick:()=>window.open("".concat(p,"/app/explorer.html"),"_blank"),style:Ft(Ft({},ol.testButton),{},{background:"#17a2b8"}),children:"\ud83d\udd0d Orthanc \ud0d0\uc0c9\uae30"}),(0,ur.jsxs)("span",{style:ol.status,children:["OHIF: ",u," | Orthanc: ",p]})]}),l&&(0,ur.jsx)("div",{style:ol.loading,children:"\ud83d\udd04 DICOM Studies \uc870\ud68c \uc911..."}),c&&(0,ur.jsxs)("div",{style:ol.error,children:["\u26a0\ufe0f ",c,(0,ur.jsx)("button",{onClick:f,style:ol.retryButton,children:"\ud83d\udd04 \ub2e4\uc2dc \uc2dc\ub3c4"})]}),a.length>0&&(0,ur.jsxs)("div",{style:ol.studiesContainer,children:[(0,ur.jsxs)("h3",{children:["\ud83d\udcc1 DICOM Studies (",a.length,"\uac1c)"]}),a.map(((e,t)=>(0,ur.jsxs)("div",{style:ol.studyCard,children:[(0,ur.jsxs)("div",{style:ol.studyInfo,children:[(0,ur.jsx)("h4",{children:e.study_description||"Unknown Study"}),(0,ur.jsxs)("div",{style:ol.studyDetails,children:[(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\ub0a0\uc9dc:"})," ",h(e.study_date)]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"Modality:"})," ",e.modality||"N/A"]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"Series:"})," ",e.series_count||0,"\uac1c"]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"Images:"})," ",e.instances_count||0,"\uac1c"]}),(0,ur.jsxs)("p",{style:ol.uid,children:[(0,ur.jsx)("strong",{children:"Study UID:"})," ",e.study_instance_uid||"N/A"]})]})]}),(0,ur.jsxs)("div",{style:ol.studyActions,children:[(0,ur.jsx)("button",{onClick:()=>(e=>{const t=e.study_instance_uid;if(!t)return void alert("\u274c Study Instance UID\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");const n="".concat(u,"/viewer?StudyInstanceUIDs=").concat(t);console.log("\ud83d\ude80 OHIF \uc5f4\uae30:",n),window.open(n,"_blank","width=1400,height=900,scrollbars=yes,resizable=yes")||alert("\u26a0\ufe0f \ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud31d\uc5c5 \ud5c8\uc6a9 \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")})(e),style:ol.ohifButton,disabled:!e.study_instance_uid,children:"\ud83d\uddbc\ufe0f OHIF\ub85c \ubcf4\uae30"}),(0,ur.jsx)("button",{onClick:()=>(e=>{const t=e.orthanc_study_id;if(!t)return void alert("\u274c Orthanc Study ID\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");const n="".concat(p,"/app/explorer.html#study?uuid=").concat(t);window.open(n,"_blank")})(e),style:ol.orthancButton,disabled:!e.orthanc_study_id,children:"\ud83d\udd17 Orthanc\ub85c \ubcf4\uae30"})]})]},e.orthanc_study_id||t)))]}),!l&&!c&&0===a.length&&r&&(0,ur.jsx)("div",{style:ol.noData,children:(0,ur.jsx)("p",{children:"\ud83d\udcca \uc774 \ud658\uc790\uc5d0 \ub300\ud55c DICOM \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}),!r&&(0,ur.jsx)("div",{style:ol.noPatient,children:(0,ur.jsx)("p",{children:"\ud83d\udc64 \ud658\uc790\ub97c \uc120\ud0dd\ud558\uba74 DICOM \uc601\uc0c1\uc744 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4."})})]});function h(e){if(!e)return"N/A";try{if(8===e.length&&/^\d{8}$/.test(e)){const t=e.substr(0,4),n=e.substr(4,2),r=e.substr(6,2);return"".concat(t,"-").concat(n,"-").concat(r)}return new Date(e).toLocaleDateString()}catch(t){return e}}},ll=e=>{let{currentPage:t,onPageChange:n}=e;const r={color:"#ecf0f1",padding:"0.5rem 1rem",borderRadius:"4px",cursor:"pointer",transition:"all 0.3s",border:"none",backgroundColor:"transparent",fontSize:"16px",textDecoration:"none"},a=Ft(Ft({},r),{},{backgroundColor:"#34495e",color:"#fff",fontWeight:"bold"});return(0,ur.jsx)("nav",{style:{backgroundColor:"#2c3e50",padding:"1rem 0",marginBottom:"2rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:(0,ur.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 20px"},children:[(0,ur.jsx)("div",{style:{color:"#fff",fontSize:"24px",fontWeight:"bold",cursor:"pointer",transition:"color 0.3s"},onClick:()=>n("request"),onMouseEnter:e=>e.target.style.color="#5ACEFF",onMouseLeave:e=>e.target.style.color="#fff",title:"\ud648\uc73c\ub85c \uc774\ub3d9",children:"RIS System"}),(0,ur.jsxs)("ul",{style:{display:"flex",gap:"2rem",listStyle:"none",margin:0,padding:0},children:[(0,ur.jsx)("li",{children:(0,ur.jsx)("button",{style:"request"===t?a:r,onClick:()=>n("request"),onMouseEnter:e=>{"request"!==t&&(e.target.style.backgroundColor="#34495e")},onMouseLeave:e=>{"request"!==t&&(e.target.style.backgroundColor="transparent")},children:"\ud83d\udcdd \uc601\uc0c1 \uac80\uc0ac \uc694\uccad"})}),(0,ur.jsx)("li",{children:(0,ur.jsx)("button",{style:"results"===t?a:r,onClick:()=>n("results"),onMouseEnter:e=>{"results"!==t&&(e.target.style.backgroundColor="#34495e")},onMouseLeave:e=>{"results"!==t&&(e.target.style.backgroundColor="transparent")},children:"\ud83d\udccb Work List"})}),(0,ur.jsx)("li",{children:(0,ur.jsx)("button",{style:"schedule"===t?a:r,onClick:()=>n("schedule"),onMouseEnter:e=>{"schedule"!==t&&(e.target.style.backgroundColor="#34495e")},onMouseLeave:e=>{"schedule"!==t&&(e.target.style.backgroundColor="transparent")},children:"\ud83d\uddbc\ufe0f \uc601\uc0c1 \ubd84\uc11d (OHIF)"})}),(0,ur.jsx)("li",{children:(0,ur.jsx)("button",{style:"pacs"===t?a:r,onClick:()=>n("pacs"),onMouseEnter:e=>{"pacs"!==t&&(e.target.style.backgroundColor="#34495e")},onMouseLeave:e=>{"pacs"!==t&&(e.target.style.backgroundColor="transparent")},children:"\ud83d\udd0d PACS Explorer 2"})}),(0,ur.jsx)("li",{children:(0,ur.jsx)("button",{style:"settings"===t?a:r,onClick:()=>n("settings"),onMouseEnter:e=>{"settings"!==t&&(e.target.style.backgroundColor="#34495e")},onMouseLeave:e=>{"settings"!==t&&(e.target.style.backgroundColor="transparent")},children:"\u2699\ufe0f \uc124\uc815"})})]})]})})},sl=()=>{const[e,t]=(0,o.useState)({patient_id:"",patient_name:"",birth_date:"",sex:"M",body_part:"",modality:"",requesting_physician:""}),[n,r]=(0,o.useState)(!1),a=e=>{const{name:n,value:r}=e.target;t((e=>Ft(Ft({},e),{},{[n]:r})))},i={border:"1px solid #333",padding:"8px",backgroundColor:"#f5f5f5",textAlign:"center",fontSize:"14px",fontWeight:"bold"},l={border:"1px solid #333",padding:"4px"},s={width:"100%",padding:"4px",border:"none",fontSize:"13px",outline:"none"},c={width:"100%",padding:"4px",border:"none",fontSize:"13px",outline:"none"},d={padding:"6px 12px",fontSize:"13px",backgroundColor:n?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:n?"not-allowed":"pointer"};return(0,ur.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px",backgroundColor:"white",fontFamily:"Arial, sans-serif"},children:[(0,ur.jsx)("h2",{style:{fontSize:"20px",fontWeight:"bold",marginBottom:"20px",color:"#333"},children:"\uc601\uc0c1 \uac80\uc0ac \uc694\uccad \uc11c\uc2dd"}),(0,ur.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",border:"2px solid #333"},children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{style:i,children:"\ud658\uc790 \ubc88\ud638"}),(0,ur.jsx)("th",{style:i,children:"\ud658\uc790 \uc774\ub984"}),(0,ur.jsx)("th",{style:i,children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,ur.jsx)("th",{style:i,children:"\uc131\ubcc4"}),(0,ur.jsx)("th",{style:i,children:"\uac80\uc0ac \ubd80\uc704"}),(0,ur.jsx)("th",{style:i,children:"Modality"}),(0,ur.jsx)("th",{style:i,children:"\uc694\uccad \uc758\uc0ac"}),(0,ur.jsx)("th",{style:i,children:"\ub4f1\ub85d"})]})}),(0,ur.jsx)("tbody",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{style:l,children:(0,ur.jsx)("input",{type:"text",name:"patient_id",value:e.patient_id,onChange:a,style:s,placeholder:"P001234"})}),(0,ur.jsx)("td",{style:l,children:(0,ur.jsx)("input",{type:"text",name:"patient_name",value:e.patient_name,onChange:a,style:s,placeholder:"\ud658\uc790\uba85"})}),(0,ur.jsx)("td",{style:l,children:(0,ur.jsx)("input",{type:"date",name:"birth_date",value:e.birth_date,onChange:a,style:s})}),(0,ur.jsx)("td",{style:l,children:(0,ur.jsxs)("select",{name:"sex",value:e.sex,onChange:a,style:c,children:[(0,ur.jsx)("option",{value:"M",children:"\ub0a8"}),(0,ur.jsx)("option",{value:"F",children:"\uc5ec"})]})}),(0,ur.jsx)("td",{style:l,children:(0,ur.jsx)("input",{type:"text",name:"body_part",value:e.body_part,onChange:a,style:s,placeholder:"Chest"})}),(0,ur.jsx)("td",{style:l,children:(0,ur.jsxs)("select",{name:"modality",value:e.modality,onChange:a,style:c,children:[(0,ur.jsx)("option",{value:"",children:"\uc120\ud0dd"}),(0,ur.jsx)("option",{value:"CR",children:"CR"}),(0,ur.jsx)("option",{value:"CT",children:"CT"}),(0,ur.jsx)("option",{value:"MR",children:"MR"}),(0,ur.jsx)("option",{value:"US",children:"US"}),(0,ur.jsx)("option",{value:"NM",children:"NM"}),(0,ur.jsx)("option",{value:"PT",children:"PT"}),(0,ur.jsx)("option",{value:"DX",children:"DX"}),(0,ur.jsx)("option",{value:"XA",children:"XA"}),(0,ur.jsx)("option",{value:"MG",children:"MG"})]})}),(0,ur.jsx)("td",{style:l,children:(0,ur.jsx)("input",{type:"text",name:"requesting_physician",value:e.requesting_physician,onChange:a,style:s,placeholder:"\uc758\uc0ac\uba85"})}),(0,ur.jsx)("td",{style:l,children:(0,ur.jsx)("button",{onClick:async()=>{if((()=>{const t=["patient_id","patient_name","birth_date","body_part","modality","requesting_physician"];for(let n of t)if(!e[n])return alert("".concat(n,"\uc744(\ub97c) \uc785\ub825\ud574\uc8fc\uc138\uc694.")),!1;return!0})()){r(!0);try{console.log("\uc804\uc1a1 \ub370\uc774\ud130:",e);const n=await fetch("http://127.0.0.1:8000/api/worklist/study-requests/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await n.json();if(console.log("\uc751\ub2f5:",r),!n.ok)throw new Error(r.message||"\uc694\uccad \uc2e4\ud328");alert("\uac80\uc0ac \uc694\uccad\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),t({patient_id:"",patient_name:"",birth_date:"",sex:"M",body_part:"",modality:"",requesting_physician:""})}catch(n){console.error("\uc5d0\ub7ec:",n),alert("\uc694\uccad \uc2e4\ud328: ".concat(n.message))}finally{r(!1)}}},disabled:n,style:d,children:n?"\ub4f1\ub85d\uc911":"\ub4f1\ub85d"})})]})})]}),(0,ur.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #dee2e6"},children:[(0,ur.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"10px"},children:"\ud604\uc7ac \uc785\ub825 \ub370\uc774\ud130:"}),(0,ur.jsx)("pre",{style:{fontSize:"12px",color:"#666"},children:JSON.stringify(e,null,2)})]}),(0,ur.jsxs)("div",{style:{marginTop:"15px",fontSize:"12px",color:"#666"},children:[(0,ur.jsx)("p",{children:"\u2022 \uc694\uccad\uc77c\uc2dc\ub294 \ub4f1\ub85d \ubc84\ud2bc \ud074\ub9ad \uc2dc \uc790\ub3d9\uc73c\ub85c \ud604\uc7ac \uc2dc\uac04\uc73c\ub85c \uc124\uc815\ub429\ub2c8\ub2e4."}),(0,ur.jsx)("p",{children:"\u2022 \ubaa8\ub4e0 \ud544\ub4dc\ub294 \ud544\uc218 \uc785\ub825 \ud56d\ubaa9\uc785\ub2c8\ub2e4."})]})]})},cl=e=>{let{onStudySelect:t}=e;const[n,r]=(0,o.useState)([]),[a,i]=(0,o.useState)([]),[l,s]=(0,o.useState)(!0),[c,d]=(0,o.useState)(null),[u,p]=(0,o.useState)({patientId:"",patientName:"",modality:"",bodyPart:"",requestingPhysician:"",studyStatus:"",reportStatus:""}),f=re(),h="https://meddocai.p-e.kr/api/";(0,o.useEffect)((()=>{m()}),[]);const m=async()=>{try{s(!0),d(null);const e=await fetch("".concat(h,"worklist/work-list/"));if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));const t=await e.json();console.log("\ubc1b\uc740 \ub370\uc774\ud130:",t),"success"===t.status&&t.data&&Array.isArray(t.data)?(r(t.data),i(t.data)):(console.error("\uc608\uc0c1\uacfc \ub2e4\ub978 \ub370\uc774\ud130 \uad6c\uc870:",t),r([]),i([]))}catch(e){console.error("API \ud638\ucd9c \uc5d0\ub7ec:",e),d(e.message)}finally{s(!1)}};(0,o.useEffect)((()=>{(()=>{const e=n.filter((e=>{var t,n;return(""===u.patientId||e.patient_id.includes(u.patientId))&&(""===u.patientName||e.patient_name.toLowerCase().includes(u.patientName.toLowerCase()))&&(""===u.modality||e.modality===u.modality)&&(""===u.bodyPart||(null===(t=e.body_part)||void 0===t?void 0:t.toLowerCase().includes(u.bodyPart.toLowerCase())))&&(""===u.requestingPhysician||(null===(n=e.requesting_physician)||void 0===n?void 0:n.toLowerCase().includes(u.requestingPhysician.toLowerCase())))&&(""===u.studyStatus||e.study_status===u.studyStatus)&&(""===u.reportStatus||e.report_status===u.reportStatus)}));i(e)})()}),[u,n]);const g=[...new Set(n.map((e=>e.modality)).filter(Boolean))],y=(new Set(n.map((e=>e.body_part)).filter(Boolean)),[...new Set(n.map((e=>e.study_status)).filter(Boolean))]),x=[...new Set(n.map((e=>e.report_status)).filter(Boolean))],v=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("ko-KR")},b=e=>{if(!e)return"-";return new Date(e).toLocaleString("ko-KR")},j=e=>{const t={requested:{text:"\uc694\uccad\ub428",color:"#3498db",bg:"#e3f2fd"},scheduled:{text:"\uc608\uc57d\ub428",color:"#f39c12",bg:"#fff3cd"},in_progress:{text:"\uc9c4\ud589\uc911",color:"#e67e22",bg:"#ffeaa7"},completed:{text:"\uc644\ub8cc\ub428",color:"#27ae60",bg:"#d4edda"},cancelled:{text:"\ucde8\uc18c\ub428",color:"#e74c3c",bg:"#f8d7da"}}[e]||{text:e,color:"#6c757d",bg:"#f8f9fa"};return(0,ur.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",backgroundColor:t.bg,color:t.color},children:t.text})};return l?(0,ur.jsxs)("div",{style:{textAlign:"center",padding:"60px",color:"#6c757d"},children:[(0,ur.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\u23f3"}),(0,ur.jsx)("p",{style:{fontSize:"18px"},children:"\uc6cc\ud06c\ub9ac\uc2a4\ud2b8\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."})]}):c?(0,ur.jsxs)("div",{style:{textAlign:"center",padding:"60px",color:"#e74c3c"},children:[(0,ur.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\u26a0\ufe0f"}),(0,ur.jsxs)("p",{style:{fontSize:"18px",marginBottom:"20px"},children:["\uc624\ub958: ",c]}),(0,ur.jsx)("button",{onClick:m,style:{padding:"10px 20px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"\ub2e4\uc2dc \uc2dc\ub3c4"})]}):(0,ur.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:[(0,ur.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px",borderBottom:"2px solid #3498db",paddingBottom:"15px"},children:[(0,ur.jsx)("h2",{style:{margin:0,color:"#2c3e50",fontSize:"28px",fontWeight:"bold"},children:"\ud83d\udccb \uc6cc\ud06c\ub9ac\uc2a4\ud2b8 \uad00\ub9ac"}),(0,ur.jsx)("button",{onClick:m,style:{padding:"8px 16px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"all 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#219a52",onMouseOut:e=>e.target.style.backgroundColor="#27ae60",children:"\ud83d\udd04 \uc0c8\ub85c\uace0\uce68"})]}),(0,ur.jsxs)("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #dee2e6"},children:[(0,ur.jsx)("h4",{style:{margin:"0 0 15px 0",color:"#495057"},children:"\ud83d\udd0d \uac80\uc0c9 \ud544\ud130"}),(0,ur.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px"},children:[(0,ur.jsx)("input",{type:"text",placeholder:"\ud658\uc790 ID",value:u.patientId,onChange:e=>p(Ft(Ft({},u),{},{patientId:e.target.value})),style:{padding:"8px",border:"1px solid #ced4da",borderRadius:"4px"}}),(0,ur.jsx)("input",{type:"text",placeholder:"\ud658\uc790 \uc774\ub984",value:u.patientName,onChange:e=>p(Ft(Ft({},u),{},{patientName:e.target.value})),style:{padding:"8px",border:"1px solid #ced4da",borderRadius:"4px"}}),(0,ur.jsxs)("select",{value:u.modality,onChange:e=>p(Ft(Ft({},u),{},{modality:e.target.value})),style:{padding:"8px",border:"1px solid #ced4da",borderRadius:"4px"},children:[(0,ur.jsx)("option",{value:"",children:"\ubaa8\ub4e0 \ubaa8\ub2ec\ub9ac\ud2f0"}),g.map((e=>(0,ur.jsx)("option",{value:e,children:e},e)))]}),(0,ur.jsx)("input",{type:"text",placeholder:"\uac80\uc0ac \ubd80\uc704",value:u.bodyPart,onChange:e=>p(Ft(Ft({},u),{},{bodyPart:e.target.value})),style:{padding:"8px",border:"1px solid #ced4da",borderRadius:"4px"}}),(0,ur.jsx)("input",{type:"text",placeholder:"\uc694\uccad \uc758\uc0ac",value:u.requestingPhysician,onChange:e=>p(Ft(Ft({},u),{},{requestingPhysician:e.target.value})),style:{padding:"8px",border:"1px solid #ced4da",borderRadius:"4px"}}),(0,ur.jsxs)("select",{value:u.studyStatus,onChange:e=>p(Ft(Ft({},u),{},{studyStatus:e.target.value})),style:{padding:"8px",border:"1px solid #ced4da",borderRadius:"4px"},children:[(0,ur.jsx)("option",{value:"",children:"\ubaa8\ub4e0 \uac80\uc0ac \uc0c1\ud0dc"}),y.map((e=>(0,ur.jsx)("option",{value:e,children:e},e)))]}),(0,ur.jsxs)("select",{value:u.reportStatus,onChange:e=>p(Ft(Ft({},u),{},{reportStatus:e.target.value})),style:{padding:"8px",border:"1px solid #ced4da",borderRadius:"4px"},children:[(0,ur.jsx)("option",{value:"",children:"\ubaa8\ub4e0 \ub9ac\ud3ec\ud2b8 \uc0c1\ud0dc"}),x.map((e=>(0,ur.jsx)("option",{value:e,children:e},e)))]}),(0,ur.jsx)("button",{onClick:()=>{p({patientId:"",patientName:"",modality:"",bodyPart:"",requestingPhysician:"",studyStatus:"",reportStatus:""}),i(n)},style:{padding:"8px 16px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\ud83d\uddd1\ufe0f \ud544\ud130 \ucd08\uae30\ud654"})]})]}),(0,ur.jsx)("div",{style:{display:"flex",gap:"15px",marginBottom:"20px"},children:(0,ur.jsxs)("div",{style:{backgroundColor:"#e3f2fd",padding:"15px",borderRadius:"8px",textAlign:"center",flex:1},children:[(0,ur.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1976d2"},children:a.length}),(0,ur.jsx)("div",{style:{fontSize:"14px",color:"#666"},children:"\ucd1d \uac80\uc0ac \uac74\uc218"})]})}),0===a.length?(0,ur.jsxs)("div",{style:{textAlign:"center",padding:"60px 40px",backgroundColor:"#f8f9fa",borderRadius:"10px",border:"2px dashed #dee2e6"},children:[(0,ur.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\ud83d\udccb"}),(0,ur.jsx)("p",{style:{fontSize:"18px",color:"#6c757d",margin:0},children:0===n.length?"\ub4f1\ub85d\ub41c \uac80\uc0ac \uc694\uccad\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uac80\uc0c9 \uc870\uac74\uc5d0 \ub9de\ub294 \uac80\uc0ac \uc694\uccad\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]}):(0,ur.jsx)("div",{style:{overflowX:"auto",border:"1px solid #dee2e6",borderRadius:"8px"},children:(0,ur.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",fontSize:"13px"},children:[(0,ur.jsx)("thead",{style:{backgroundColor:"#495057",color:"white"},children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"60px"},children:"ID"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"100px"},children:"\ud658\uc790\ubc88\ud638"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"120px"},children:"\ud658\uc790\uba85"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"100px"},children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"60px"},children:"\uc131\ubcc4"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"80px"},children:"\uac80\uc0ac\ubd80\uc704"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"80px"},children:"\ubaa8\ub2ec\ub9ac\ud2f0"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"120px"},children:"\uc694\uccad\uc758\uc0ac"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"180px"},children:"\uc694\uccad\uc77c\uc2dc"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"180px"},children:"\uac80\uc0ac\uc77c\uc2dc"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"120px"},children:"\ud310\ub3c5\uc758\uc0ac"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"200px"},children:"Study UID"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"150px"},children:"Accession Number"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"100px"},children:"\uac80\uc0ac\uc0c1\ud0dc"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"100px"},children:"\ub9ac\ud3ec\ud2b8\uc0c1\ud0dc"}),(0,ur.jsx)("th",{style:{padding:"12px 8px",border:"1px solid #34495e",minWidth:"120px"},children:"\ud83d\udd2c AI \ubd84\uc11d"})]})}),(0,ur.jsx)("tbody",{children:a.map(((e,n)=>(0,ur.jsxs)("tr",{style:{backgroundColor:n%2===0?"#f8f9fa":"#fff",transition:"background-color 0.2s",cursor:"pointer"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#e3f2fd",onMouseLeave:e=>e.currentTarget.style.backgroundColor=n%2===0?"#f8f9fa":"#fff",onClick:()=>t&&t(e.id),title:"\ud074\ub9ad\ud558\uc5ec \uc0c1\uc138 \uc815\ubcf4 \ubcf4\uae30",children:[(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center",fontWeight:"bold"},children:e.id}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center",fontWeight:"bold"},children:e.patient_id}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center",fontWeight:"bold"},children:e.patient_name}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:v(e.birth_date)}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:"M"===e.sex?"\ub0a8\uc131":"F"===e.sex?"\uc5ec\uc131":e.sex}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:e.body_part}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center",fontWeight:"bold"},children:e.modality}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:e.requesting_physician}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center",fontSize:"12px"},children:b(e.request_datetime)}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center",fontSize:"12px"},children:b(e.scheduled_exam_datetime)}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:e.interpreting_physician||"-"}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center",fontSize:"10px",wordBreak:"break-all"},children:e.study_uid||"-"}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:e.accession_number||"-"}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:j(e.study_status)}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:j(e.report_status)}),(0,ur.jsx)("td",{style:{padding:"12px 10px",border:"1px solid #dee2e6",textAlign:"center"},children:(0,ur.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{try{console.log("\ud83d\ude80 \ubd84\uc11d \uc2dc\uc791:",e);const t=await fetch("".concat(h,"integration/worklist/").concat(e.id,"/mapped-studies/"));if(!t.ok)return void alert("\ud658\uc790\uc758 DICOM \ub370\uc774\ud130\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");const n=await t.json();if(!n.success||!n.studies||0===n.studies.length)return void alert("\ud574\ub2f9 \ud658\uc790\uc758 DICOM \uc601\uc0c1\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uba3c\uc800 DICOM \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694.");const r=n.studies[0].study_instance_uid;if(!r)return void alert("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");f("/analysis",{state:{studyUID:r,patientInfo:{patient_id:e.patient_id,patient_name:e.patient_name,modality:e.modality,body_part:e.body_part,request_id:e.id},dicomStudies:n.studies,worklistItem:e}})}catch(c){console.error("\ubd84\uc11d \uc2dc\uc791 \uc2e4\ud328:",c),alert("\ubd84\uc11d\uc744 \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4: "+c.message)}})(e)},style:{padding:"6px 12px",backgroundColor:"#17a2b8",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"all 0.3s"},onMouseOver:e=>e.target.style.backgroundColor="#138496",onMouseOut:e=>e.target.style.backgroundColor="#17a2b8",title:"AI \ubd84\uc11d \uc2dc\uc791",children:"\ud83d\udd2c \ubd84\uc11d"})})]},e.id)))})]})})]})},dl={overlayContainer:"AnnotationOverlay_overlayContainer__QSJAf",drawingMode:"AnnotationOverlay_drawingMode__8J6pZ",normalMode:"AnnotationOverlay_normalMode__1nXfQ",currentBox:"AnnotationOverlay_currentBox__u09p6",annotationBox:"AnnotationOverlay_annotationBox__jVDJp",annotationLabel:"AnnotationOverlay_annotationLabel__STK1p",deleteButton:"AnnotationOverlay_deleteButton__PySJA",pulse:"AnnotationOverlay_pulse__BRyQr"},ul=e=>{let{drawingMode:t,currentBox:n,annotationBoxes:r,showAnnotations:a,showYOLOOverlays:o,showSSDOverlays:i,showbothOverlays:l,overlayRef:s,onMouseDown:c,onMouseMove:d,onMouseUp:u,onDeleteAnnotation:p,onDrawingStart:f,onModalOpen:h}=e;const m=e=>{e.stopPropagation(),console.log("\ud83d\uddb1\ufe0f \uc5b4\ub178\ud14c\uc774\uc158 \ubc15\uc2a4 \ud074\ub9ad - \uc5b4\ub178\ud14c\uc774\uc158 \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),f&&f()};return(0,ur.jsxs)("div",{ref:s,className:"".concat(dl.overlayContainer," ").concat(t?dl.drawingMode:dl.normalMode),onMouseDown:e=>{t&&f&&(console.log("\u270f\ufe0f \uc5b4\ub178\ud14c\uc774\uc158 \uadf8\ub9ac\uae30 \uc2dc\uc791 - \uc5b4\ub178\ud14c\uc774\uc158 \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),f()),c&&c(e)},onMouseMove:d,onMouseUp:u,children:[n&&(0,ur.jsx)("div",{className:dl.currentBox,style:{left:Math.min(n.startX,n.endX)+"px",top:Math.min(n.startY,n.endY)+"px",width:Math.abs(n.endX-n.startX)+"px",height:Math.abs(n.endY-n.startY)+"px"}}),a&&r.map((e=>{const n=(e=>{const t=e.model_name||"",n=e.confidence_score||e.confidence||0;return t.includes("YOLO")?o&&n>=.3:!t.includes("SSD")||i&&n>=.3})(e),r=Math.max(0,e.bbox.width||0),l=Math.max(0,e.bbox.height||0),s="number"===typeof e.bbox.x&&!isNaN(e.bbox.x)&&"number"===typeof e.bbox.y&&!isNaN(e.bbox.y)&&r>0&&l>0;return a&&n&&s?(0,ur.jsx)("div",{className:"".concat(dl.annotationBox," ").concat(t?dl.drawingMode:dl.normalMode," ").concat(e.model_name?dl["model-".concat(e.model_name.toLowerCase().replace(/[^a-z0-9]/g,""))]:dl.manualBox),style:{left:e.bbox.x+"px",top:e.bbox.y+"px",width:r+"px",height:l+"px",position:"absolute",pointerEvents:"auto",cursor:"pointer",border:"2px solid yellow",backgroundColor:"rgba(255, 255, 0, ".concat(e.confidence?.3*e.confidence:.1,")"),zIndex:100+(e.confidence?Math.floor(50*e.confidence):0)},onClick:m,children:(0,ur.jsxs)("div",{className:dl.annotationLabel,children:[e.label," (",(100*e.confidence).toFixed(0),"%) ",e.model_name?"(".concat(e.model_name,")"):"",(0,ur.jsx)("button",{onClick:t=>((e,t)=>{e.stopPropagation(),h&&(console.log("\ud83d\uddd1\ufe0f \uc0ad\uc81c \ubc84\ud2bc \ud074\ub9ad - \ubaa8\ub2ec\uc774 \uc5f4\ub9b4 \uc218 \uc788\uc74c"),h()),p&&p(t)})(t,e.id),className:dl.deleteButton,title:'"'.concat(e.label,'" \uc5b4\ub178\ud14c\uc774\uc158 \uc0ad\uc81c'),children:"\u2715"})]})},e.id):(console.log("\ud83e\udee5 \uc228\uae40/\ubb34\ud6a8 \ubc15\uc2a4: ID ".concat(e.id,", Label: ").concat(e.label,", Model: ").concat(e.model_name,", Display: ").concat(n,", Valid: ").concat(s)),null)}))]})},pl=(e,t,n,r)=>{if(!r||!t||!n||!e||4!==e.length)return console.warn("\uc88c\ud45c \ubcc0\ud658 \uc2e4\ud328: \ud544\uc218 \ud30c\ub77c\ubbf8\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",{iframe:!!r,imageWidth:t,imageHeight:n,bbox:e}),null;const a=r.getBoundingClientRect(),o=50,i=30,l=280,s=20,c={x:l,y:o,width:a.width-l-s,height:a.height-o-i};console.log("\ud83d\udcd0 \ud574\uc0c1\ub3c4 \uc815\ubcf4: \uc6d0\ubcf8=".concat(t,"x").concat(n,", \ud45c\uc2dc\uc601\uc5ed=").concat(Math.round(c.width),"x").concat(Math.round(c.height)));const d=c.width/t,u=c.height/n,p={left:e[0]*d+c.x,top:e[1]*u+c.y,width:(e[2]-e[0])*d,height:(e[3]-e[1])*u},f={left:Math.max(p.left,c.x),top:Math.max(p.top,c.y),right:Math.min(p.left+p.width,c.x+c.width),bottom:Math.min(p.top+p.height,c.y+c.height)},h={left:f.left,top:f.top,width:f.right-f.left,height:f.bottom-f.top};return h.width<10||h.height<10?(console.warn("\ubc15\uc2a4\uac00 \ub108\ubb34 \uc791\uc544\uc11c \ud45c\uc2dc\ud558\uc9c0 \uc54a\uc74c:",h),null):(console.log("\ud83d\udce6 \uc88c\ud45c \ubcc0\ud658: bbox=[".concat(e.join(","),"] \u2192 screen=[").concat(Math.round(h.left),",").concat(Math.round(h.top),",").concat(Math.round(h.width),",").concat(Math.round(h.height),"]")),h)},fl="ViewerIframe_viewerContainer__4Yd7K",hl="ViewerIframe_ohifIframe__HJd0t",ml="ViewerIframe_aiOverlayContainer__ygOUk",gl="ViewerIframe_loadingOverlay__QSQVf",yl="ViewerIframe_loadingSpinner__RNvl+",xl="ViewerIframe_errorOverlay__bEoXA",vl=e=>{let{analysisResults:t,overlays:n,showOverlays:r,onRecalculateOverlays:a,annotationProps:i,currentStudyUID:l,onStudyChange:s,ohifUrl:c="https://meddocai.p-e.kr/ohif-viewer/",showDebugInfo:d=!1,isLoading:u=!1,error:p=null}=e;const f=(0,o.useRef)(null),[h,m]=(0,o.useState)(null),[g,y]=(0,o.useState)("iframe"),[x,v]=(0,o.useState)(!0),b=e=>{const t={iframe:100,ai:200,annotation:300,modal:400};return g===e?t[e]+1e3:t[e]};(0,o.useEffect)((()=>{const e=()=>{console.log("\ud83c\udf2b\ufe0f \ucc3d \ud3ec\ucee4\uc2a4 \uc783\uc74c")},t=()=>{console.log("\ud83c\udf1f \ucc3d \ud3ec\ucee4\uc2a4 \ubcf5\uc6d0"),v(!0),a&&setTimeout((()=>a()),100)},n=()=>{document.hidden?console.log("\ud83c\udf2b\ufe0f \ud0ed \uc228\uae40"):(console.log("\ud83c\udf1f \ud0ed \ud45c\uc2dc"),v(!0),a&&setTimeout((()=>a()),100))};return window.addEventListener("blur",e),window.addEventListener("focus",t),document.addEventListener("visibilitychange",n),()=>{window.removeEventListener("blur",e),window.removeEventListener("focus",t),document.removeEventListener("visibilitychange",n)}}),[a]),(0,o.useEffect)((()=>{const e=f.current;if(!e)return;const t=new ResizeObserver((()=>{h&&clearTimeout(h);const e=setTimeout((()=>{n.length>0&&r&&a&&(console.log("\ud83d\udd04 \ub9ac\uc0ac\uc774\uc988 \uac10\uc9c0 - \uc624\ubc84\ub808\uc774 \uc7ac\uacc4\uc0b0"),a())}),150);m(e)})),o=()=>{h&&clearTimeout(h);const e=setTimeout((()=>{n.length>0&&r&&a&&(console.log("\ud83d\udd04 \uc708\ub3c4\uc6b0 \ub9ac\uc0ac\uc774\uc988 - \uc624\ubc84\ub808\uc774 \uc7ac\uacc4\uc0b0"),a())}),150);m(e)};return t.observe(e),window.addEventListener("resize",o),()=>{t.disconnect(),window.removeEventListener("resize",o),h&&clearTimeout(h)}}),[n.length,r,a,h]);return(0,ur.jsxs)("div",{className:fl,style:{"--z-iframe":b("iframe"),"--z-ai":b("ai"),"--z-annotation":b("annotation"),"--z-modal":b("modal")},children:[(0,ur.jsx)("iframe",{ref:f,src:"".concat(c),className:hl,title:"OHIF Viewer",onLoad:()=>{console.log("\ud83d\udcfa OHIF iframe \ub85c\ub529 \uc644\ub8cc"),a&&n.length>0&&setTimeout((()=>a()),500)},onError:()=>{console.error("\u274c OHIF iframe \ub85c\ub529 \uc2e4\ud328")},onClick:()=>{y("iframe")}}),u&&(0,ur.jsxs)("div",{className:gl,children:[(0,ur.jsx)("div",{className:yl}),"\ubd84\uc11d \uc911..."]}),p&&(0,ur.jsxs)("div",{className:xl,children:["\u274c \uc624\ub958 \ubc1c\uc0dd",(0,ur.jsx)("br",{}),p]}),(0,ur.jsx)(ul,Ft(Ft({},i),{},{onDrawingStart:()=>{y("annotation")},onModalOpen:()=>{y("modal")}})),n&&n.length>0&&(0,ur.jsx)("div",{className:ml,onClick:()=>{y("ai")},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"auto",zIndex:200,backgroundColor:d?"rgba(255, 0, 0, 0.05)":"transparent"},children:n.map(((e,n)=>{console.log("\ud83c\udfaf \uc624\ubc84\ub808\uc774 [".concat(n,"] \ub80c\ub354\ub9c1:"),e);const r=e.image_width||t&&t.image_width,a=e.image_height||t&&t.image_height;console.log("\ud83d\udcd0 \ud574\uc0c1\ub3c4 [".concat(n,"]:"),{imageWidth:r,imageHeight:a});const o=pl(e.bbox,r,a,f.current);if(console.log("\ud83d\udce6 \ubcc0\ud658\ub41c \ubc15\uc2a4 [".concat(n,"]:"),o),!o)return console.log("\u274c \ubc15\uc2a4 \ubcc0\ud658 \uc2e4\ud328 [".concat(n,"]")),null;const i=e.confidence>.8,l=o.height<=25;return(0,ur.jsx)("div",{style:{position:"absolute",left:o.left+"px",top:o.top+"px",width:o.width+"px",height:o.height+"px",border:"3px solid ".concat(i?"#00ff00":"#ffff00"),backgroundColor:"rgba(255, 0, 0, 0.1)",pointerEvents:"auto",boxSizing:"border-box",display:"block !important",visibility:"visible !important",opacity:1},onClick:()=>console.log("\ud83c\udfaf \uc624\ubc84\ub808\uc774 [".concat(n,"] \ud074\ub9ad\ub428:"),e),children:!l&&(0,ur.jsxs)("div",{style:{position:"absolute",top:"-25px",left:"0",background:i?"#00ff00":"#ffff00",color:"#000",padding:"2px 6px",fontSize:"12px",fontWeight:"bold",whiteSpace:"nowrap",borderRadius:"3px"},children:[e.label," (",Math.round(100*e.confidence),"%)"]})},"overlay-".concat(n,"-").concat(o.left,"-").concat(o.top))}))}),d&&(0,ur.jsx)("div",{style:{position:"absolute",top:"50px",left:"50px",width:"100px",height:"100px",border:"3px solid red",backgroundColor:"rgba(255, 0, 0, 0.2)",zIndex:999,pointerEvents:"auto"},children:(0,ur.jsx)("div",{style:{color:"red",fontWeight:"bold"},children:"\ud14c\uc2a4\ud2b8 \uc624\ubc84\ub808\uc774"})})]})},bl="AnnotationTools_annotationSection__dIR2E",jl="AnnotationTools_sectionHeader__KHKgj",wl="AnnotationTools_drawingToggleButton__927Ao",Sl="AnnotationTools_active__qLA3W",_l="AnnotationTools_inactive__UqZ3w",kl="AnnotationTools_actionButtons__5GXoI",Cl="AnnotationTools_actionButton__2j26u",Nl="AnnotationTools_saveButton__oHvyO",Ol="AnnotationTools_loadButton__lfXGu",Dl="AnnotationTools_dropdownContainer__vNNnh",El="AnnotationTools_dropdownToggle__5Hry4",Rl="AnnotationTools_dropdownContent__nmEAb",Tl="AnnotationTools_dropdownItem__X1nXq",Pl="AnnotationTools_itemContent__ZMhg3",Il="AnnotationTools_itemLabel__uC4Fu",Ll="AnnotationTools_itemLocation__zgw50",Al="AnnotationTools_itemDoctor__TUxtj",Ml="AnnotationTools_itemTime__xoPPT",zl="AnnotationTools_itemDeleteButton__UtEGN",Bl="AnnotationTools_dropdownEmpty__CcoI8",Fl="AnnotationTools_visibilityToggle__hVXzt",Ul="AnnotationTools_visible__p0ME8",Hl="AnnotationTools_hidden__c-WK2",Wl="AnnotationTools_statusInfo__1UVCl",Vl=e=>{let{drawingMode:t,annotationBoxes:n,showAnnotations:r,showAnnotationDropdown:a,onToggleDrawingMode:o,onToggleAnnotations:i,onToggleAnnotationDropdown:l,onSaveAnnotations:s,onLoadAnnotations:c,onDeleteIndividualAnnotation:d}=e;return(0,ur.jsxs)("div",{className:bl,children:[(0,ur.jsx)("h4",{className:jl,children:"\ud83c\udfaf \uc5b4\ub178\ud14c\uc774\uc158 \ub3c4\uad6c:"}),(0,ur.jsx)("button",{onClick:o,className:"".concat(wl," ").concat(t?Sl:_l),children:t?"\ud83d\udd12 \uadf8\ub9ac\uae30 \ubaa8\ub4dc OFF":"\u270f\ufe0f \uadf8\ub9ac\uae30 \ubaa8\ub4dc ON"}),(0,ur.jsxs)("div",{className:kl,children:[(0,ur.jsx)("button",{onClick:s,disabled:0===n.length,className:"".concat(Cl," ").concat(Nl),children:"\ud83d\udcbe \uc800\uc7a5"}),(0,ur.jsx)("button",{onClick:c,className:"".concat(Cl," ").concat(Ol),children:"\ud83d\udcc2 \ubd88\ub7ec\uc624\uae30"})]}),(0,ur.jsxs)("div",{className:Dl,children:[(0,ur.jsxs)("button",{onClick:l,className:El,children:[(0,ur.jsx)("span",{children:"\ud83d\udccb \uc800\uc7a5\ub41c \uc5b4\ub178\ud14c\uc774\uc158 \ubaa9\ub85d"}),(0,ur.jsx)("span",{children:a?"\u25b2":"\u25bc"})]}),a&&(0,ur.jsx)("div",{className:Rl,children:n.length>0?n.map((e=>(0,ur.jsxs)("div",{className:Tl,children:[(0,ur.jsxs)("div",{className:Pl,children:[(0,ur.jsx)("div",{className:Il,children:e.label}),(0,ur.jsxs)("div",{className:Ll,children:["\uc704\uce58: [",e.left,", ",e.top,", ",e.left+e.width,", ",e.top+e.height,"]"]}),(0,ur.jsx)("div",{className:Al,children:"\ud310\ub3c5\uc758: DR001 - \uae40\uc601\uc0c1"}),(0,ur.jsx)("div",{className:Ml,children:e.created?new Date(e.created).toLocaleString():"\ubc29\uae08 \uc804"})]}),(0,ur.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e.id)},className:zl,title:'"'.concat(e.label,'" \uc5b4\ub178\ud14c\uc774\uc158 \uc0ad\uc81c'),children:"\u2715"})]},e.id))):(0,ur.jsx)("div",{className:Bl,children:"\uc800\uc7a5\ub41c \uc5b4\ub178\ud14c\uc774\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})})]}),n.length>0&&(0,ur.jsxs)("button",{onClick:i,className:"".concat(Fl," ").concat(r?Ul:Hl),children:[r?"\ud83d\ude48 \uc5b4\ub178\ud14c\uc774\uc158 \uc228\uae30\uae30":"\ud83d\udc41\ufe0f \uc5b4\ub178\ud14c\uc774\uc158 \ud45c\uc2dc"," (",n.length,"\uac1c)"]}),n.length>0&&(0,ur.jsxs)("div",{className:Wl,children:["\ud83d\udcdd \uc5b4\ub178\ud14c\uc774\uc158: ",n.length,"\uac1c"]})]})},ql={analysisPanel:"AnalysisPanel_analysisPanel__f4AOE",panelHeader:"AnalysisPanel_panelHeader__6VVOK",statusMessage:"AnalysisPanel_statusMessage__P4s3u",studyInfo:"AnalysisPanel_studyInfo__PfGzt",studyInfoHeader:"AnalysisPanel_studyInfoHeader__D7VwR",studyUid:"AnalysisPanel_studyUid__UL4tL",studyUidError:"AnalysisPanel_studyUidError__GD4Z1",studyCount:"AnalysisPanel_studyCount__xHwLT",imageResolution:"AnalysisPanel_imageResolution__B8nM1",refreshButtons:"AnalysisPanel_refreshButtons__BEzhG",refreshButton:"AnalysisPanel_refreshButton__vDZ2q",recalculateButton:"AnalysisPanel_recalculateButton__i4UYU",studySelector:"AnalysisPanel_studySelector__qyxwS",studySelectorLabel:"AnalysisPanel_studySelectorLabel__4W4UK",studySelectorDropdown:"AnalysisPanel_studySelectorDropdown__uz+uC",aiSection:"AnalysisPanel_aiSection__dONFk",aiSectionHeader:"AnalysisPanel_aiSectionHeader__vsy2v",aiButtons:"AnalysisPanel_aiButtons__dj4Y3",aiButtonLarge:"AnalysisPanel_aiButtonLarge__O0uvR",yoloButton:"AnalysisPanel_yoloButton__7L64F",ssdButton:"AnalysisPanel_ssdButton__gw1av",smallButtons:"AnalysisPanel_smallButtons__6e0aT",smallButton:"AnalysisPanel_smallButton__9OE6o",loadButton:"AnalysisPanel_loadButton__Io1Nt",clearButton:"AnalysisPanel_clearButton__MDzpp",statusButton:"AnalysisPanel_statusButton__eLPeu",overlayToggle:"AnalysisPanel_overlayToggle__6GaiB",overlayToggleShow:"AnalysisPanel_overlayToggleShow__-gy4o",overlayToggleHide:"AnalysisPanel_overlayToggleHide__bjLtN",reportSection:"AnalysisPanel_reportSection__Ybonm",reportButtons:"AnalysisPanel_reportButtons__FUwnf",reportButton:"AnalysisPanel_reportButton__x0KcK",reportLoadButton:"AnalysisPanel_reportLoadButton__4qLI4",reportCreateButton:"AnalysisPanel_reportCreateButton__TMy9C",reportDropdownToggle:"AnalysisPanel_reportDropdownToggle__GSnqT",reportDropdownContent:"AnalysisPanel_reportDropdownContent__aDqoH",reportDropdownItem:"AnalysisPanel_reportDropdownItem__Co5DP",reportItemHeader:"AnalysisPanel_reportItemHeader__U47dP",reportItemDate:"AnalysisPanel_reportItemDate__BoZ9X",reportItemDoctor:"AnalysisPanel_reportItemDoctor__tucAe",reportItemStatus:"AnalysisPanel_reportItemStatus__3bizL",reportItemStatusLabel:"AnalysisPanel_reportItemStatusLabel__NQgdg",reportItemStatusSelect:"AnalysisPanel_reportItemStatusSelect__EYeJJ",reportDropdownEmpty:"AnalysisPanel_reportDropdownEmpty__QXAQh",reportDeleteButton:"AnalysisPanel_reportDeleteButton__qrvEk",resultsSection:"AnalysisPanel_resultsSection__RQVx+",resultsSectionHeader:"AnalysisPanel_resultsSectionHeader__+nDgh",resultsOverview:"AnalysisPanel_resultsOverview__OI6-i",resultsOverviewItem:"AnalysisPanel_resultsOverviewItem__Oh5ZK",detectionCard:"AnalysisPanel_detectionCard__Z5Fpw",detectionCardHigh:"AnalysisPanel_detectionCardHigh__DaFKr",detectionCardLow:"AnalysisPanel_detectionCardLow__NIERS",detectionHeader:"AnalysisPanel_detectionHeader__06XOL",detectionLabelHigh:"AnalysisPanel_detectionLabelHigh__4eSmD",detectionLabelLow:"AnalysisPanel_detectionLabelLow__NSJ-M",confidenceBadgeHigh:"AnalysisPanel_confidenceBadgeHigh__c6WBB",confidenceBadgeLow:"AnalysisPanel_confidenceBadgeLow__NrlEr",detectionLocation:"AnalysisPanel_detectionLocation__265oh",detectionResolution:"AnalysisPanel_detectionResolution__xnrwT",detectionDescription:"AnalysisPanel_detectionDescription__kyADf",jsonDetails:"AnalysisPanel_jsonDetails__VyuhJ",jsonSummary:"AnalysisPanel_jsonSummary__IAIJy",jsonContent:"AnalysisPanel_jsonContent__s9Bcx",overlayControls:"AnalysisPanel_overlayControls__h98Qz",overlayToggleBtn:"AnalysisPanel_overlayToggleBtn__H1xny",active:"AnalysisPanel_active__O0I7q",resultsList:"AnalysisPanel_resultsList__sXpeX",resultItem:"AnalysisPanel_resultItem__qPNSd",resultInfo:"AnalysisPanel_resultInfo__Uhl-s",resultHeader:"AnalysisPanel_resultHeader__7+GEg",resultLabel:"AnalysisPanel_resultLabel__Uuv2E",resultConfidence:"AnalysisPanel_resultConfidence__5qlxY",resultDetails:"AnalysisPanel_resultDetails__AWd-w",deleteResultBtn:"AnalysisPanel_deleteResultBtn__LUdVf",deleteModalOverlay:"AnalysisPanel_deleteModalOverlay__Uk+6o",deleteModalContent:"AnalysisPanel_deleteModalContent__bai2r",modalSlideIn:"AnalysisPanel_modalSlideIn__v4Qc3",deleteModalButtons:"AnalysisPanel_deleteModalButtons__nbJ-a",confirmBtn:"AnalysisPanel_confirmBtn__LoGPL",cancelBtn:"AnalysisPanel_cancelBtn__ZuF7d"},Yl=e=>{let{analysisStatus:t,analysisResults:n,overlays:r,showOverlays:a,onAnalyzeYOLO:o,onAnalyzeSSD:i,onLoadSavedResults:l,onClearResults:s,onCheckModelStatus:c,onRecalculateOverlays:d,onRequestDeleteResult:u,onToggleYOLOOverlays:p,showYOLOOverlays:f,onToggleSSDOverlays:h,showSSDOverlays:m,onToggleOverlayMode:g,currentStudyUID:y,availableStudies:x,onSelectStudy:v,onRefreshStudies:b,studySyncStatus:j,isStudyTransitioning:w,annotationProps:S,onLoadReport:_,onOpenReportModal:k,reportSummaries:C,showReportDropdown:N,onToggleReportDropdown:O,onSelectReport:D,onDeleteReport:E,onUpdateReportStatus:R}=e;const T=y?x.find((e=>e.studyUID===y)):null;return(0,ur.jsxs)("div",{className:ql.analysisPanel,children:[(0,ur.jsx)("h3",{className:ql.panelHeader,children:"\ud83e\udd16 AI \ubd84\uc11d"}),j&&(0,ur.jsx)("div",{className:ql.syncStatusMessage,children:j}),(0,ur.jsxs)("p",{className:ql.statusMessage,children:[(0,ur.jsx)("strong",{children:"\uc0c1\ud0dc:"})," ",t]}),(0,ur.jsxs)("div",{className:ql.studyInfo,children:[(0,ur.jsxs)("div",{className:ql.studyInfoHeader,children:["\ud83d\udcc2 \ud604\uc7ac \uc2a4\ud130\ub514:",w&&(0,ur.jsx)("span",{className:ql.transitioningIndicator,children:"\ud83d\udd04"})]}),T?(0,ur.jsxs)("div",{className:ql.currentStudyDetails,children:[(0,ur.jsxs)("div",{className:ql.studyMainInfo,children:[(0,ur.jsxs)("div",{className:ql.patientName,children:["\ud83d\udc64 ",(0,ur.jsx)("strong",{children:T.patientName})]}),(0,ur.jsxs)("div",{className:ql.patientId,children:["\ud83c\udd94 ",T.patientId]}),(0,ur.jsxs)("div",{className:ql.studyDate,children:["\ud83d\udcc5 ",T.studyDate]}),T.modality&&(0,ur.jsxs)("div",{className:ql.modality,children:["\ud83c\udfe5 ",T.modality]})]}),(0,ur.jsxs)("div",{className:ql.studyUid,children:["\ud83d\udd11 ",y.substring(0,30),"..."]})]}):(0,ur.jsx)("div",{className:ql.noStudySelected,children:y?(0,ur.jsxs)("div",{className:ql.studyUidError,children:["\u26a0\ufe0f \uc2a4\ud130\ub514 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c",(0,ur.jsxs)("div",{className:ql.studyUid,children:["\ud83d\udd11 ",y.substring(0,30),"..."]})]}):(0,ur.jsx)("div",{className:ql.studyUidError,children:"\u274c \uc2a4\ud130\ub514\uac00 \uc120\ud0dd\ub418\uc9c0 \uc54a\uc74c"})}),(0,ur.jsxs)("div",{className:ql.studyCount,children:[(0,ur.jsx)("strong",{children:"\ud83d\udcbe PACS \uc2a4\ud130\ub514 \uc218:"})," ",x.length,"\uac1c"]}),n&&n.image_width&&(0,ur.jsxs)("div",{className:ql.imageResolution,children:[(0,ur.jsx)("strong",{children:"\ud83d\udcd0 \uc774\ubbf8\uc9c0 \ud574\uc0c1\ub3c4:"})," ",n.image_width,"\xd7",n.image_height]}),(0,ur.jsxs)("div",{className:ql.refreshButtons,children:[(0,ur.jsx)("button",{onClick:b,className:ql.refreshButton,disabled:w,children:"\ud83d\udd04 \uc0c8\ub85c\uace0\uce68"}),r.length>0&&(0,ur.jsx)("button",{onClick:d,className:"".concat(ql.refreshButton," ").concat(ql.recalculateButton),disabled:w,children:"\ud83d\udd27 \uc7ac\uacc4\uc0b0"})]})]}),x.length>1&&(0,ur.jsxs)("div",{className:ql.studySelector,children:[(0,ur.jsxs)("label",{className:ql.studySelectorLabel,children:["\ud83d\udcc2 \uc2a4\ud130\ub514 \uc120\ud0dd:",T&&(0,ur.jsx)("span",{className:ql.syncedIndicator,children:"\u2705 OHIF\uc640 \ub3d9\uae30\ud654\ub428"})]}),(0,ur.jsxs)("select",{value:y||"",onChange:e=>v(e.target.value),className:ql.studySelectorDropdown,disabled:w,children:[!y&&(0,ur.jsx)("option",{value:"",children:"\uc2a4\ud130\ub514\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"}),x.map(((e,t)=>(0,ur.jsxs)("option",{value:e.studyUID,children:[e.patientName," (",e.patientId,") - ",e.studyDate]},t)))]})]}),y&&!n&&!w&&(0,ur.jsxs)("div",{className:ql.noAnalysisResults,children:["\ud83d\udcca \uc774 \uc2a4\ud130\ub514\uc758 \ubd84\uc11d \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",(0,ur.jsx)("div",{className:ql.noAnalysisResultsSubtext,children:"\uc704\uc758 AI \ubd84\uc11d \ubc84\ud2bc\uc744 \uc0ac\uc6a9\ud574\uc11c \ubd84\uc11d\uc744 \uc2dc\uc791\ud558\uc138\uc694."})]}),(0,ur.jsxs)("div",{className:ql.aiSection,children:[(0,ur.jsx)("h4",{className:ql.aiSectionHeader,children:"\ud83e\udd16 AI \ubaa8\ub378 \uc120\ud0dd:"}),(0,ur.jsxs)("div",{className:ql.aiButtons,children:[(0,ur.jsx)("button",{onClick:()=>o(),className:"".concat(ql.aiButtonLarge," ").concat(ql.yoloButton),disabled:!y||w,children:"\ud83c\udfaf YOLO \ubd84\uc11d"}),(0,ur.jsx)("button",{onClick:()=>i(),className:"".concat(ql.aiButtonLarge," ").concat(ql.ssdButton),disabled:!y||w,children:"\ud83d\udd0d SSD \ubd84\uc11d"})]}),(0,ur.jsxs)("div",{className:ql.smallButtons,children:[(0,ur.jsx)("button",{onClick:l,className:"".concat(ql.smallButton," ").concat(ql.loadButton),disabled:!y||w,children:"\ud83d\udcca \uacb0\uacfc \ubd88\ub7ec\uc624\uae30"}),(0,ur.jsx)("button",{onClick:s,className:"".concat(ql.smallButton," ").concat(ql.clearButton),disabled:!n||w,children:"\ud83d\uddd1\ufe0f \uacb0\uacfc \uc0ad\uc81c"}),(0,ur.jsx)("button",{onClick:c,className:"".concat(ql.smallButton," ").concat(ql.statusButton),disabled:w,children:"\u2699\ufe0f \uc0c1\ud0dc \ud655\uc778"})]}),n&&(0,ur.jsxs)("div",{className:ql.resultsSection,children:[(0,ur.jsx)("h4",{className:ql.resultsSectionHeader,children:"\ud83d\udcca \ubd84\uc11d \uacb0\uacfc:"}),(0,ur.jsx)("div",{className:ql.overlayControls,children:(0,ur.jsxs)("button",{onClick:g,className:"".concat(ql.overlayToggleBtn," ").concat(f||m?ql.active:""),disabled:w,children:[f&&m&&"\ud83d\udc41\ufe0f YOLO + SSD \ud45c\uc2dc",!f&&m&&"\ud83d\udc41\ufe0f SSD\ub9cc \ud45c\uc2dc",f&&!m&&"\ud83d\udc41\ufe0f YOLO\ub9cc \ud45c\uc2dc",!f&&!m&&"\ud83d\ude48 \ubaa8\ub450 \uc228\uae40"]})}),void 0!==n.detections&&(0,ur.jsxs)("div",{className:ql.resultsOverview,children:[(0,ur.jsxs)("div",{className:ql.resultsOverviewItem,children:[(0,ur.jsx)("strong",{children:"\ud83e\udd16 \uc0ac\uc6a9 \ubaa8\ub378:"})," ",n.model_used||"Unknown"]}),(0,ur.jsxs)("div",{className:ql.resultsOverviewItem,children:[(0,ur.jsx)("strong",{children:"\ud83d\udcca \uac80\ucd9c \uac1c\uc218:"})," ",n.detections,"\uac1c"]})]}),(0,ur.jsx)("div",{className:ql.resultsList,children:n.results&&n.results.map(((e,t)=>(0,ur.jsx)("div",{className:ql.resultItem,children:(0,ur.jsxs)("div",{className:ql.resultInfo,children:[(0,ur.jsxs)("div",{className:ql.resultHeader,children:[(0,ur.jsx)("span",{className:ql.resultLabel,children:e.label}),(0,ur.jsxs)("span",{className:ql.resultConfidence,children:[Math.round(100*e.confidence),"%"]})]}),(0,ur.jsxs)("div",{className:ql.resultDetails,children:[(0,ur.jsxs)("span",{className:ql.resultModel,children:["\ud83d\udcf1 ",e.model||"Unknown"]}),(0,ur.jsxs)("span",{className:ql.resultLocation,children:["\ud83d\udccd [",e.bbox.join(", "),"]"]})]})]})},e.id||t)))})]})]}),(0,ur.jsx)(Vl,Ft({},S)),(0,ur.jsxs)("div",{className:ql.reportSection,children:[(0,ur.jsxs)("div",{className:ql.reportButtons,children:[(0,ur.jsx)("button",{onClick:_,className:"".concat(ql.reportButton," ").concat(ql.reportLoadButton),disabled:!y||w,children:"\ud83d\udcc2 \ub808\ud3ec\ud2b8 \ubd88\ub7ec\uc624\uae30"}),(0,ur.jsx)("button",{onClick:k,className:"".concat(ql.reportButton," ").concat(ql.reportCreateButton),disabled:!y||w,children:"\ud83d\udcdd \ub808\ud3ec\ud2b8 \uc791\uc131"})]}),(0,ur.jsxs)("button",{onClick:O,className:ql.reportDropdownToggle,disabled:w,children:[(0,ur.jsx)("span",{children:"\ud83d\udccb \uc800\uc7a5\ub41c \ub808\ud3ec\ud2b8 \ubaa9\ub85d"}),(0,ur.jsx)("span",{children:N?"\u25b2":"\u25bc"})]}),N&&(0,ur.jsx)("div",{className:ql.reportDropdownContent,children:C.length>0?C.map(((e,t)=>(0,ur.jsxs)("div",{className:ql.reportDropdownItem,style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,ur.jsxs)("div",{style:{flex:1,cursor:"pointer"},onClick:()=>D(e),children:[(0,ur.jsx)("div",{className:ql.reportItemHeader,children:"\ud83d\udcdd \uc9c4\ub2e8 \ub808\ud3ec\ud2b8"}),(0,ur.jsxs)("div",{className:ql.reportItemDate,children:["\ud83d\udcc5 ",e.updated_at?new Date(e.updated_at).toLocaleDateString():"\ubc29\uae08 \uc804"]}),(0,ur.jsxs)("div",{className:ql.reportItemDoctor,children:["\ud83d\udc68\u200d\u2695\ufe0f ",e.doctor_name||"DR001 - \uae40\uc601\uc0c1"]}),(0,ur.jsxs)("div",{className:ql.reportItemStatus,children:[(0,ur.jsx)("span",{className:ql.reportItemStatusLabel,children:"\ud83d\udcca \uc0c1\ud0dc:"}),(0,ur.jsxs)("select",{value:e.report_status||"draft",onClick:e=>e.stopPropagation(),onChange:t=>{t.stopPropagation(),R(e.study_uid||y,t.target.value)},className:ql.reportItemStatusSelect,disabled:w,children:[(0,ur.jsx)("option",{value:"draft",children:"\ucd08\uc548"}),(0,ur.jsx)("option",{value:"completed",children:"\uc644\ub8cc"}),(0,ur.jsx)("option",{value:"approved",children:"\uc2b9\uc778"})]})]})]}),(0,ur.jsx)("button",{onClick:e=>{e.stopPropagation(),E()},className:ql.reportDeleteButton,disabled:w,children:"\u2715"})]},t))):(0,ur.jsx)("div",{className:ql.reportDropdownEmpty,children:"\uc800\uc7a5\ub41c \ub808\ud3ec\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})})]})]})},$l="LabelModal_modalOverlay__uR6t3",Kl="LabelModal_modalContent__3fOlZ",Ql="LabelModal_modalHeader__5iQ7b",Gl="LabelModal_labelInput__SMCZf",Xl="LabelModal_buttonContainer__8b4tC",Jl="LabelModal_button__hAuAA",Zl="LabelModal_saveButton__qHsRe",es="LabelModal_cancelButton__hzh0E",ts=e=>{let{isOpen:t,onSave:n,onCancel:r,initialLabel:a="",title:i="\ud83c\udff7\ufe0f \ub77c\ubca8 \uc785\ub825"}=e;const[l,s]=(0,o.useState)(a);(0,o.useEffect)((()=>{t&&s(a)}),[t,a]),(0,o.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t&&r()};if(t)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[t,r]);const c=()=>{const e=l.trim();e&&(n(e),s(""))},d=()=>{r(),s("")};return t?(0,ur.jsx)("div",{className:$l,onClick:e=>{e.target===e.currentTarget&&d()},children:(0,ur.jsxs)("div",{className:Kl,children:[(0,ur.jsx)("h4",{className:Ql,children:i}),(0,ur.jsx)("input",{type:"text",value:l,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),c())},placeholder:"\ub77c\ubca8\uc744 \uc785\ub825\ud558\uc138\uc694",className:Gl,autoFocus:!0,maxLength:50}),(0,ur.jsxs)("div",{className:Xl,children:[(0,ur.jsx)("button",{onClick:c,disabled:!l.trim(),className:"".concat(Jl," ").concat(Zl),children:"\ud83d\udcbe \uc800\uc7a5"}),(0,ur.jsx)("button",{onClick:d,className:"".concat(Jl," ").concat(es),children:"\u274c \ucde8\uc18c"})]})]})}):null},ns={modalOverlay:"ReportModal_modalOverlay__d1826",fadeIn:"ReportModal_fadeIn__0CyjP",modalContent:"ReportModal_modalContent__W4WVG",slideUp:"ReportModal_slideUp__1i1Gl",modalHeader:"ReportModal_modalHeader__+-rET",patientInfo:"ReportModal_patientInfo__MJnEv",patientInfoHeader:"ReportModal_patientInfoHeader__O8Q-h",patientGrid:"ReportModal_patientGrid__ztoxe",patientGridItem:"ReportModal_patientGridItem__R9d4Z",aiResults:"ReportModal_aiResults__hjb5K",aiResultsHeader:"ReportModal_aiResultsHeader__dLfY9",aiResultsSummary:"ReportModal_aiResultsSummary__hfNEs",detectionItem:"ReportModal_detectionItem__SQtWa",detectionItemHigh:"ReportModal_detectionItemHigh__XORuZ",detectionItemLow:"ReportModal_detectionItemLow__K2rQo",detectionLabel:"ReportModal_detectionLabel__rDZof",detectionLabelHigh:"ReportModal_detectionLabelHigh__-88oS",detectionLabelLow:"ReportModal_detectionLabelLow__ldTQh",confidenceBadge:"ReportModal_confidenceBadge__qVSMb",confidenceBadgeHigh:"ReportModal_confidenceBadgeHigh__LlZNv",confidenceBadgeLow:"ReportModal_confidenceBadgeLow__YuG4i",detectionLocation:"ReportModal_detectionLocation__svEXo",annotations:"ReportModal_annotations__qYPAj",annotationsHeader:"ReportModal_annotationsHeader__Jrdhi",annotationItem:"ReportModal_annotationItem__turPs",annotationLabel:"ReportModal_annotationLabel__zbg0K",annotationBadge:"ReportModal_annotationBadge__Aq79H",annotationLocation:"ReportModal_annotationLocation__iBZXV",reportSection:"ReportModal_reportSection__H98DH",reportSectionHeader:"ReportModal_reportSectionHeader__beQ7N",reportTextarea:"ReportModal_reportTextarea__BxNRL",buttonContainer:"ReportModal_buttonContainer__Q576d",button:"ReportModal_button__wptoo",cancelButton:"ReportModal_cancelButton__vvzgC",printButton:"ReportModal_printButton__M1Z-B",saveButton:"ReportModal_saveButton__m3jy6"},rs=e=>{let{isOpen:t,onClose:n,onPrint:r,patientInfo:a={},currentStudyUID:i="",analysisResults:l=null,annotationBoxes:s=[],initialContent:c="",title:d="\ud83d\udccb \uc9c4\ub2e8 \ub808\ud3ec\ud2b8"}=e;const[u,p]=(0,o.useState)(c),[f,h]=(0,o.useState)(!1),[m,g]=(0,o.useState)(!0);(0,o.useEffect)((()=>{t&&p(c)}),[t,c]),(0,o.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t&&n()};if(t)return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[t,n]),(0,o.useEffect)((()=>{(async()=>{try{const e=(await navigator.mediaDevices.enumerateDevices()).some((e=>"audioinput"===e.kind));g(e),e||console.warn("\ud83c\udfa4 \ub9c8\uc774\ud06c\uac00 \uac10\uc9c0\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")}catch(e){console.error("\ud83c\udfa4 \ub9c8\uc774\ud06c \ud0d0\uc9c0 \uc2e4\ud328:",e),g(!1)}})()}),[]);const y=()=>{n()},x=Ft({patient_name:a.patient_name||"Unknown",patient_id:a.patient_id||"Unknown",study_date:a.study_date||"Unknown"},a),v=i?i.substring(0,30)+"...":"N/A";return t?(0,ur.jsx)("div",{className:ns.modalOverlay,onClick:e=>{e.target===e.currentTarget&&y()},children:(0,ur.jsxs)("div",{className:ns.modalContent,children:[(0,ur.jsx)("h2",{className:ns.modalHeader,children:d}),(0,ur.jsxs)("div",{className:ns.patientInfo,children:[(0,ur.jsx)("h3",{className:ns.patientInfoHeader,children:"\ud83d\udc64 \ud658\uc790 \uc815\ubcf4"}),(0,ur.jsxs)("div",{className:ns.patientGrid,children:[(0,ur.jsxs)("div",{className:ns.patientGridItem,children:[(0,ur.jsx)("strong",{children:"\ud658\uc790\uba85:"})," ",x.patient_name]}),(0,ur.jsxs)("div",{className:ns.patientGridItem,children:[(0,ur.jsx)("strong",{children:"\ud658\uc790 ID:"})," ",x.patient_id]}),(0,ur.jsxs)("div",{className:ns.patientGridItem,children:[(0,ur.jsx)("strong",{children:"\uac80\uc0ac\uc77c:"})," ",x.study_date]}),(0,ur.jsxs)("div",{className:ns.patientGridItem,children:[(0,ur.jsx)("strong",{children:"Study UID:"})," ",v]})]})]}),l&&l.results&&l.results.length>0&&(0,ur.jsxs)("div",{className:ns.aiResults,children:[(0,ur.jsx)("h3",{className:ns.aiResultsHeader,children:"\ud83e\udd16 AI \ubd84\uc11d \uacb0\uacfc"}),(0,ur.jsxs)("div",{className:ns.aiResultsSummary,children:[(0,ur.jsx)("strong",{children:"\uc0ac\uc6a9 \ubaa8\ub378:"})," ",l.model_used," |",(0,ur.jsx)("strong",{children:" \ucd1d \uac80\ucd9c:"})," ",l.detections,"\uac1c"]}),l.results.map(((e,t)=>(0,ur.jsxs)("div",{className:"".concat(ns.detectionItem," ").concat(e.confidence>.8?ns.detectionItemHigh:ns.detectionItemLow),children:[(0,ur.jsxs)("div",{children:[(0,ur.jsx)("div",{className:"".concat(ns.detectionLabel," ").concat(e.confidence>.8?ns.detectionLabelHigh:ns.detectionLabelLow),children:e.label}),(0,ur.jsxs)("div",{className:ns.detectionLocation,children:["\uc704\uce58: [",e.bbox.join(", "),"]"]})]}),(0,ur.jsxs)("span",{className:"".concat(ns.confidenceBadge," ").concat(e.confidence>.8?ns.confidenceBadgeHigh:ns.confidenceBadgeLow),children:[Math.round(100*e.confidence),"%"]})]},t)))]}),s.length>0&&(0,ur.jsxs)("div",{className:ns.annotations,children:[(0,ur.jsx)("h3",{className:ns.annotationsHeader,children:"\u270f\ufe0f \uc218\ub3d9 \uc5b4\ub178\ud14c\uc774\uc158"}),s.map(((e,t)=>(0,ur.jsxs)("div",{className:ns.annotationItem,children:[(0,ur.jsxs)("div",{children:[(0,ur.jsxs)("div",{className:ns.annotationLabel,children:["\uc218\ub3d9 \ub9c8\ud0b9 ",t+1,": ",e.label]}),(0,ur.jsxs)("div",{className:ns.annotationLocation,children:["\ud654\uba74 \uc704\uce58: [",e.left,", ",e.top,", ",e.left+e.width,", ",e.top+e.height,"]"]})]}),(0,ur.jsx)("span",{className:ns.annotationBadge,children:"\uc218\ub3d9"})]},e.id)))]}),(0,ur.jsxs)("div",{className:ns.reportSection,children:[(0,ur.jsx)("h3",{className:ns.reportSectionHeader,children:"\ud83d\udcdd \uc885\ud569 \uc18c\uacac"}),(0,ur.jsx)("div",{className:ns.audioControls,children:(0,ur.jsxs)("button",{className:ns.micButton,onClick:async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e),n=[];t.ondataavailable=e=>n.push(e.data),t.onstop=async()=>{const e=new Blob(n,{type:"audio/wav"}),t=new FormData;t.append("audio",e),t.append("patient_id",x.patient_id),t.append("study_uid",i);const r=await fetch("/api/stt/upload/",{method:"POST",body:t}),a=await r.json();p(a.corrected_text||"\uc624\ub958 \ubc1c\uc0dd")},t.start(),h(!0),setTimeout((()=>{t.stop(),h(!1)}),6e3)}catch(e){console.error("\ub9c8\uc774\ud06c \uc624\ub958:",e),alert("\ub9c8\uc774\ud06c \uc0ac\uc6a9\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}},disabled:!m||f,children:["\ud83c\udfa4 ",f?"\ub179\uc74c \uc911...":m?"\uc74c\uc131 \uc785\ub825":"\ub9c8\uc774\ud06c \uc5c6\uc74c"]})}),(0,ur.jsx)("textarea",{value:u,onChange:e=>p(e.target.value),placeholder:"\uc758\ub8cc\uc9c4\uc758 \uc885\ud569 \uc18c\uacac\uc744 \uc785\ub825\ud558\uc138\uc694...",className:ns.reportTextarea})]}),(0,ur.jsxs)("div",{className:ns.buttonContainer,children:[(0,ur.jsx)("button",{onClick:y,className:"".concat(ns.button," ").concat(ns.cancelButton),children:"\u274c \ucde8\uc18c"}),(0,ur.jsx)("button",{onClick:()=>{r?r():window.print()},className:"".concat(ns.button," ").concat(ns.printButton),children:"\ud83d\udda8\ufe0f \uc778\uc1c4"}),(0,ur.jsx)("button",{onClick:async()=>{try{const e=await fetch("/api/report/save/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({patient_id:x.patient_id,study_uid:i,report_content:u,report_status:"completed"})}),t=await e.json();"success"===t.status?alert("\ud83d\udcbe \ub808\ud3ec\ud2b8 \uc800\uc7a5 \uc644\ub8cc"):alert("\u274c \uc800\uc7a5 \uc2e4\ud328: "+t.message)}catch(e){console.error(e),alert("\uc11c\ubc84 \uc624\ub958 \ubc1c\uc0dd")}},className:"".concat(ns.button," ").concat(ns.saveButton),children:"\ud83d\udcbe \ub808\ud3ec\ud2b8 \uc800\uc7a5"})]})]})}):null},as="https://meddocai.p-e.kr:5000",os="https://meddocai.p-e.kr:8000",is=async(e,t)=>{var n;const r=await fetch("".concat(os,"/api/ai/results/").concat(e,"/?model_type=").concat(t.toLowerCase())),a=await r.json();return{exists:"success"===a.status&&(null===(n=a.results)||void 0===n?void 0:n.length)>0}},ls=e=>{const t=document.createElement("div");t.textContent=e,t.style.cssText="\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #333;\n        color: white;\n        padding: 12px 20px;\n        border-radius: 6px;\n        z-index: 9999;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n        font-size: 14px;\n        max-width: 300px;\n        animation: slideInRight 0.3s ease;\n    ";const n=document.createElement("style");n.textContent="\n        @keyframes slideInRight {\n            from { transform: translateX(100%); opacity: 0; }\n            to { transform: translateX(0); opacity: 1; }\n        }\n    ",document.head.querySelector("style[data-toast]")||(n.setAttribute("data-toast","true"),document.head.appendChild(n)),document.body.appendChild(t),setTimeout((()=>{document.body.contains(t)&&document.body.removeChild(t)}),3e3)},ss=e=>{const[t,n]=(0,o.useState)("\ub300\uae30 \uc911"),[r,a]=(0,o.useState)(null),[i,l]=(0,o.useState)([]),[s,c]=(0,o.useState)(!0),[d,u]=(0,o.useState)(!1),[p,f]=(0,o.useState)({yolo:{available:!1},ssd:{available:!1}}),[h,m]=(0,o.useState)(!0),[g,y]=(0,o.useState)(!1),x=(0,o.useCallback)((async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("object"===typeof t&&null!==t&&(console.log("\uc774\ubca4\ud2b8 \uac1d\uccb4\uac00 \ub4e4\uc5b4\uc654\uc2b5\ub2c8\ub2e4. false\ub85c \ucc98\ub9ac\ud569\ub2c8\ub2e4."),t=!1),!e)return n("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),ls("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),!1;if(a(null),l([]),c(!1),!t)try{console.log("\ud83d\udd0d \uc911\ubcf5 \uccb4\ud06c \uc2dc\uc791:",e);const t=await is(e,"YOLO");if(console.log("\ud83d\udd0d \uc911\ubcf5 \uccb4\ud06c \uacb0\uacfc:",t),t.exists){console.log("\u26a0\ufe0f \uae30\uc874 \uacb0\uacfc \ubc1c\uacac! \uc0ac\uc6a9\uc790 \ud655\uc778 \uc694\uccad");return window.confirm("\uc774\ubbf8 YOLO \ubd84\uc11d \uacb0\uacfc\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.\n\uae30\uc874 \uacb0\uacfc\ub97c \ub36e\uc5b4\uc4f0\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?(ls("YOLO \ubd84\uc11d\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4..."),await x(!0)):(ls("YOLO \ubd84\uc11d\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),n("\ubd84\uc11d\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!1)}console.log("\u2705 \uae30\uc874 \uacb0\uacfc \uc5c6\uc74c, \ubd84\uc11d \uc9c4\ud589")}catch(r){return console.error("\u274c \uc911\ubcf5 \uccb4\ud06c \uc2e4\ud328:",r),n("\uc911\ubcf5 \uccb4\ud06c \uc2e4\ud328. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),ls("\uc911\ubcf5 \uccb4\ud06c \uc2e4\ud328. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),u(!1),!1}try{u(!0),n("YOLO \ubd84\uc11d \uc911... (".concat(e.substring(0,20),"...)")),ls("YOLO \ubd84\uc11d\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4..."),console.log("\ud83d\udce4 AI \uc11c\ube44\uc2a4 API \ud638\ucd9c:",{studyUID:e,forceOverwrite:t});const r=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await fetch("".concat(as,"/analyze_dicom_data/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({force_overwrite:t,model_type:"yolo"})});return await n.json()}(e,t);if(console.log("\ud83d\udd25 AI \uc11c\ube44\uc2a4 \uc751\ub2f5:",r),!r.success)return n("YOLO \ubd84\uc11d \uc2e4\ud328: "+(r.error||"Unknown error")),ls("YOLO \ubd84\uc11d \uc2e4\ud328: "+(r.error||"Unknown error")),!1;{const e=(r.results||[]).filter((e=>"yolo"===e.model_type&&e.success));if(e.length>0){const t=e[0].detections||[],o=r.image_dimensions?parseInt(r.image_dimensions.split("x")[0]):1024,i=r.image_dimensions?parseInt(r.image_dimensions.split("x")[1]):1024;return a({status:"success",results:t,detections:t.length,model_used:"yolo",image_width:o,image_height:i}),l(t),c(!0),n("YOLO \ubd84\uc11d \uc644\ub8cc! (\uac80\ucd9c: ".concat(t.length,"\uac1c)")),ls("YOLO \ubd84\uc11d \uc644\ub8cc! ".concat(t.length,"\uac1c \uac80\ucd9c")),!0}}}catch(r){return n("YOLO \ubd84\uc11d \uc2e4\ud328: "+r.message),ls("YOLO \ubd84\uc11d \uc2e4\ud328: "+r.message),console.error("YOLO \ubd84\uc11d \uc5d0\ub7ec:",r),!1}finally{u(!1)}}),[e]),v=(0,o.useCallback)((async function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("object"===typeof t&&null!==t&&(console.log("\uc774\ubca4\ud2b8 \uac1d\uccb4\uac00 \ub4e4\uc5b4\uc654\uc2b5\ub2c8\ub2e4. false\ub85c \ucc98\ub9ac\ud569\ub2c8\ub2e4."),t=!1),!e)return n("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),ls("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),!1;if(a(null),l([]),c(!1),!t)try{console.log("\ud83d\udd0d \uc911\ubcf5 \uccb4\ud06c \uc2dc\uc791:",e);const t=await is(e,"SSD");if(console.log("\ud83d\udd0d \uc911\ubcf5 \uccb4\ud06c \uacb0\uacfc:",t),t.exists){console.log("\u26a0\ufe0f \uae30\uc874 \uacb0\uacfc \ubc1c\uacac! \uc0ac\uc6a9\uc790 \ud655\uc778 \uc694\uccad");return window.confirm("\uc774\ubbf8 SSD \ubd84\uc11d \uacb0\uacfc\uac00 \uc874\uc7ac\ud569\ub2c8\ub2e4.\n\uae30\uc874 \uacb0\uacfc\ub97c \ub36e\uc5b4\uc4f0\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")?(ls("SSD \ubd84\uc11d\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4..."),await v(!0)):(ls("SSD \ubd84\uc11d\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),n("\ubd84\uc11d\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!1)}console.log("\u2705 \uae30\uc874 \uacb0\uacfc \uc5c6\uc74c, \ubd84\uc11d \uc9c4\ud589")}catch(r){return console.error("\u274c \uc911\ubcf5 \uccb4\ud06c \uc2e4\ud328:",r),n("\uc911\ubcf5 \uccb4\ud06c \uc2e4\ud328. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),ls("\uc911\ubcf5 \uccb4\ud06c \uc2e4\ud328. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),u(!1),!1}try{u(!0),n("SSD \ubd84\uc11d \uc911... (".concat(e.substring(0,20),"...)")),ls("SSD \ubd84\uc11d\uc744 \uc2dc\uc791\ud569\ub2c8\ub2e4..."),console.log("\ud83d\udce4 AI \uc11c\ube44\uc2a4 API \ud638\ucd9c:",{studyUID:e,forceOverwrite:t});const r=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=await fetch("".concat(as,"/analyze_dicom_data/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({force_overwrite:t,model_type:"ssd"})});return await n.json()}(e,t);if(console.log("\ud83d\udd25 AI \uc11c\ube44\uc2a4 \uc751\ub2f5:",r),!r.success)return n("SSD \ubd84\uc11d \uc2e4\ud328: "+(r.error||"Unknown error")),ls("SSD \ubd84\uc11d \uc2e4\ud328: "+(r.error||"Unknown error")),!1;{const e=(r.results||[]).filter((e=>"ssd"===e.model_type&&e.success));if(e.length>0){const t=e[0].detections||[],o=r.image_dimensions?parseInt(r.image_dimensions.split("x")[0]):1024,i=r.image_dimensions?parseInt(r.image_dimensions.split("x")[1]):1024;return a({status:"success",results:t,detections:t.length,model_used:"ssd",image_width:o,image_height:i}),l(t),c(!0),n("SSD \ubd84\uc11d \uc644\ub8cc! (\uac80\ucd9c: ".concat(t.length,"\uac1c)")),ls("SSD \ubd84\uc11d \uc644\ub8cc! ".concat(t.length,"\uac1c \uac80\ucd9c")),!0}}}catch(r){return n("SSD \ubd84\uc11d \uc2e4\ud328: "+r.message),ls("SSD \ubd84\uc11d \uc2e4\ud328: "+r.message),console.error("SSD \ubd84\uc11d \uc5d0\ub7ec:",r),!1}finally{u(!1)}}),[e]),b=(0,o.useCallback)((async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return n("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),ls("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),!1;try{n("\uacb0\uacfc \uc870\ud68c \uc911...");const r="".concat(as,"/results/").concat(e);console.log("\ud83d\udd0d AI \uc11c\ube44\uc2a4 API \ud638\ucd9c URL:",r);const o=await fetch(r),i=await o.json();if(console.log("\ud83d\udd0d AI \uc11c\ube44\uc2a4 API \uc751\ub2f5:",i),"success"===i.status){console.log("\u2705 AI \uc11c\ube44\uc2a4\uc5d0\uc11c \ub370\uc774\ud130 \ub85c\ub4dc \uc131\uacf5:",i);const r=e=>{if((null===e||void 0===e?void 0:e.image_width)>0&&(null===e||void 0===e?void 0:e.image_height)>0)return{width:e.image_width,height:e.image_height};if(i.image_width>0&&i.image_height>0)return{width:i.image_width,height:i.image_height};if(null!==e&&void 0!==e&&e.bbox&&Array.isArray(e.bbox)){const[t,n,r,a]=e.bbox;return{width:Math.max(r,1024),height:Math.max(a,1024)}}return{width:1024,height:1024}},o=(i.results||[]).map(((t,n)=>{var a;const o=r(t);return Ft(Ft({},t),{},{id:t.id||"".concat(e,"-").concat(t.model||"unknown","-").concat(n),uniqueKey:"".concat((null===(a=t.bbox)||void 0===a?void 0:a.join("-"))||n,"-").concat(t.confidence||0,"-").concat(t.model||"unknown"),image_width:o.width,image_height:o.height})}));let s=o;t&&(s=o.filter((e=>(e.model||"").toLowerCase().includes(t.toLowerCase()))));const d={};o.forEach((e=>{const t=e.model||"unknown";d[t]||(d[t]=[]),d[t].push(e)}));const u=r(o[0]||{});if(a({status:"success",results:s,grouped_results:d,total_count:o.length,detections:s.length,image_width:u.width,image_height:u.height}),l(s),c(!0),Object.keys(d).length>0){const e=Object.keys(d).map((e=>"".concat(e,": ").concat(d[e].length,"\uac1c"))).join(", ");n("\uc800\uc7a5\ub41c \uacb0\uacfc (\ucd1d ".concat(o.length,"\uac1c) - ").concat(e," [\ud574\uc0c1\ub3c4: ").concat(u.width,"x").concat(u.height,"]")),ls("\uc800\uc7a5\ub41c \uacb0\uacfc\ub97c \ubd88\ub7ec\uc654\uc2b5\ub2c8\ub2e4: ".concat(e))}else{const e=t?t.toUpperCase():"\uc804\uccb4";n("".concat(e," \uc800\uc7a5\ub41c \uacb0\uacfc (").concat(s.length,"\uac1c) [\ud574\uc0c1\ub3c4: ").concat(u.width,"x").concat(u.height,"]")),ls("".concat(e," \uc800\uc7a5\ub41c \uacb0\uacfc ").concat(s.length,"\uac1c\ub97c \ubd88\ub7ec\uc654\uc2b5\ub2c8\ub2e4"))}return!0}return console.log("\u274c AI \uc11c\ube44\uc2a4 API \uc751\ub2f5 \uc2e4\ud328:",i),n("\uc800\uc7a5\ub41c \uacb0\uacfc \uc5c6\uc74c"),a(null),l([]),c(!1),ls("\uc800\uc7a5\ub41c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"),!1}catch(r){return console.error("\u274c AI \uc11c\ube44\uc2a4 API \ud638\ucd9c \uc5d0\ub7ec:",r),n("\uc870\ud68c \uc2e4\ud328: "+r.message),a(null),l([]),c(!1),ls("\uacb0\uacfc \uc870\ud68c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),!1}}),[e]),j=(0,o.useCallback)((async()=>{console.log("\ud83d\udfe1 YOLO \uacb0\uacfc \ub85c\ub529 \uc2dc\uc791");const e=await b("yolo");return e&&(m(!0),y(!1)),e}),[b]),w=(0,o.useCallback)((async()=>{console.log("\ud83d\udd35 SSD \uacb0\uacfc \ub85c\ub529 \uc2dc\uc791");const e=await b("ssd");return e&&(m(!1),y(!0)),e}),[b]),S=(0,o.useCallback)((async()=>{if(!e)return n("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),ls("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),!1;if(!window.confirm("\u26a0\ufe0f \ubaa8\ub4e0 AI \ubd84\uc11d \uacb0\uacfc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\n\uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))return ls("\uc0ad\uc81c\uac00 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!1;try{ls("\ubaa8\ub4e0 \uacb0\uacfc \uc0ad\uc81c \uc911...");const t=await(async e=>{const t=await fetch("".concat(os,"/api/ai/clear/").concat(e,"/"),{method:"DELETE"});return await t.json()})(e);return"success"===t.status?(n("\uacb0\uacfc \uc0ad\uc81c\ub428"),a(null),l([]),c(!1),ls("\u2705 \ubaa8\ub4e0 \ubd84\uc11d \uacb0\uacfc\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!0):(n("\uc0ad\uc81c \uc2e4\ud328: "+t.message),ls("\u274c \uacb0\uacfc \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),!1)}catch(t){return n("\uc0ad\uc81c \uc2e4\ud328: "+t.message),ls("\u274c \uacb0\uacfc \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),console.error("\uacb0\uacfc \uc0ad\uc81c \uc5d0\ub7ec:",t),!1}}),[e]),_=(0,o.useCallback)((async t=>{if(!e)return n("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),ls("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"),!1;const r=t.toUpperCase();if(!window.confirm("\u26a0\ufe0f ".concat(r," \ubd84\uc11d \uacb0\uacfc\ub9cc \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\n\uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")))return ls("\uc0ad\uc81c\uac00 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!1;try{ls("".concat(r," \uacb0\uacfc \uc0ad\uc81c \uc911..."));const o=await fetch("".concat(os,"/api/ai/clear/").concat(e,"/").concat(t.toLowerCase(),"/"),{method:"DELETE"}),i=await o.json();return"success"===i.status?(l((e=>e.filter((e=>!(e.model||"").toLowerCase().includes(t.toLowerCase()))))),a((e=>{if(e&&e.grouped_results){const n=Ft({},e.grouped_results);return delete n["YOLO"===r?"YOLOv8":"SSD"],Ft(Ft({},e),{},{grouped_results:n,results:e.results.filter((e=>!e.model.toLowerCase().includes(t.toLowerCase())))})}return e})),n("".concat(r," \uacb0\uacfc \uc0ad\uc81c\ub428")),ls("\u2705 ".concat(r," \ubd84\uc11d \uacb0\uacfc\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4")),!0):(n("".concat(r," \uc0ad\uc81c \uc2e4\ud328: ")+i.message),ls("\u274c ".concat(r," \uacb0\uacfc \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")),!1)}catch(o){return n("".concat(r," \uc0ad\uc81c \uc2e4\ud328: ")+o.message),ls("\u274c ".concat(r," \uacb0\uacfc \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")),console.error("".concat(r," \uacb0\uacfc \uc0ad\uc81c \uc5d0\ub7ec:"),o),!1}}),[e]),k=(0,o.useCallback)((async()=>{try{return"healthy"===(await(async()=>{const e=await fetch("".concat(as,"/health"));return await e.json()})()).status?(f({yolo:{available:!0},ssd:{available:!0}}),n("\ubaa8\ub378 \uc0c1\ud0dc - YOLO: \u2705, SSD: \u2705"),ls("\ubaa8\ub378 \uc0c1\ud0dc\ub97c \ud655\uc778\ud588\uc2b5\ub2c8\ub2e4"),{yolo:{available:!0},ssd:{available:!0}}):(n("\uc0c1\ud0dc \ud655\uc778 \uc2e4\ud328"),ls("\ubaa8\ub378 \uc0c1\ud0dc \ud655\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),null)}catch(e){return n("\uc0c1\ud0dc \ud655\uc778 \uc2e4\ud328: "+e.message),ls("\ubaa8\ub378 \uc0c1\ud0dc \ud655\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),console.error("\ubaa8\ub378 \uc0c1\ud0dc \ud655\uc778 \uc5d0\ub7ec:",e),null}}),[]),C=(0,o.useCallback)((e=>{var t;return(null===(t=p[e])||void 0===t?void 0:t.available)||!1}),[p]),N=(0,o.useCallback)((()=>{console.log("\ud83d\udd04 \uc218\ub3d9 \uc624\ubc84\ub808\uc774 \uc7ac\uacc4\uc0b0"),l((e=>[...e]))}),[]),O=(0,o.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return i.filter((t=>t.confidence>=e))}),[i]),D=(0,o.useCallback)((()=>({high:i.filter((e=>e.confidence>.8)),medium:i.filter((e=>e.confidence>.5&&e.confidence<=.8)),low:i.filter((e=>e.confidence<=.5))})),[i]),E=(0,o.useCallback)((()=>{if(!r||!r.results)return{total:0,highConfidence:0,lowConfidence:0};const e=r.results;return{total:e.length,highConfidence:e.filter((e=>e.confidence>.8)).length,lowConfidence:e.filter((e=>e.confidence<=.8)).length,averageConfidence:e.reduce(((e,t)=>e+t.confidence),0)/e.length}}),[r]),R=(0,o.useCallback)((e=>r&&r.results?r.results.filter((t=>t.label.toLowerCase().includes(e.toLowerCase()))):[]),[r]),T=(0,o.useCallback)((()=>{var e,t,n,a;if(!r||!r.grouped_results)return{yolo:0,ssd:0,total:0};const o=r.grouped_results;return{yolo:(null===(e=o.YOLOv8)||void 0===e?void 0:e.length)||0,ssd:(null===(t=o.SSD)||void 0===t?void 0:t.length)||0,total:((null===(n=o.YOLOv8)||void 0===n?void 0:n.length)||0)+((null===(a=o.SSD)||void 0===a?void 0:a.length)||0)}}),[r]),P=(0,o.useCallback)((async t=>{if(!window.confirm("\uc774 \ubd84\uc11d \uacb0\uacfc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return ls("\uc0ad\uc81c\uac00 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!1;try{if(ls("\uc0ad\uc81c \uc911..."),t.includes(e))return console.log("\ud83d\udd04 \ud074\ub77c\uc774\uc5b8\ud2b8 \uc0dd\uc131 ID - \ub85c\uceec\uc5d0\uc11c\ub9cc \uc81c\uac70:",t),a((e=>{var n;return Ft(Ft({},e),{},{results:(null===(n=e.results)||void 0===n?void 0:n.filter((e=>e.id!==t)))||[]})})),l((e=>e.filter((e=>e.id!==t)))),ls("\u2705 \ubd84\uc11d \uacb0\uacfc\uac00 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!0;return(await fetch("".concat(os,"/api/ai/result/").concat(t,"/"),{method:"DELETE"})).ok?(a((e=>{var n;return Ft(Ft({},e),{},{results:(null===(n=e.results)||void 0===n?void 0:n.filter((e=>e.id!==t)))||[]})})),l((e=>e.filter((e=>e.id!==t)))),ls("\u2705 \ubd84\uc11d \uacb0\uacfc\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!0):(console.log("\u26a0\ufe0f \uc11c\ubc84 \uc0ad\uc81c \uc2e4\ud328, \ub85c\uceec\uc5d0\uc11c \uc81c\uac70"),a((e=>{var n;return Ft(Ft({},e),{},{results:(null===(n=e.results)||void 0===n?void 0:n.filter((e=>e.id!==t)))||[]})})),l((e=>e.filter((e=>e.id!==t)))),ls("\u26a0\ufe0f \ub85c\uceec\uc5d0\uc11c \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!0)}catch(n){return console.log("\u26a0\ufe0f \uc0ad\uc81c \uc694\uccad \uc2e4\ud328, \ub85c\uceec\uc5d0\uc11c \uc81c\uac70:",n),a((e=>{var n;return Ft(Ft({},e),{},{results:(null===(n=e.results)||void 0===n?void 0:n.filter((e=>e.id!==t)))||[]})})),l((e=>e.filter((e=>e.id!==t)))),ls("\u26a0\ufe0f \ub85c\uceec\uc5d0\uc11c \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),!0}}),[e]),I=(0,o.useCallback)((()=>{m((e=>!e))}),[]),L=(0,o.useCallback)((()=>{y((e=>!e))}),[]),A=(0,o.useCallback)((()=>{if(!i||0===i.length)return[];console.log("\ud83e\uddea \ud544\ud130\ub9c1 \uc804 \uc804\uccb4 \uc624\ubc84\ub808\uc774:",i.length,"\uac1c"),console.log("\ud83c\udf9b\ufe0f YOLO \ud45c\uc2dc \uc0c1\ud0dc:",h),console.log("\ud83c\udf9b\ufe0f SSD \ud45c\uc2dc \uc0c1\ud0dc:",g);const e=i.filter(((e,t)=>{const n=e.model||"";return e.id||e.uniqueKey||console.warn("\u26a0\ufe0f ID/uniqueKey \uc5c6\ub294 \uc624\ubc84\ub808\uc774 [".concat(t,"]:"),e),n.toLowerCase().includes("yolo")?h:n.toLowerCase().includes("ssd")?g:!(n||!h)}));return console.log("\ud83c\udfaf \ucd5c\uc885 \uacb0\uacfc: ".concat(e.length,"/").concat(i.length," \ud45c\uc2dc\ub428")),e}),[i,h,g]),M=(0,o.useCallback)((()=>{n("\ub300\uae30 \uc911"),a(null),l([]),c(!1),u(!1)}),[]),z=(0,o.useCallback)((()=>d),[d]),B=(0,o.useCallback)((()=>r&&r.results&&r.results.length>0),[r]);return{analysisStatus:t,analysisResults:r,overlays:i,showOverlays:s,isAnalyzing:d,modelStatus:p,showYOLOOverlays:h,showSSDOverlays:g,analyzeYOLO:x,analyzeSSD:v,loadSavedResults:b,clearResults:S,loadYOLOResults:j,loadSSDResults:w,clearModelResults:_,getModelStatistics:T,toggleYOLOOverlays:I,toggleSSDOverlays:L,requestDeleteResult:P,getVisibleOverlays:A,checkAIModelStatus:k,isModelAvailable:C,toggleOverlayMode:()=>{h&&!g?(m(!1),y(!0)):!h&&g?(m(!0),y(!0)):h&&g?(m(!1),y(!1)):(m(!0),y(!1))},recalculateOverlays:N,getFilteredOverlays:O,getOverlaysByConfidence:D,getAnalysisStatistics:E,getResultsByLabel:R,resetAnalysisState:M,isAnalysisInProgress:z,hasAnalysisResults:B,setAnalysisStatus:n,setAnalysisResults:a,setOverlays:l,setShowOverlays:c}},cs="https://meddocai.p-e.kr:8000",ds=async e=>{if(!e.ok)throw new Error("HTTP ".concat(e.status,": ").concat(e.statusText));try{return await e.json()}catch(t){throw new Error("JSON \ud30c\uc2f1 \uc2e4\ud328: ".concat(t.message))}},us=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const t={method:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",headers:{"Content-Type":"application/json"}};return e&&(t.body=JSON.stringify(e)),t},ps=async e=>{try{const t=await fetch("".concat(cs,"/api/reports/").concat(e,"/"));return 404===t.status?{status:"no_reports",message:"\ubd88\ub7ec\uc62c \ub808\ud3ec\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}:t.ok?ds(t):{status:"error",message:"\ub808\ud3ec\ud2b8 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328 (".concat(t.status,")")}}catch(t){return{status:"error",message:"\ub124\ud2b8\uc6cc\ud06c \uc624\ub958: "+t.message}}},fs=e=>{const t=document.createElement("div");t.textContent=e,t.style.cssText="\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #333;\n        color: white;\n        padding: 12px 20px;\n        border-radius: 6px;\n        z-index: 9999;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n        font-size: 14px;\n        max-width: 300px;\n        animation: slideInRight 0.3s ease;\n    ";const n=document.createElement("style");n.textContent="\n        @keyframes slideInRight {\n            from { transform: translateX(100%); opacity: 0; }\n            to { transform: translateX(0); opacity: 1; }\n        }\n    ",document.head.querySelector("style[data-toast]")||(n.setAttribute("data-toast","true"),document.head.appendChild(n)),document.body.appendChild(t),setTimeout((()=>{document.body.contains(t)&&document.body.removeChild(t)}),3e3)},hs=(e,t,n)=>{const[r,a]=(0,o.useState)(!1),[i,l]=(0,o.useState)(!1),[s,c]=(0,o.useState)(null),[d,u]=(0,o.useState)(!0),[p,f]=(0,o.useState)([]),[h,m]=(0,o.useState)(!1),[g,y]=(0,o.useState)(""),[x,v]=(0,o.useState)(null),[b,j]=(0,o.useState)(!1),w=(0,o.useRef)(null),S=(0,o.useCallback)((e=>{var t;if(!r)return;n&&(console.log("\u270f\ufe0f \uc5b4\ub178\ud14c\uc774\uc158 \uadf8\ub9ac\uae30 \uc2dc\uc791 - \uc5b4\ub178\ud14c\uc774\uc158 \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),n("annotation"));const a=null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect();if(!a)return;const o=e.clientX-a.left,i=e.clientY-a.top;l(!0),c({startX:o,startY:i,endX:o,endY:i})}),[r,n]),_=(0,o.useCallback)((e=>{var t;if(!i||!r)return;const n=null===(t=w.current)||void 0===t?void 0:t.getBoundingClientRect();if(!n)return;const a=e.clientX-n.left,o=e.clientY-n.top;c((e=>e?Ft(Ft({},e),{},{endX:a,endY:o}):null))}),[i,r]),k=(0,o.useCallback)((e=>{if(i&&r){if(l(!1),s){const e=Math.abs(s.endX-s.startX),t=Math.abs(s.endY-s.startY);e>10&&t>10&&(v(s),m(!0),n&&(console.log("\ud83d\udccb \ub77c\ubca8 \ubaa8\ub2ec \uc5f4\ub9bc - \ubaa8\ub2ec \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),n("modal")))}c(null)}}),[i,r,s,n]),C=(0,o.useCallback)((e=>{if(!x||!e.trim())return;const t={id:Date.now(),left:Math.min(x.startX,x.endX),top:Math.min(x.startY,x.endY),width:Math.abs(x.endX-x.startX),height:Math.abs(x.endY-x.startY),label:e.trim(),confidence:1,created:(new Date).toISOString()};f((e=>[...e,t])),m(!1),y(""),v(null),n&&(console.log("\ud83d\udcbe \ub77c\ubca8 \uc800\uc7a5 \uc644\ub8cc - \uc5b4\ub178\ud14c\uc774\uc158 \ub808\uc774\uc5b4\ub85c \ubcf5\uadc0"),n("annotation"))}),[x,n]),N=(0,o.useCallback)((e=>{f((t=>t.filter((t=>t.id!==e)))),n&&(console.log("\ud83d\uddd1\ufe0f \uc5b4\ub178\ud14c\uc774\uc158 \uc0ad\uc81c - \uc5b4\ub178\ud14c\uc774\uc158 \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),n("annotation"))}),[n]),O=(0,o.useCallback)((e=>{const t=p.find((t=>t.id===e));t&&window.confirm('"'.concat(t.label,'" \uc5b4\ub178\ud14c\uc774\uc158\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?'))&&(N(e),j(!1))}),[p,N]),D=(0,o.useCallback)((async()=>{if(e&&0!==p.length){n&&n("annotation");try{t("\uc5b4\ub178\ud14c\uc774\uc158 \uc800\uc7a5 \uc911...");const n=await(async(e,t)=>{const n={study_uid:e,annotations:t.map((e=>({bbox:[e.left,e.top,e.left+e.width,e.top+e.height],label:e.label,confidence:e.confidence,created:e.created,dr_text:e.dr_text||""})))},r=us("POST",n),a=await fetch("".concat(cs,"/api/annotations/save/"),r);return ds(a)})(e,p);"success"===n.status?t("\u2705 \uc5b4\ub178\ud14c\uc774\uc158 \uc800\uc7a5 \uc644\ub8cc! (".concat(p.length,"\uac1c)")):(t("\u274c \uc800\uc7a5 \uc2e4\ud328: "+n.message),console.error("\u274c \uc800\uc7a5 \uc2e4\ud328 \uc0c1\uc138:",n))}catch(r){t("\u274c \uc800\uc7a5 \uc2e4\ud328: "+r.message),console.error("\u274c \ub124\ud2b8\uc6cc\ud06c \uc5d0\ub7ec:",r)}}else t("\uc800\uc7a5\ud560 \uc5b4\ub178\ud14c\uc774\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")}),[e,p,t,n]),E=(0,o.useCallback)((async()=>{if(e){n&&n("annotation");try{t("\uc5b4\ub178\ud14c\uc774\uc158 \ubd88\ub7ec\uc624\ub294 \uc911...");const n=await(async e=>{const t=await fetch("".concat(cs,"/api/annotations/").concat(e,"/"));return ds(t)})(e);if("success"===n.status&&n.annotations){const e=n.annotations.map(((e,t)=>({id:Date.now()+t,left:e.bbox[0],top:e.bbox[1],width:e.bbox[2]-e.bbox[0],height:e.bbox[3]-e.bbox[1],label:e.label,confidence:e.confidence,created:e.created||(new Date).toISOString()})));0===e.length?(t("\ubd88\ub7ec\uc62c \uc5b4\ub178\ud14c\uc774\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"),fs("\ubd88\ub7ec\uc62c \uc5b4\ub178\ud14c\uc774\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")):(f(e),t("\u2705 \uc5b4\ub178\ud14c\uc774\uc158 \ubd88\ub7ec\uc624\uae30 \uc644\ub8cc! (".concat(e.length,"\uac1c)")),fs("\u2705 \uc5b4\ub178\ud14c\uc774\uc158 ".concat(e.length,"\uac1c\ub97c \ubd88\ub7ec\uc654\uc2b5\ub2c8\ub2e4")))}else t("\ubd88\ub7ec\uc62c \uc5b4\ub178\ud14c\uc774\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"),fs("\ubd88\ub7ec\uc62c \uc5b4\ub178\ud14c\uc774\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")}catch(r){r.message.includes("404")||r.message.includes("Not Found")?(t("\ubd88\ub7ec\uc62c \uc5b4\ub178\ud14c\uc774\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"),fs("\ubd88\ub7ec\uc62c \uc5b4\ub178\ud14c\uc774\uc158\uc774 \uc5c6\uc2b5\ub2c8\ub2e4")):(t("\u274c \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: "+r.message),fs("\u274c \uc5b4\ub178\ud14c\uc774\uc158 \ubd88\ub7ec\uc624\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4")),console.error("\u274c \ubd88\ub7ec\uc624\uae30 \uc5d0\ub7ec:",r)}}}),[e,t,n]),R=(0,o.useCallback)((()=>{a((e=>{const t=!e;return n&&t&&(console.log("\u270f\ufe0f \uadf8\ub9ac\uae30 \ubaa8\ub4dc ON - \uc5b4\ub178\ud14c\uc774\uc158 \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),n("annotation")),t}))}),[n]),T=(0,o.useCallback)((()=>{u((e=>{const t=!e;return n&&t&&n("annotation"),t}))}),[n]),P=(0,o.useCallback)((()=>{j((e=>{const t=!e;return n&&t&&n("annotation"),t}))}),[n]),I=(0,o.useCallback)((()=>{m(!1),y(""),v(null),n&&(console.log("\u274c \ub77c\ubca8 \ubaa8\ub2ec \ucde8\uc18c - \uc5b4\ub178\ud14c\uc774\uc158 \ub808\uc774\uc5b4\ub85c \ubcf5\uadc0"),n("annotation"))}),[n]),L=(0,o.useCallback)((()=>{p.length>0&&window.confirm("\ubaa8\ub4e0 \uc5b4\ub178\ud14c\uc774\uc158(".concat(p.length,"\uac1c)\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&(f([]),t("\uc5b4\ub178\ud14c\uc774\uc158\uc774 \ubaa8\ub450 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"),n&&n("annotation"))}),[p.length,t,n]),A=(0,o.useCallback)((()=>{a(!1),l(!1),c(null),m(!1),y(""),v(null),j(!1)}),[]);return{drawingMode:r,isDrawing:i,currentBox:s,showAnnotations:d,annotationBoxes:p,showLabelModal:h,newBoxLabel:g,tempBox:x,showAnnotationDropdown:b,overlayRef:w,handleMouseDown:S,handleMouseMove:_,handleMouseUp:k,saveBoundingBox:C,deleteBoundingBox:N,deleteIndividualAnnotation:O,clearAllAnnotations:L,saveAnnotationsToServer:D,loadAnnotationsFromServer:E,toggleDrawingMode:R,toggleAnnotations:T,toggleAnnotationDropdown:P,cancelLabelModal:I,setNewBoxLabel:y,resetAnnotationState:A,setShowAnnotations:u,setAnnotationBoxes:f,setDrawingMode:a}},ms=(e,t)=>{const[n,r]=(0,o.useState)(!1),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)([]),[c,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(!1),f=(0,o.useCallback)((async function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;if(!e)return alert("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),!1;try{p(!0);const a=t(),o=await async function(e,t,n){const r=us("POST",{study_uid:e,patient_id:t,report_content:n,report_status:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"draft"}),a=await fetch("".concat(cs,"/api/reports/save/"),r);return ds(a)}(e,a.patient_id,n,"draft");return"success"===o.status?(alert("\u2705 \ub808\ud3ec\ud2b8\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),r(!1),i(""),await y(),!0):(alert("\u274c \ub808\ud3ec\ud2b8 \uc800\uc7a5 \uc2e4\ud328: "+o.message),!1)}catch(o){return alert("\u274c \ub808\ud3ec\ud2b8 \uc800\uc7a5 \uc2e4\ud328: "+o.message),console.error("\u274c \ub808\ud3ec\ud2b8 \uc800\uc7a5 \uc5d0\ub7ec:",o),!1}finally{p(!1)}}),[e,a,t]),h=(0,o.useCallback)((async()=>{if(!e)return alert("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),!1;try{p(!0);const t=await ps(e);return"success"===t.status?(i(t.report.dr_report||""),alert("\u2705 \ub808\ud3ec\ud2b8\ub97c \ubd88\ub7ec\uc654\uc2b5\ub2c8\ub2e4!"),!0):(alert("\uc800\uc7a5\ub41c \ub808\ud3ec\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),!1)}catch(t){return alert("\u274c \ub808\ud3ec\ud2b8 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328: "+t.message),console.error("\u274c \ub808\ud3ec\ud2b8 \ubd88\ub7ec\uc624\uae30 \uc5d0\ub7ec:",t),!1}finally{p(!1)}}),[e]),m=(0,o.useCallback)((async()=>{if(!e)return alert("Study UID\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),!1;if(!window.confirm("\uc774 \ub808\ud3ec\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))return!1;try{p(!0);const t=await(async e=>{try{const t=us("DELETE"),n=await fetch("".concat(cs,"/api/reports/").concat(e,"/delete/"),t);return 404===n.status?{status:"no_reports",message:"\uc0ad\uc81c\ud560 \ub808\ud3ec\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}:n.ok?ds(n):{status:"error",message:"\ub808\ud3ec\ud2b8 \uc0ad\uc81c \uc2e4\ud328 (".concat(n.status,")")}}catch(t){return{status:"error",message:"\ub124\ud2b8\uc6cc\ud06c \uc624\ub958: "+t.message}}})(e);return"success"===t.status?(alert("\u2705 \ub808\ud3ec\ud2b8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),s([]),i(""),!0):(alert("\u274c \ub808\ud3ec\ud2b8 \uc0ad\uc81c \uc2e4\ud328: "+t.message),!1)}catch(t){return alert("\u274c \ub808\ud3ec\ud2b8 \uc0ad\uc81c \uc2e4\ud328: "+t.message),console.error("\u274c \ub808\ud3ec\ud2b8 \uc0ad\uc81c \uc5d0\ub7ec:",t),!1}finally{p(!1)}}),[e]),g=(0,o.useCallback)((async(e,t)=>{try{p(!0);const n=await(async(e,t)=>{try{const n=us("PATCH",{report_status:t}),r=await fetch("".concat(cs,"/api/reports/").concat(e,"/status/"),n);return 404===r.status?{status:"no_reports",message:"\uc5c5\ub370\uc774\ud2b8\ud560 \ub808\ud3ec\ud2b8\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}:r.ok?ds(r):{status:"error",message:"\uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328 (".concat(r.status,")")}}catch(n){return{status:"error",message:"\ub124\ud2b8\uc6cc\ud06c \uc624\ub958: "+n.message}}})(e,t);return"success"===n.status?(await y(),!0):(alert("\u274c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328: "+n.message),!1)}catch(n){return alert("\u274c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328: "+n.message),console.error("\u274c \uc0c1\ud0dc \uc5c5\ub370\uc774\ud2b8 \uc5d0\ub7ec:",n),!1}finally{p(!1)}}),[]),y=(0,o.useCallback)((async()=>{if(!e)return[];try{const t=await ps(e);if("success"===t.status){const e=[t.report];return s(e),e}return s([]),[]}catch(t){return console.error("\u274c \ub808\ud3ec\ud2b8 \ubaa9\ub85d \uc0c8\ub85c\uace0\uce68 \uc2e4\ud328:",t),s([]),[]}}),[e]),x=(0,o.useCallback)((e=>{i(e.dr_report||""),d(!1),r(!0)}),[]),v=(0,o.useCallback)((()=>{r(!0)}),[]),b=(0,o.useCallback)((()=>{r(!1),i("")}),[]),j=(0,o.useCallback)((async()=>{c||await y(),d((e=>!e))}),[c,y]),w=(0,o.useCallback)((()=>{window.print()}),[]),S=(0,o.useCallback)((()=>{window.print()}),[]),_=(0,o.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a.trim()!==e.trim()}),[a]),k=(0,o.useCallback)((()=>{r(!1),i(""),s([]),d(!1),p(!1)}),[]),C=(0,o.useCallback)((()=>{const e=a.trim();return e?e.length<10?{isValid:!1,message:"\ub808\ud3ec\ud2b8 \ub0b4\uc6a9\uc774 \ub108\ubb34 \uc9e7\uc2b5\ub2c8\ub2e4."}:e.length>5e3?{isValid:!1,message:"\ub808\ud3ec\ud2b8 \ub0b4\uc6a9\uc774 \ub108\ubb34 \uae41\ub2c8\ub2e4. (\ucd5c\ub300 5000\uc790)"}:{isValid:!0,message:""}:{isValid:!1,message:"\ub808\ud3ec\ud2b8 \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."}}),[a]);return{showReportModal:n,reportContent:a,reportSummaries:l,showReportDropdown:c,isLoading:u,saveReportToServer:f,loadReportFromServer:h,deleteReportFromServer:m,updateReportStatusOnServer:g,refreshReportSummaries:y,openReportModal:v,closeReportModal:b,toggleReportDropdown:j,selectReportFromDropdown:x,printReport:w,exportReportToPDF:S,hasReportChanged:_,validateReport:C,resetReportState:k,setReportContent:i,setShowReportModal:r,setReportSummaries:s,setShowReportDropdown:d}},gs="https://meddocai.p-e.kr/dicom-web/";console.log("DEBUG: PACS_API_BASE_URL from .env:",gs);const ys=e=>{const[t,n]=(0,o.useState)(null),[r,a]=(0,o.useState)([]),[i,l]=(0,o.useState)(!1),[s,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(null),[p,f]=(0,o.useState)(null),h=(0,o.useCallback)((async()=>{try{l(!0),u(null),e&&e("PACS \uc5f0\uacb0 \uc911...");const r="studies",o="".concat(gs).concat(r);console.log("DEBUG: \ucd5c\uc885 PACS Studies URL:",o);const i=await fetch(o,{method:"GET",headers:{Accept:"application/json",Authorization:"Basic "+btoa("orthanc:orthanc")}});if(!i.ok)throw new Error("HTTP ".concat(i.status,": ").concat(i.statusText));const s=(await i.json()).map((e=>{var t,n,r,a,o,i,l,s,c,d,u,p,f,h,m,g,y,x,v,b,j,w,S;return{pacs_id:e.ID||(null===(t=e["0020000D"])||void 0===t||null===(n=t.Value)||void 0===n?void 0:n[0])||"",studyUID:(null===(r=e["0020000D"])||void 0===r||null===(a=r.Value)||void 0===a?void 0:a[0])||"",patientId:(null===(o=e["00100020"])||void 0===o||null===(i=o.Value)||void 0===i?void 0:i[0])||"",patientName:(null===(l=e["00100010"])||void 0===l||null===(s=l.Value)||void 0===s||null===(c=s[0])||void 0===c?void 0:c.Alphabetic)||(null===(d=e["00100010"])||void 0===d||null===(u=d.Value)||void 0===u?void 0:u[0])||"",studyDate:(null===(p=e["00080020"])||void 0===p||null===(f=p.Value)||void 0===f?void 0:f[0])||"",studyTime:(null===(h=e["00080030"])||void 0===h||null===(m=h.Value)||void 0===m?void 0:m[0])||"",modality:(null===(g=e["00080061"])||void 0===g||null===(y=g.Value)||void 0===y?void 0:y[0])||"",studyDescription:(null===(x=e["00081030"])||void 0===x||null===(v=x.Value)||void 0===v?void 0:v[0])||"",seriesCount:(null===(b=e["00201206"])||void 0===b||null===(j=b.Value)||void 0===j?void 0:j[0])||0,instanceCount:(null===(w=e["00201208"])||void 0===w||null===(S=w.Value)||void 0===S?void 0:S[0])||0}}));a(s),c(!0),f(new Date),s.length>0&&!t?(n(s[0].studyUID),null===e||void 0===e||e("\u2705 \uc2a4\ud130\ub514 \uac10\uc9c0: ".concat(s[0].patientName," (").concat(s[0].patientId,")"))):0===s.length?null===e||void 0===e||e("\u26a0\ufe0f PACS\uc5d0 \uc2a4\ud130\ub514\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"):null===e||void 0===e||e("\u2705 PACS \uc5f0\uacb0 \uc131\uacf5 (".concat(s.length,"\uac1c \uc2a4\ud130\ub514)"))}catch(r){console.error("PACS \uc5f0\uacb0 \uc2e4\ud328:",r),c(!1),u(r.message),null===e||void 0===e||e("\u274c PACS \uc5f0\uacb0 \uc2e4\ud328: ".concat(r.message))}finally{l(!1)}}),[t,e]);(0,o.useEffect)((()=>{h()}),[h]);const m=(0,o.useCallback)((()=>t||(r.length>0?r[0].studyUID:null)),[t,r]),g=(0,o.useCallback)((t=>{const a=r.find((e=>e.studyUID===t));a&&(n(t),null===e||void 0===e||e("\ud83d\udcc2 \uc2a4\ud130\ub514 \uc120\ud0dd: ".concat(a.patientName," (").concat(a.patientId,") - ").concat(a.studyDate)))}),[r,e]),y=(0,o.useCallback)((()=>{const e=m(),t=r.find((t=>t.studyUID===e));return t?{patient_name:t.patientName,patient_id:t.patientId,study_date:t.studyDate,study_time:t.studyTime,study_uid:t.studyUID,modality:t.modality,study_description:t.studyDescription,series_count:t.seriesCount,instance_count:t.instanceCount}:{patient_name:"Unknown",patient_id:"Unknown",study_date:"Unknown",study_uid:e}}),[m,r]),x=(0,o.useCallback)((e=>e.trim()?r.filter((t=>t.patientName.toLowerCase().includes(e.toLowerCase()))):r),[r]),v=(0,o.useCallback)((e=>e.trim()?r.filter((t=>t.patientId.toLowerCase().includes(e.toLowerCase()))):r),[r]),b=(0,o.useCallback)(((e,t)=>r.filter((n=>{const r=n.studyDate;return!(e&&r<e)&&!(t&&r>t)}))),[r]),j=(0,o.useCallback)((e=>e?r.filter((t=>t.modality.toLowerCase()===e.toLowerCase())):r),[r]),w=(0,o.useCallback)((()=>{const e=r.length,t=new Set(r.map((e=>e.patientId))).size,n=[...new Set(r.map((e=>e.modality)))].filter(Boolean),a=r.map((e=>new Date(e.studyDate).getTime()));return{totalStudies:e,uniquePatients:t,modalities:n,dateRange:a.length>0?{earliest:new Date(Math.min(...a)).toISOString().split("T")[0],latest:new Date(Math.max(...a)).toISOString().split("T")[0]}:null}}),[r]),S=(0,o.useCallback)((e=>r.filter((t=>t.patientId===e))),[r]),_=(0,o.useCallback)((()=>s&&!d),[s,d]),k=(0,o.useCallback)((()=>{u(null),h()}),[h]),C=(0,o.useCallback)((()=>{n(null),a([]),c(!1),u(null),f(null)}),[]),N=(0,o.useCallback)((()=>Boolean(m())),[m]),O=(0,o.useCallback)((()=>0===r.length),[r]);return{currentStudyUID:t,availableStudies:r,isLoading:i,isConnected:s,connectionError:d,lastUpdated:p,fetchAvailableStudies:h,retryConnection:k,checkConnectionStatus:_,getCurrentStudyUID:m,selectStudy:g,getCurrentStudyInfo:y,searchStudiesByPatientName:x,searchStudiesByPatientId:v,filterStudiesByDateRange:b,filterStudiesByModality:j,getStudyStatistics:w,getStudiesForPatient:S,resetPACSState:C,hasSelectedStudy:N,isStudyListEmpty:O,setCurrentStudyUID:n,setAvailableStudies:a}},xs="OHIFViewer_ohifViewerContainer__12f09",vs="OHIFViewer_viewerSection__zTcEV",bs="OHIFViewer_panelSection__NcpFI",js="OHIFViewer_studySyncNotification__2b3J6",ws="OHIFViewer_fullscreen__twr8a",Ss="OHIFViewer_loadingContainer__Y1129",_s="OHIFViewer_loadingSpinner__FqQtT",ks="OHIFViewer_errorContainer__TQttz",Cs="OHIFViewer_errorTitle__9bZ5a",Ns="OHIFViewer_errorMessage__9AuPa",Os="OHIFViewer_errorRetryButton__1dbFx",Ds=e=>{let{ohifBaseUrl:t="https://meddocai.p-e.kr/ohif/",showDebugInfo:n=!1}=e;const[r,a]=(0,o.useState)("iframe"),i=e=>{const t={iframe:100,ai:200,annotation:300,modal:400};return r===e?t[e]+1e3:t[e]},[l,s]=(0,o.useState)(""),[c,d]=(0,o.useState)(!1),u=ys(),{currentStudyUID:p,availableStudies:f,fetchAvailableStudies:h,selectStudy:m,getCurrentStudyInfo:g,isLoading:y,connectionError:x,setCurrentStudyUID:v}=u,[b,j]=(0,o.useState)(t);(0,o.useEffect)((()=>{let e;e=p?"".concat(t,"viewer?StudyInstanceUIDs=").concat(p):t,e!==b&&(console.log("\ud83d\udccb OHIF URL \ubcc0\uacbd:",{from:b,to:e,studyUID:p||"none"}),j(e))}),[p,t,b]);const w=ss(p),{analysisStatus:S,analysisResults:_,overlays:k,showOverlays:C,isAnalyzing:N,analyzeYOLO:O,analyzeSSD:D,loadSavedResults:E,clearResults:R,checkAIModelStatus:T,toggleOverlayMode:P,recalculateOverlays:I,setAnalysisStatus:L}=w,A=hs(p,L,a),{drawingMode:M,currentBox:z,annotationBoxes:B,showAnnotations:F,showLabelModal:U,newBoxLabel:H,showAnnotationDropdown:W,overlayRef:V,handleMouseDown:q,handleMouseMove:Y,handleMouseUp:$,saveBoundingBox:K,deleteBoundingBox:Q,deleteIndividualAnnotation:G,saveAnnotationsToServer:X,loadAnnotationsFromServer:J,toggleDrawingMode:Z,toggleAnnotations:ee,toggleAnnotationDropdown:te,cancelLabelModal:ne}=A,re=ms(p,g),{showReportModal:ae,reportContent:oe,reportSummaries:ie,showReportDropdown:le,saveReportToServer:se,loadReportFromServer:ce,deleteReportFromServer:de,updateReportStatusOnServer:ue,openReportModal:pe,closeReportModal:fe,toggleReportDropdown:he,selectReportFromDropdown:me,printReport:ge}=re,ye=(0,o.useCallback)((async e=>{if(console.log("\ud83d\udd04 OHIF\uc5d0\uc11c \uc2a4\ud130\ub514 \ubcc0\uacbd \uac10\uc9c0:",{from:p,to:e}),e!==p){d(!0),s("\uc2a4\ud130\ub514 \ub3d9\uae30\ud654 \uc911...");try{console.log("\ud83e\uddf9 \uae30\uc874 \uc624\ubc84\ub808\uc774 \uc228\uae40..."),w.showYOLOOverlays&&(console.log("\ud83e\udd16 YOLO \uc624\ubc84\ub808\uc774 \uc228\uae40"),w.toggleYOLOOverlays()),w.showSSDOverlays&&(console.log("\ud83e\udd16 SSD \uc624\ubc84\ub808\uc774 \uc228\uae40"),w.toggleSSDOverlays()),w.showbothOverlays&&(console.log("\ud83e\udd16 \ubaa8\ub4e0 \uc624\ubc84\ub808\uc774 \uc228\uae40"),w.togglebothOverlays()),console.log("\ud83d\udcc2 PACS \uc0c1\ud0dc \ub3d9\uae30\ud654 \uc911...");const t=f.find((t=>t.studyUID===e));if(t)v(e),s("\u2705 ".concat(t.patientName," \ub3d9\uae30\ud654 \uc644\ub8cc")),setTimeout((async()=>{try{console.log("\ud83d\udcca \uc0c8 \uc2a4\ud130\ub514 \ubd84\uc11d \uacb0\uacfc \ub85c\ub4dc..."),await E(),s("\u2705 ".concat(t.patientName," \uc804\ud658 \uc644\ub8cc"))}catch(e){console.warn("\u26a0\ufe0f \uc800\uc7a5\ub41c \ubd84\uc11d \uacb0\uacfc \ub85c\ub4dc \uc2e4\ud328:",e),s("\u2705 ".concat(t.patientName," (\ubd84\uc11d \uacb0\uacfc \uc5c6\uc74c)"))}setTimeout((()=>{s("")}),3e3)}),500);else{console.warn("\u26a0\ufe0f PACS\uc5d0\uc11c \uc2a4\ud130\ub514\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc74c, \uc0c8\ub85c\uace0\uce68 \uc2dc\ub3c4:",e),await h();const t=f.find((t=>t.studyUID===e));t?(v(e),s("\u2705 ".concat(t.patientName," \ub3d9\uae30\ud654 \uc644\ub8cc"))):(v(e),s("\u26a0\ufe0f \uc54c \uc218 \uc5c6\ub294 \uc2a4\ud130\ub514\ub85c \uc804\ud658\ub428")),setTimeout((()=>{s("")}),3e3)}}catch(t){console.error("\u274c \uc2a4\ud130\ub514 \ub3d9\uae30\ud654 \uc911 \uc624\ub958:",t),s("\u274c \uc2a4\ud130\ub514 \ub3d9\uae30\ud654 \uc2e4\ud328"),setTimeout((()=>{s("")}),3e3)}finally{d(!1)}}else console.log("\ud83d\udcdd \uac19\uc740 \uc2a4\ud130\ub514 - \ubcc0\uacbd \ubb34\uc2dc")}),[p,f,w,v,E,h]),xe=(0,o.useCallback)((async e=>{console.log("\ud83d\udc46 \uc218\ub3d9 \uc2a4\ud130\ub514 \uc120\ud0dd:",{from:p,to:e}),await ye(e)}),[ye]),[ve,be]=(0,o.useState)(!1),[je,we]=(0,o.useState)(null),Se=async()=>{we(null);try{await h()}catch(e){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.error("\uae00\ub85c\ubc8c \uc5d0\ub7ec (".concat(t,"):"),e),we("".concat(t,": ").concat(e.message))}(e,"PACS \uc7ac\uc5f0\uacb0")}},_e={analysisResults:_,overlays:w.getVisibleOverlays(),showOverlays:C,onRecalculateOverlays:I,ohifUrl:b,showDebugInfo:n,isLoading:N||c,error:je,currentStudyUID:p,onStudyChange:ye,activeLayer:r,setActiveLayer:a,annotationProps:{drawingMode:M,currentBox:z,annotationBoxes:B,showAnnotations:F,overlayRef:V,onMouseDown:q,onMouseMove:Y,onMouseUp:$,onDeleteAnnotation:Q,onDrawingStart:()=>a("annotation"),onModalOpen:()=>a("modal")}},ke={analysisStatus:S,analysisResults:_,overlays:w.getVisibleOverlays(),showOverlays:C,showYOLOOverlays:w.showYOLOOverlays,showSSDOverlays:w.showSSDOverlays,showDeleteModal:w.showDeleteModal,showbothOverlays:w.showbothOverlays,onToggleYOLOOverlays:w.toggleYOLOOverlays,onToggleSSDOverlays:w.toggleSSDOverlays,onTogglebothOverlays:w.togglebothOverlays,onRequestDeleteResult:w.requestDeleteResult,onHandleDeleteConfirm:w.handleDeleteConfirm,onHandleDeleteCancel:w.handleDeleteCancel,allOverlays:k,onAnalyzeYOLO:async function(){return a("ai"),console.log("\ud83e\udd16 YOLO \ubd84\uc11d \uc2dc\uc791 - AI \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),await O(...arguments)},onAnalyzeSSD:async function(){return a("ai"),console.log("\ud83e\udd16 SSD \ubd84\uc11d \uc2dc\uc791 - AI \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),await D(...arguments)},onLoadSavedResults:E,onClearResults:R,onCheckModelStatus:T,onToggleOverlayMode:P,onRecalculateOverlays:I,currentStudyUID:p,availableStudies:f,onSelectStudy:xe,onRefreshStudies:h,studySyncStatus:l,isStudyTransitioning:c,annotationProps:{drawingMode:M,annotationBoxes:B,showAnnotations:F,showAnnotationDropdown:W,onToggleDrawingMode:Z,onToggleAnnotations:ee,onToggleAnnotationDropdown:te,onSaveAnnotations:X,onLoadAnnotations:J,onDeleteIndividualAnnotation:G},onLoadReport:ce,onOpenReportModal:function(){a("modal"),console.log("\ud83d\udccb \ub808\ud3ec\ud2b8 \ubaa8\ub2ec \uc5f4\ub9bc - \ubaa8\ub2ec \ub808\uc774\uc5b4 \ud65c\uc131\ud654"),pe(...arguments)},reportSummaries:ie,showReportDropdown:le,onToggleReportDropdown:he,onSelectReport:me,onDeleteReport:de,onUpdateReportStatus:ue},Ce={isOpen:U,onSave:K,onCancel:ne,initialLabel:H,title:"\ud83c\udff7\ufe0f \uc5b4\ub178\ud14c\uc774\uc158 \ub77c\ubca8 \uc785\ub825",onModalOpen:()=>a("modal")},Ne={isOpen:ae,onClose:fe,onSave:se,onPrint:ge,patientInfo:g(),currentStudyUID:p,analysisResults:_,annotationBoxes:B,initialContent:oe,title:"\ud83d\udccb \uc9c4\ub2e8 \ub808\ud3ec\ud2b8",onModalOpen:()=>a("modal")};return y&&0===f.length?(0,ur.jsxs)("div",{className:Ss,children:[(0,ur.jsx)("div",{className:_s}),"PACS \uc5f0\uacb0 \uc911..."]}):je||x?(0,ur.jsxs)("div",{className:ks,children:[(0,ur.jsx)("div",{className:Cs,children:"\u274c \uc5f0\uacb0 \uc624\ub958"}),(0,ur.jsx)("div",{className:Ns,children:je||x}),(0,ur.jsx)("button",{onClick:Se,className:Os,children:"\ud83d\udd04 \ub2e4\uc2dc \uc2dc\ub3c4"})]}):(0,ur.jsxs)("div",{className:"".concat(xs," ").concat(ve?ws:""),style:{"--z-iframe":i("iframe"),"--z-ai":i("ai"),"--z-annotation":i("annotation"),"--z-modal":i("modal")},children:[l&&(0,ur.jsx)("div",{className:js,children:l}),(0,ur.jsx)("div",{className:vs,children:(0,ur.jsx)(vl,Ft({},_e))}),!ve&&(0,ur.jsx)("div",{className:bs,children:(0,ur.jsx)(Yl,Ft({},ke))}),(0,ur.jsx)(ts,Ft({},Ce)),(0,ur.jsx)(rs,Ft({},Ne)),n&&(0,ur.jsxs)("div",{children:[(0,ur.jsx)("button",{onClick:()=>{be((e=>!e))},style:{position:"fixed",top:"20px",left:"20px",zIndex:1e4,background:"#007bff",color:"white",border:"none",padding:"10px",borderRadius:"4px",cursor:"pointer"},children:ve?"\ud83d\udd32 \ucc3d \ubaa8\ub4dc":"\ud83d\udcfa \uc804\uccb4\ud654\uba74"}),(0,ur.jsxs)("div",{style:{position:"fixed",top:"80px",left:"20px",zIndex:1e4,background:"rgba(0,0,0,0.8)",color:"white",padding:"10px",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"},children:["\ud83c\udfaf \ud65c\uc131 \ub808\uc774\uc5b4: ",(0,ur.jsx)("strong",{children:r}),(0,ur.jsx)("br",{}),"\ud83d\udcc2 \ud604\uc7ac \uc2a4\ud130\ub514: ",(0,ur.jsx)("strong",{children:p||"none"}),(0,ur.jsx)("br",{}),"\ud83c\udf10 OHIF URL: ",(0,ur.jsx)("strong",{children:b}),(0,ur.jsx)("br",{}),"\ud83d\udd04 \uc804\ud658 \uc911: ",(0,ur.jsx)("strong",{children:c?"\u2705":"\u274c"}),(0,ur.jsx)("br",{}),"\ud83d\udcca z-index: iframe(",i("iframe"),"), ai(",i("ai"),"), annotation(",i("annotation"),"), modal(",i("modal"),")"]}),(0,ur.jsxs)("div",{style:{position:"fixed",top:"250px",left:"20px",zIndex:1e4,background:"rgba(0,0,0,0.8)",color:"white",padding:"10px",borderRadius:"4px",fontSize:"12px",fontFamily:"monospace"},children:[(0,ur.jsx)("div",{children:(0,ur.jsx)("strong",{children:"\ud83e\uddea \ub514\ubc84\uae45 \ud14c\uc2a4\ud2b8"})}),(0,ur.jsx)("button",{onClick:()=>{console.log("\ud83e\uddea \uac15\uc81c \uc2a4\ud130\ub514 \ubcc0\uacbd \ud14c\uc2a4\ud2b8");ye("1.3.6.1.4.1.14519.5.2.1.9999.103.2445110399502685110179049624124")},style:{background:"#28a745",color:"white",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"11px",marginTop:"5px",display:"block",width:"100%"},children:"\ud83e\uddea \uac15\uc81c \uc2a4\ud130\ub514 \ubcc0\uacbd"}),(0,ur.jsx)("button",{onClick:()=>{console.log("\ud83d\udcca \ud604\uc7ac \uc0c1\ud0dc \ucd9c\ub825"),console.log("currentStudyUID:",p),console.log("availableStudies:",f),console.log("ohifUrl:",b)},style:{background:"#007bff",color:"white",border:"none",padding:"5px 10px",borderRadius:"3px",cursor:"pointer",fontSize:"11px",marginTop:"5px",display:"block",width:"100%"},children:"\ud83d\udcca \ud604\uc7ac \uc0c1\ud0dc \ucd9c\ub825"})]})]})]})},Es=()=>{const[e,t]=(0,o.useState)("https://meddocai.p-e.kr/orthanc-ui/app/"),[n,r]=(0,o.useState)(!0),[a,i]=(0,o.useState)(!1),l=(Ft(Ft({},{padding:"8px 16px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"background-color 0.3s"}),{},{backgroundColor:"#27ae60",padding:"6px 12px",fontSize:"12px"}),{display:n&&!a?"flex":"none",position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.9)",fontSize:"18px",color:"#666"}),s={display:a?"flex":"none",position:"absolute",top:0,left:0,right:0,bottom:0,justifyContent:"center",alignItems:"center",flexDirection:"column",backgroundColor:"#f8f9fa",color:"#6c757d"};return(0,ur.jsx)("div",{style:{width:"100%",height:"100vh",display:"flex",flexDirection:"column",backgroundColor:"#f5f5f5"},children:(0,ur.jsxs)("div",{style:{width:"100%",height:"100vh",position:"relative",backgroundColor:"white"},children:[(0,ur.jsx)("iframe",{id:"pacs-explorer-iframe",src:e,style:{width:"100%",height:"100%",border:"none",display:a?"none":"block"},onLoad:()=>{r(!1),i(!1)},onError:()=>{r(!1),i(!0)},title:"PACS Explorer 2",allow:"fullscreen"}),(0,ur.jsx)("div",{style:l,children:(0,ur.jsxs)("div",{style:{textAlign:"center"},children:[(0,ur.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\u23f3"}),(0,ur.jsx)("div",{children:"PACS Explorer 2\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."}),(0,ur.jsx)("div",{style:{fontSize:"14px",marginTop:"10px",color:"#999"},children:e})]})}),(0,ur.jsx)("div",{style:s,children:(0,ur.jsxs)("div",{style:{textAlign:"center"},children:[(0,ur.jsx)("div",{style:{fontSize:"48px",marginBottom:"20px"},children:"\u274c"}),(0,ur.jsx)("h3",{style:{color:"#e74c3c",margin:"0 0 15px 0"},children:"PACS Explorer 2\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,ur.jsxs)("p",{style:{margin:"0 0 20px 0"},children:[" ","Orthanc \uc11c\ubc84\uac00 \uc2e4\ud589 \uc911\uc778\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694"]}),(0,ur.jsx)("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"\ud398\uc774\uc9c0 \uc0c8\ub85c\uace0\uce68"})]})})]})})};const Rs=function(){const[e,t]=(0,o.useState)("request");return(0,ur.jsxs)("div",{className:"viewer-app",children:[(0,ur.jsx)(ll,{currentPage:e,onPageChange:t}),(()=>{switch(e){case"request":default:return(0,ur.jsx)(sl,{});case"results":return(0,ur.jsx)(cl,{});case"schedule":return(0,ur.jsx)(Ds,{});case"pacs":return(0,ur.jsx)(Es,{});case"settings":return(0,ur.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,ur.jsx)("h2",{children:"\u2699\ufe0f \uc124\uc815 \ud398\uc774\uc9c0"}),(0,ur.jsx)("p",{children:"\uc2dc\uc2a4\ud15c \uc124\uc815\uc774 \uc5ec\uae30\uc5d0 \ub4e4\uc5b4\uac11\ub2c8\ub2e4."}),(0,ur.jsxs)("div",{style:{marginTop:"30px",padding:"20px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,ur.jsx)("h3",{children:"\uc2dc\uc2a4\ud15c \uc815\ubcf4"}),(0,ur.jsx)("p",{children:"\u2022 Django Backend: localhost:8000"}),(0,ur.jsx)("p",{children:"\u2022 React Frontend: localhost:3000"}),(0,ur.jsx)("p",{children:"\u2022 Orthanc PACS: localhost:8042"}),(0,ur.jsx)("p",{children:"\u2022 PACS Explorer 2: localhost:8042/ui/app/"})]})]})}})()]})};function Ts(){const[e,t]=(0,o.useState)("order"),[n,r]=(0,o.useState)("\ud64d\uae38\ub3d9");return(0,ur.jsxs)("div",{className:"main-container",children:[(0,ur.jsx)("header",{className:"chart-header",children:(0,ur.jsx)("div",{className:"search-bar"})}),(0,ur.jsxs)("div",{className:"content-body",children:[(0,ur.jsxs)("aside",{className:"sidebar",children:[(0,ur.jsx)("button",{onClick:()=>t("dicom"),children:"\ud83d\uddbc\ufe0f DICOM"}),(0,ur.jsx)(Re,{to:"/lis",children:(0,ur.jsx)("button",{children:"\ud83c\udfe0 LIS \uc774\ub3d9"})}),(0,ur.jsx)("button",{onClick:()=>t("logs"),children:"\ud83d\udcc4 \ub85c\uadf8"}),(0,ur.jsx)("button",{onClick:()=>t("logins"),children:"\ud83d\udd10 \ub85c\uadf8\uc778"}),(0,ur.jsx)("button",{onClick:()=>t("patientsList"),children:"\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1 \ud658\uc790 \ubaa9\ub85d"}),(0,ur.jsx)("button",{onClick:()=>t("Medicalemployee"),children:"\ud83d\udc68\u200d\u2695\ufe0f \uc758\ub8cc\uc778 \uc815\ubcf4"}),(0,ur.jsx)("button",{onClick:()=>window.open("/RISPage","_blank"),children:"RISPage"}),(0,ur.jsx)(Re,{to:"/emr",children:(0,ur.jsx)("button",{children:"\ud83d\udcc1 EMR \uc774\ub3d9"})})]}),(0,ur.jsxs)("main",{className:"main-panel",children:[(0,ur.jsxs)("h2",{children:["Welcome, Dr. ",n]}),(0,ur.jsx)("div",{className:"tab-content",children:(()=>{switch(e){case"order":default:return(0,ur.jsx)(Tr,{});case"sample":return(0,ur.jsx)(pr,{});case"dicom":return(0,ur.jsx)(il,{});case"lis":return(0,ur.jsx)(Rr,{});case"logs":return(0,ur.jsx)(ra,{});case"logins":return(0,ur.jsx)(ia,{});case"patientsList":return(0,ur.jsx)(rl,{});case"Medicalemployee":return(0,ur.jsx)(al,{});case"RISPage":return(0,ur.jsx)(Rs,{})}})()})]}),(0,ur.jsx)("div",{className:"calendar-container",children:(0,ur.jsx)(nl,{})})]})]})}const Ps=e=>{let{activeTab:t,setActiveTab:n,onBellClick:r}=e;const a=e=>t===e;return(0,ur.jsxs)("div",{className:"sidebar",style:{width:"180px",backgroundColor:"#f2f2f2",padding:"1rem 0.5rem"},children:[(0,ur.jsx)("div",{style:{border:"1px solid #d9d9d9",backgroundColor:"#ffffff",borderRadius:"6px",padding:"0.5rem 0.75rem",margin:"0 0 1rem",textAlign:"center",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,ur.jsx)("h2",{style:{fontSize:"18px",margin:0,color:"#333"},children:"1\uc870 \uba54\ub514\uceec"})}),(0,ur.jsx)("div",{className:"notif-wrapper",role:"button","aria-label":"\uc54c\ub9bc \uc5f4\uae30",onClick:r,style:{margin:"0 auto 1.5rem",textAlign:"center",cursor:"pointer"},children:(0,ur.jsx)(fr,{})}),(0,ur.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:["\ud648","\uc811\uc218","\uc758\uc0ac \ub300\uc2dc\ubcf4\ub4dc","\uc9c4\ub8cc \uc9c4\ud589\ub3c4","\ub300\uae30 \ud654\uba74","\ub300\uae30 \ubaa9\ub85d","\uc644\ub8cc \ud658\uc790 \ubaa9\ub85d","\uc124\uc815"].map((e=>(0,ur.jsx)("li",{onClick:()=>n(e),style:{padding:"0.5rem 0.75rem",cursor:"pointer",fontWeight:a(e)?"bold":"normal",backgroundColor:a(e)?"#e6f7ff":"transparent",borderRadius:"4px",marginBottom:"0.25rem"},children:e},e)))})]})},Is={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.4)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999},Ls={backgroundColor:"white",padding:"2rem",borderRadius:"10px",width:"800px",boxShadow:"0 4px 10px rgba(0,0,0,0.2)",textAlign:"left",maxHeight:"90vh",overflowY:"auto"},As={padding:"0.5rem 1rem",fontSize:"14px",backgroundColor:"#777",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},Ms={padding:"0.5rem 1rem",fontSize:"14px",backgroundColor:"#d32f2f",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},zs=e=>{let{patient:t,doctorId:n,onClose:r,onPatientDeleted:a}=e;const[i,l]=(0,o.useState)(!1);if(!t)return null;const{display:s,person:c,uuid:d,mapping_id:u}=t;return(0,ur.jsx)("div",{style:Is,children:(0,ur.jsxs)("div",{style:Ls,children:[(0,ur.jsx)("h2",{style:{marginTop:0},children:"\ud83d\udc64 \ud658\uc790 \uc0c1\uc138 \uc815\ubcf4"}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\uc774\ub984:"})," ",s]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\uc131\ubcc4:"})," ","M"===c.gender?"\ub0a8":"\uc5ec"]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\ub098\uc774:"})," ",null!==c.age&&void 0!==c.age?"".concat(c.age,"\uc138"):"-"]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\uc0dd\ub144\uc6d4\uc77c:"})," ",c.birthdate]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"UUID:"})," ",d]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\ub9e4\ud551 ID:"})," ",u||"-"]}),(0,ur.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:[(0,ur.jsx)("button",{onClick:async()=>{if(!u)return alert("\ub9e4\ud551 ID\uac00 \uc5c6\uc5b4 \ud658\uc790 \ub9e4\ud551\uc744 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),void console.error("\uc0ad\uc81c \uc2e4\ud328: mapping_id\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",t);if(window.confirm("".concat(s," \ud658\uc790\uc758 \ub9e4\ud551\uc744 \uc815\ub9d0 \uc0ad\uc81c(\ube44\ud65c\uc131\ud654)\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))){l(!0);try{await cr.delete("".concat("https://meddocai.p-e.kr/api/integration/","patient-mappings/").concat(u,"/delete/")),alert("\u2705 ".concat(s," \ud658\uc790\uc758 \ub9e4\ud551\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ube44\ud65c\uc131\ud654\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),a&&a(),r()}catch(i){var e,n,o;console.error("\ud658\uc790 \ub9e4\ud551 \uc0ad\uc81c \uc2e4\ud328:",(null===(e=i.response)||void 0===e?void 0:e.data)||i),alert("\ud658\uc790 \ub9e4\ud551 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+((null===(n=i.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||i.message))}finally{l(!1)}}},style:Ms,disabled:i,children:i?"\uc0ad\uc81c \uc911\u2026":"\ud658\uc790 \ub9e4\ud551 \ube44\ud65c\uc131\ud654"}),(0,ur.jsx)("button",{onClick:r,style:As,disabled:i,children:"\ub2eb\uae30"})]})]})})},Bs=e=>{let{selectedPatient:t,assignToRoom:n,assignedPatients:r,unassignFromRoom:a}=e;return(0,ur.jsxs)("div",{style:{minWidth:"200px",borderRight:"1px solid #ccc",padding:"1rem"},children:[(0,ur.jsxs)("div",{children:[(0,ur.jsx)("button",{onClick:()=>n(1),disabled:!t||r[1],children:"\uc9c4\ub8cc\uc2e4 1 \ubc30\uc815"}),r[1]&&(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsxs)("p",{children:["\u2714 ",r[1].name||r[1].display]}),(0,ur.jsx)("button",{onClick:()=>a(1),children:"\u274c \ud574\uc81c"})]}),!r[1]&&(0,ur.jsx)("p",{children:"\ube44\uc5b4 \uc788\uc74c"})]}),(0,ur.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,ur.jsx)("button",{onClick:()=>n(2),disabled:!t||r[2],children:"\uc9c4\ub8cc\uc2e4 2 \ubc30\uc815"}),r[2]&&(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsxs)("p",{children:["\u2714 ",r[2].name||r[2].display]}),(0,ur.jsx)("button",{onClick:()=>a(2),children:"\u274c \ud574\uc81c"})]}),!r[2]&&(0,ur.jsx)("p",{children:"\ube44\uc5b4 \uc788\uc74c"})]})]})},Fs=e=>{let{onAssignSuccess:t,onMarkAsComplete:n,onUnassignFromRoom:r,waitingList:a,assignedPatients:i,onDeleteSuccess:l}=e;const[s,c]=(0,o.useState)(""),[d,u]=(0,o.useState)("card"),[p,f]=(0,o.useState)(null),h=async e=>{if(window.confirm("\uc815\ub9d0\ub85c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{await cr.delete("".concat("https://meddocai.p-e.kr/api/integration/","delete-mapping/").concat(e,"/")),alert("\u2705 \ud658\uc790\uac00 \ub300\uae30 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),f(null),l()}catch(r){var t,n;console.error("\uc0ad\uc81c \uc2e4\ud328:",r),alert("\uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message))}},m=a.filter((e=>!s||(e.display||e.name).toLowerCase().includes(s.toLowerCase())||e.patient_identifier.includes(s))),g={container:{display:"flex",height:"100%",gap:"1rem"},leftPanel:{flex:2,display:"flex",flexDirection:"column"},rightPanel:{flex:1,minWidth:"250px"},controls:{display:"flex",gap:"1rem",marginBottom:"1rem",alignItems:"center",padding:"1rem",backgroundColor:"#f8f9fa",borderRadius:"8px"},searchInput:{padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",flex:1},button:{padding:"0.5rem 1rem",border:"1px solid #007bff",backgroundColor:"#007bff",color:"white",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},toggleButton:e=>({padding:"0.5rem 1rem",border:"1px solid #007bff",backgroundColor:e?"#007bff":"white",color:e?"white":"#007bff",borderRadius:"4px",cursor:"pointer",fontSize:"14px"}),patientList:{flex:1,overflow:"auto"},cardContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(300px,1fr))",gap:"1rem",padding:"1rem"},card:e=>({padding:"1rem",border:e?"2px solid #007bff":"1px solid #ddd",borderRadius:"8px",backgroundColor:e?"#f0f8ff":"white",cursor:"pointer",transition:"all 0.2s ease"}),cardTitle:{fontSize:"16px",fontWeight:"bold",marginBottom:"0.5rem",color:"#333"},cardInfo:{fontSize:"14px",color:"#666",marginBottom:"0.25rem"},loadingMessage:{textAlign:"center",padding:"2rem",color:"#666"},errorMessage:{textAlign:"center",padding:"2rem",color:"#dc3545",backgroundColor:"#f8d7da",borderRadius:"4px",margin:"1rem"},table:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},th:{padding:"0.75rem",backgroundColor:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",fontWeight:"bold"},td:{padding:"0.75rem",border:"1px solid #ddd"}};return(0,ur.jsxs)("div",{style:g.container,children:[(0,ur.jsxs)("div",{style:g.leftPanel,children:[(0,ur.jsxs)("div",{style:g.controls,children:[(0,ur.jsx)("input",{type:"text",placeholder:"\ud658\uc790\uba85 \ub610\ub294 ID\ub85c \uac80\uc0c9...",value:s,onChange:e=>c(e.target.value),style:g.searchInput}),(0,ur.jsx)("button",{onClick:()=>u("table"),style:g.toggleButton("table"===d),children:"\ud45c \ubcf4\uae30"}),(0,ur.jsx)("button",{onClick:()=>u("card"),style:g.toggleButton("card"===d),children:"\uce74\ub4dc \ubcf4\uae30"})]}),(0,ur.jsx)("div",{style:g.patientList,children:"card"===d?(0,ur.jsx)("div",{style:g.cardContainer,children:m.length?m.map((e=>{const t=(null===p||void 0===p?void 0:p.mapping_id)===e.mapping_id;return(0,ur.jsxs)("div",{style:g.card(t),onClick:()=>f(e),children:[(0,ur.jsxs)("div",{style:g.cardTitle,children:["\ud83d\udc64 ",e.display||e.name]}),(0,ur.jsxs)("div",{style:g.cardInfo,children:["\ud83c\udd94 ",e.patient_identifier]}),(0,ur.jsxs)("div",{style:g.cardInfo,children:["\ud83d\udc65 ","M"===e.gender?"\ub0a8\uc131":"F"===e.gender?"\uc5ec\uc131":"-"," | \ud83d\udcc5 ",e.birthdate]}),(0,ur.jsxs)("div",{style:g.cardInfo,children:["\u23f0 \ub300\uae30\uc2dc\uac04: ",e.waitTime||0,"\ubd84"]}),(0,ur.jsx)("button",{onClick:t=>{t.stopPropagation(),h(e.mapping_id)},style:{marginTop:"0.5rem",padding:"0.25rem 0.5rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"\u274c \uc0ad\uc81c"})]},e.mapping_id)})):(0,ur.jsx)("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"2rem",color:"#666"},children:"\ud604\uc7ac \ub300\uae30 \uc911\uc778 \ud658\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}):(0,ur.jsxs)("table",{style:g.table,children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{style:g.th,children:"\ud658\uc790\uba85"}),(0,ur.jsx)("th",{style:g.th,children:"\ud658\uc790 ID"}),(0,ur.jsx)("th",{style:g.th,children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,ur.jsx)("th",{style:g.th,children:"\uc131\ubcc4"}),(0,ur.jsx)("th",{style:g.th,children:"\ub300\uae30\uc2dc\uac04"}),(0,ur.jsx)("th",{style:g.th,children:"\uc791\uc5c5"})]})}),(0,ur.jsx)("tbody",{children:m.length?m.map((e=>{const t=(null===p||void 0===p?void 0:p.mapping_id)===e.mapping_id;return(0,ur.jsxs)("tr",{style:{background:t?"#e1f5e8":"transparent",cursor:"pointer"},onClick:()=>f(e),children:[(0,ur.jsx)("td",{style:g.td,children:e.display||e.name}),(0,ur.jsx)("td",{style:g.td,children:e.patient_identifier}),(0,ur.jsx)("td",{style:g.td,children:e.birthdate}),(0,ur.jsx)("td",{style:g.td,children:"M"===e.gender?"\ub0a8\uc131":"F"===e.gender?"\uc5ec\uc131":"-"}),(0,ur.jsxs)("td",{style:g.td,children:[e.waitTime||0,"\ubd84"]}),(0,ur.jsx)("td",{style:g.td,children:(0,ur.jsx)("button",{onClick:t=>{t.stopPropagation(),h(e.mapping_id)},style:{padding:"0.25rem 0.5rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"\u274c \uc0ad\uc81c"})})]},e.mapping_id)})):(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:6,style:Ft(Ft({},g.td),{},{textAlign:"center",color:"#666"}),children:"\ud604\uc7ac \ub300\uae30 \uc911\uc778 \ud658\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})})]})})]}),(0,ur.jsx)("div",{style:g.rightPanel,children:(0,ur.jsx)(Bs,{selectedPatient:p,assignToRoom:e=>{p?i[e]?alert("\uc9c4\ub8cc\uc2e4 ".concat(e,"\ubc88\uc5d0 \uc774\ubbf8 \ud658\uc790\uac00 \ubc30\uc815\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.")):t(p,e):alert("\ud658\uc790\ub97c \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},unassignFromRoom:e=>{const t=i[e];t&&r(t,e)},assignedPatients:i,markAsComplete:e=>{n(e)}})})]})},Us=(0,o.createContext)(),Hs=e=>{let{children:t}=e;const[n,r]=(0,o.useState)("light");return(0,ur.jsx)(Us.Provider,{value:{theme:n,setTheme:r},children:t})},Ws=()=>{const{theme:e,setTheme:t}=(0,o.useContext)(Us);return(0,ur.jsxs)("section",{style:{marginBottom:"2rem",paddingLeft:"50px"},children:[(0,ur.jsx)("h3",{children:"\u25c9 \ud14c\ub9c8 \uc124\uc815"}),(0,ur.jsxs)("label",{style:{display:"block",marginBottom:"0.5rem"},children:[(0,ur.jsx)("input",{type:"radio",name:"theme",value:"light",checked:"light"===e,onChange:e=>{t(e.target.value)}})," ","\ub77c\uc774\ud2b8 \ubaa8\ub4dc"]})]})},Vs={padding:"10px 15px",borderRadius:"5px",border:"1px solid #0066cc",backgroundColor:"#e3f2fd",color:"#0066cc",cursor:"pointer",fontWeight:"500",transition:"all 0.2s"},qs=()=>{const e=re();return(0,ur.jsxs)("section",{children:[(0,ur.jsx)("h3",{style:{marginBottom:"1rem"},children:"\u25c9 \uc694\uccad \ub85c\uadf8 \ud655\uc778"}),(0,ur.jsx)("p",{style:{fontSize:"14px",color:"#666",marginBottom:"1rem"},children:"\uc804\uccb4 \uc624\ub354 \ub0b4\uc5ed\uc744 \ud655\uc778\ud558\ub824\uba74 \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc138\uc694."}),(0,ur.jsx)("button",{onClick:()=>{e("/logs")},style:Vs,children:"\uc804\uccb4 \uc624\ub354 \ub85c\uadf8 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9"})]})},Ys={marginTop:"0.5rem",padding:"8px 16px",borderRadius:"5px",backgroundColor:"#007bff",color:"#fff",border:"none",cursor:"pointer"},$s={marginTop:"1.5rem",padding:"6px 12px",borderRadius:"5px",backgroundColor:"#ccc",border:"none",cursor:"pointer"},Ks={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},Qs={backgroundColor:"#fff",padding:"2rem",borderRadius:"10px",width:"90%",maxWidth:"500px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},Gs=()=>{const[e,t]=(0,o.useState)(!1);return(0,ur.jsxs)("section",{style:{paddingLeft:"50px"},children:[(0,ur.jsx)("h3",{children:"\u25c9 \ub3c4\uc6c0\ub9d0 / \uc0ac\uc6a9 \uac00\uc774\ub4dc"}),(0,ur.jsx)("p",{children:"\uc2dc\uc2a4\ud15c \uc0ac\uc6a9\ubc95\uc774 \uad81\uae08\ud558\uc2e0\uac00\uc694? \ubc84\ud2bc\uc744 \ub20c\ub7ec \ud655\uc778\ud574\ubcf4\uc138\uc694."}),(0,ur.jsx)("button",{onClick:()=>t(!0),style:Ys,children:"\uc0ac\uc6a9 \uac00\uc774\ub4dc \ubcf4\uae30"}),e&&(0,ur.jsx)("div",{style:Ks,children:(0,ur.jsxs)("div",{style:Qs,children:[(0,ur.jsx)("h2",{children:"\ud83d\udcd8 EMR \uc0ac\uc6a9 \uac00\uc774\ub4dc"}),(0,ur.jsx)("p",{children:"\uc774 \uc2dc\uc2a4\ud15c\uc740 \ub2e4\uc74c\uacfc \uac19\uc740 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."}),(0,ur.jsxs)("ul",{style:{textAlign:"left",marginTop:"1rem"},children:[(0,ur.jsxs)("li",{children:[(0,ur.jsx)("strong",{children:"\ud83c\udfe0 \uc758\uc0ac \ub300\uc2dc\ubcf4\ub4dc: "})," \uc54c\ub9bc\uc0ac\ud56d \ubc0f \uc694\uc57d \uc815\ubcf4 \ud655\uc778"]}),(0,ur.jsxs)("li",{children:[(0,ur.jsx)("strong",{children:"\ud83e\uddd1\u200d\u2695\ufe0f \uc9c4\ub8cc: "})," \ud658\uc790 \ubc30\uc815, \uc9c4\ub8cc \uae30\ub85d, AI \ubd84\uc11d \uacb0\uacfc \ubcf4\uae30"]}),(0,ur.jsxs)("li",{children:[(0,ur.jsx)("strong",{children:"\ud83d\udd1c \uc9c4\ub8cc \uc9c4\ud589\ub3c4: "})," \ud658\uc790 \ubc30\uc815, \uc9c4\ub8cc \uae30\ub85d, AI \ubd84\uc11d \uacb0\uacfc \ubcf4\uae30"]}),(0,ur.jsxs)("li",{children:[(0,ur.jsx)("strong",{children:"\ud83d\udcbb \ub300\uae30 \ud654\uba74: "})," \ucd1d \ub300\uae30 \uc778\uc6d0, \uc9c4\ub8cc\uc2e4 \ubc30\uc815 \uc0c1\ud669 \ud655\uc778"]}),(0,ur.jsxs)("li",{children:[(0,ur.jsx)("strong",{children:"\ud83d\udcc4 \ub300\uae30 \ubaa9\ub85d: "})," \ud658\uc790 \ub300\uae30 \ubaa9\ub85d, \uc9c4\ub8cc\uc2e4 \ubc30\uc815 \uc0c1\ud669 \ud655\uc778"]}),(0,ur.jsxs)("li",{children:[(0,ur.jsx)("strong",{children:"\u2611\ufe0f \uc644\ub8cc \ud658\uc790 \ubaa9\ub85d: "})," \uc9c4\ub8cc\uac00 \uc644\ub8cc\ub41c \ud658\uc790\ub4e4 \ub9ac\uc2a4\ud2b8"]}),(0,ur.jsxs)("li",{children:[(0,ur.jsx)("strong",{children:"\u2699\ufe0f \uc124\uc815: "})," \ud14c\ub9c8, \uc694\uccad \ub85c\uadf8, \ub3c4\uc6c0\ub9d0/\uc0ac\uc6a9 \uac00\uc774\ub4dc \ub4f1 \uac1c\uc778 \uc124\uc815"]})]}),(0,ur.jsx)("button",{onClick:()=>t(!1),style:$s,children:"\ub2eb\uae30"})]})})]})},Xs=e=>{let{onClose:t,onMark:n}=e;const[r,a]=(0,o.useState)([]),[i,l]=(0,o.useState)({});(0,o.useEffect)((()=>{(async()=>{const e="https://meddocai.p-e.kr/api/".replace(/\/$/,"");try{const t=await cr.get("".concat(e,"/integration/alerts/urgent/"));a(t.data)}catch(t){console.error("\uc54c\ub9bc \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328",t)}})()}),[]);return(0,ur.jsx)("div",{className:"overlay",onClick:t,children:(0,ur.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,ur.jsxs)("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ur.jsx)("h2",{children:"\ud83d\udd14 \uc54c\ub9bc"}),(0,ur.jsx)("button",{onClick:t,"aria-label":"\ub2eb\uae30",children:"\u2715"})]}),(0,ur.jsx)("div",{style:{maxHeight:"60vh",overflowY:"auto",marginTop:8},children:0===r.length?(0,ur.jsx)("p",{children:"\uc0c8\ub85c\uc6b4 \uc54c\ub9bc\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):(0,ur.jsx)("ul",{style:{listStyle:"none",padding:0},children:r.map((e=>(0,ur.jsxs)("li",{style:{marginBottom:12,borderBottom:"1px solid #eee",paddingBottom:8},children:[(0,ur.jsxs)("div",{children:[(0,ur.jsxs)("strong",{children:["[",e.type,"]"]})," ",e.message]}),(0,ur.jsx)("div",{style:{fontSize:"0.8rem",color:"#666"},children:new Date(e.created_at).toLocaleString()}),(0,ur.jsx)("button",{onClick:()=>(async e=>{l((t=>Ft(Ft({},t),{},{[e]:!0})));const t="https://meddocai.p-e.kr/api/".replace(/\/$/,"");try{await cr.patch("".concat(t,"/integration/alerts/").concat(e,"/mark-read/"),{is_read:!0}),a((t=>t.filter((t=>t.id!==e)))),n()}catch(r){console.error("\uc77d\uc74c \ucc98\ub9ac \uc2e4\ud328",r),alert("\uc77d\uc74c \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{l((t=>Ft(Ft({},t),{},{[e]:!1})))}})(e.id),disabled:i[e.id],style:{marginTop:4,padding:"4px 8px",fontSize:"0.8rem",cursor:i[e.id]?"not-allowed":"pointer"},children:i[e.id]?"\ucc98\ub9ac \uc911...":"\uc77d\uc74c \ud45c\uc2dc"})]},e.id)))})})]})})},Js=()=>(0,ur.jsxs)("div",{style:{padding:"2rem"},children:[(0,ur.jsx)("h2",{children:"\u2699\ufe0f \uc124\uc815 \ud398\uc774\uc9c0"}),(0,ur.jsx)("div",{style:{backgroundColor:"#fff",padding:"2rem",borderRadius:"10px",boxShadow:"0 0 10px rgba(0,0,0,0.05)",marginTop:"1rem"},children:(0,ur.jsxs)("div",{style:{display:"flex",gap:"2rem",flexWrap:"wrap"},children:[(0,ur.jsxs)("div",{style:{flex:1,minWidth:"300px",backgroundColor:"#f5f7fa",padding:"1rem",borderRadius:"8px"},children:[(0,ur.jsx)("h3",{style:{marginBottom:"1rem"},children:"\ud83c\udfa8 \ud14c\ub9c8 \uc124\uc815"}),(0,ur.jsx)(Ws,{})]}),(0,ur.jsxs)("div",{style:{flex:1,minWidth:"300px",backgroundColor:"#eef3f8",padding:"1rem",borderRadius:"8px"},children:[(0,ur.jsx)("h3",{style:{marginBottom:"1rem"},children:"\ud83d\udcc4 \uae30\ud0c0 \uc124\uc815"}),(0,ur.jsx)(qs,{}),(0,ur.jsx)("div",{style:{marginTop:"1.5rem"},children:(0,ur.jsx)(Gs,{})})]})]})})]}),Zs=e=>{let{patient:t,onOpenDetailModal:n}=e;if(!t||!t.person)return(0,ur.jsx)("p",{className:"empty-text",children:"\ud658\uc790 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."});const{display:r,person:a,uuid:o,mapping_id:i}=t;return(0,ur.jsxs)("div",{style:{padding:"0.5rem 0"},children:[(0,ur.jsxs)("h3",{style:{marginTop:"0",marginBottom:"1rem"},children:["\ud658\uc790 \uc815\ubcf4",(0,ur.jsx)("button",{onClick:n,style:{marginLeft:"1rem",padding:"0.4rem 0.8rem",fontSize:"0.8rem",borderRadius:"4px",border:"1px solid #1890ff",background:"white",color:"#1890ff",cursor:"pointer"},children:"\uc0c1\uc138 \uc815\ubcf4 \ubcf4\uae30"})]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\uc774\ub984:"})," ",r]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\uc131\ubcc4:"})," ","M"===a.gender?"\ub0a8":"\uc5ec"]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\ub098\uc774:"})," ",null!==a.age&&void 0!==a.age?"".concat(a.age,"\uc138"):"-"]}),(0,ur.jsxs)("p",{children:[(0,ur.jsx)("strong",{children:"\uc0dd\ub144\uc6d4\uc77c:"})," ",a.birthdate]})]})},ec=e=>{var t,n;let{patient:r}=e;const[a,i]=(0,o.useState)([]),[l,s]=(0,o.useState)(!1),[c,d]=(0,o.useState)(null),[u,p]=(0,o.useState)(!1),[f,h]=(0,o.useState)(null);(0,o.useEffect)((()=>{null!==r&&void 0!==r&&r.uuid&&m()}),[r]);const m=async()=>{try{var e;s(!0),h(null);const t=await cr.get("".concat("https://meddocai.p-e.kr/api/","/openmrs-clinical/patient/").concat(r.uuid,"/visits-history/"));i(t.data.visits||[]),console.log("\u2705 \ub0b4\uc6d0 \uc774\ub825 \ub85c\ub4dc \uc644\ub8cc:",(null===(e=t.data.visits)||void 0===e?void 0:e.length)||0)}catch(f){console.error("\u274c \ub0b4\uc6d0 \uae30\ub85d \uc870\ud68c \uc2e4\ud328:",f),h("\ub0b4\uc6d0 \uae30\ub85d\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");try{console.log("\ud83d\udd04 Fallback API \uc2dc\ub3c4...");const e=await fetch("/api/openmrs-encounters?uuid=".concat(r.uuid)),t=(await e.json()).map((e=>({visit_uuid:e.uuid,start_datetime:e.encounterDatetime,encounters:[{encounter_uuid:e.uuid,encounter_datetime:e.encounterDatetime,encounter_type:"\uc77c\ubc18 \uc9c4\ub8cc",provider:e.provider||"\ub2f4\ub2f9\uc758 \uc815\ubcf4 \uc5c6\uc74c",observations:[]}]})));i(t),h(null),console.log("\u2705 Fallback \ub370\uc774\ud130 \ub85c\ub4dc \uc644\ub8cc")}catch(t){console.error("\u274c Fallback \uc870\ud68c\ub3c4 \uc2e4\ud328:",t),i([])}}finally{s(!1)}},g=e=>{if(!e)return"-";try{return new Date(e).toLocaleString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return e}},y=e=>e.filter((e=>e.concept&&e.concept.display&&(e.concept.display.toLowerCase().includes("diagnosis")||e.concept.display.includes("\uc9c4\ub2e8")||e.concept.display.toLowerCase().includes("condition")))),x=e=>e.filter((e=>e.concept&&e.concept.display&&(e.concept.display.toLowerCase().includes("drug")||e.concept.display.includes("\uc57d\ubb3c")||e.concept.display.toLowerCase().includes("medication")||e.concept.display.includes("\ucc98\ubc29"))));return r?l?(0,ur.jsxs)("div",{style:{padding:"1rem",textAlign:"center"},children:[(0,ur.jsx)("h3",{children:"\ud83c\udfe5 \ub0b4\uc6d0 \uc774\ub825"}),(0,ur.jsxs)("div",{style:{margin:"2rem 0"},children:[(0,ur.jsx)("div",{style:{fontSize:"14px",color:"#6c757d"},children:"\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."}),(0,ur.jsx)("div",{style:{width:"30px",height:"30px",border:"3px solid #f3f3f3",borderTop:"3px solid #007bff",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"1rem auto"}})]})]}):(0,ur.jsxs)("div",{style:{padding:"1rem",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,ur.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e9ecef"},children:[(0,ur.jsx)("h3",{style:{margin:0},children:"\ud83c\udfe5 \ub0b4\uc6d0 \uc774\ub825"}),(0,ur.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:r.display||r.name})]}),f&&(0,ur.jsxs)("div",{style:{padding:"0.75rem",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"4px",color:"#721c24",fontSize:"14px",marginBottom:"1rem"},children:["\u26a0\ufe0f ",f,(0,ur.jsx)("button",{onClick:m,style:{marginLeft:"10px",padding:"2px 8px",fontSize:"12px",backgroundColor:"#721c24",color:"white",border:"none",borderRadius:"3px",cursor:"pointer"},children:"\uc7ac\uc2dc\ub3c4"})]}),(0,ur.jsx)("div",{style:{flex:1,overflowY:"auto"},children:0===a.length?(0,ur.jsxs)("div",{style:{textAlign:"center",color:"#6c757d",padding:"3rem 1rem",fontSize:"14px"},children:[(0,ur.jsx)("div",{style:{fontSize:"48px",marginBottom:"1rem",opacity:.3},children:"\ud83d\udccb"}),(0,ur.jsx)("div",{children:"\ub4f1\ub85d\ub41c \ub0b4\uc6d0 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,ur.jsx)("div",{style:{fontSize:"12px",marginTop:"0.5rem"},children:"\uc9c4\ub2e8/\ucc98\ubc29 \uc800\uc7a5 \ud6c4 \uc774\uacf3\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}):a.map(((e,t)=>{var n,r;return(0,ur.jsx)("div",{style:{marginBottom:"1rem"},children:(0,ur.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"8px",padding:"1rem",backgroundColor:"#f8f9fa",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>(e=>{d(e),p(!0)})(e),onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#e9ecef",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f8f9fa",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,ur.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[(0,ur.jsxs)("h4",{style:{margin:0,color:"#495057",fontSize:"16px",fontWeight:"bold"},children:["\ud83d\udcc5 ",g(e.start_datetime)]}),(0,ur.jsx)("span",{style:{fontSize:"12px",color:"#007bff",fontWeight:"bold"},children:"\uc0c1\uc138\ubcf4\uae30 \u2192"})]}),(0,ur.jsxs)("div",{style:{fontSize:"13px",color:"#6c757d"},children:["\uc9c4\ub8cc \ud69f\uc218: ",(null===(n=e.encounters)||void 0===n?void 0:n.length)||0,"\uac74",e.stop_datetime&&(0,ur.jsxs)("span",{style:{marginLeft:"10px"},children:["\uc885\ub8cc: ",g(e.stop_datetime)]})]}),null===(r=e.encounters)||void 0===r?void 0:r.map(((e,t)=>{const n=y(e.observations||[]),r=x(e.observations||[]);return(0,ur.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[(0,ur.jsxs)("div",{style:{fontSize:"13px",color:"#6c757d",marginBottom:"0.25rem"},children:["\ud83d\udc68\u200d\u2695\ufe0f ",e.provider||"\ub2f4\ub2f9\uc758 \uc815\ubcf4 \uc5c6\uc74c"," | ",e.encounter_type||"\uc77c\ubc18 \uc9c4\ub8cc"]}),n.length>0&&(0,ur.jsxs)("div",{style:{fontSize:"12px",color:"#28a745",marginBottom:"0.25rem"},children:["\ud83c\udfe5 \uc9c4\ub2e8: ",n.slice(0,2).map((e=>e.value||e.concept.display)).join(", "),n.length>2&&" \uc678 ".concat(n.length-2,"\uac74")]}),r.length>0&&(0,ur.jsxs)("div",{style:{fontSize:"12px",color:"#dc3545",marginBottom:"0.25rem"},children:["\ud83d\udc8a \ucc98\ubc29: ",r.slice(0,2).map((e=>e.value||e.concept.display)).join(", "),r.length>2&&" \uc678 ".concat(r.length-2,"\uac74")]}),e.observations&&e.observations.length>0&&(0,ur.jsxs)("div",{style:{fontSize:"11px",color:"#6c757d"},children:["\ud83d\udcca \ucd1d ",e.observations.length,"\uac1c \ud56d\ubaa9 \uae30\ub85d\ub428"]})]},e.encounter_uuid||t)})),(0,ur.jsx)("div",{style:{fontSize:"11px",color:"#6c757d",textAlign:"right",marginTop:"0.5rem",fontStyle:"italic"},children:"\ud074\ub9ad\ud558\uc5ec \uc0c1\uc138 \ub0b4\uc6a9 \ubcf4\uae30"})]})},e.visit_uuid||t)}))}),u&&c&&(0,ur.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999},children:(0,ur.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"1.5rem",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",minWidth:"500px"},children:[(0,ur.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e9ecef"},children:[(0,ur.jsx)("h3",{style:{margin:0,color:"#495057"},children:"\ud83d\udccb \ub0b4\uc6d0 \uc0c1\uc138 \uae30\ub85d"}),(0,ur.jsx)("button",{onClick:()=>p(!1),style:{backgroundColor:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#6c757d"},children:"\u2715"})]}),(0,ur.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,ur.jsx)("h4",{style:{margin:"0 0 0.5rem 0",color:"#495057"},children:"\ud83d\udcc5 \ubc29\ubb38 \uc815\ubcf4"}),(0,ur.jsxs)("div",{style:{fontSize:"14px",color:"#6c757d"},children:[(0,ur.jsx)("strong",{children:"\uc2dc\uc791:"})," ",g(c.start_datetime),(0,ur.jsx)("br",{}),c.stop_datetime&&(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsx)("strong",{children:"\uc885\ub8cc:"})," ",g(c.stop_datetime),(0,ur.jsx)("br",{})]}),(0,ur.jsx)("strong",{children:"\ucd1d \uc9c4\ub8cc:"})," ",(null===(t=c.encounters)||void 0===t?void 0:t.length)||0,"\uac74"]})]}),null===(n=c.encounters)||void 0===n?void 0:n.map(((e,t)=>(0,ur.jsxs)("div",{style:{border:"1px solid #dee2e6",borderRadius:"8px",padding:"1rem",marginBottom:"1rem",backgroundColor:"#f8f9fa"},children:[(0,ur.jsxs)("h4",{style:{margin:"0 0 0.75rem 0",color:"#495057",fontSize:"16px"},children:["\ud83c\udfe5 ",e.encounter_type||"\uc9c4\ub8cc"]}),(0,ur.jsxs)("div",{style:{marginBottom:"0.75rem",fontSize:"14px"},children:[(0,ur.jsx)("strong",{children:"\ud83d\udc68\u200d\u2695\ufe0f \ub2f4\ub2f9\uc758:"})," ",e.provider||"\uc815\ubcf4 \uc5c6\uc74c",(0,ur.jsx)("br",{}),(0,ur.jsx)("strong",{children:"\ud83d\udd52 \uc9c4\ub8cc\uc2dc\uac04:"})," ",g(e.encounter_datetime)]}),e.observations&&e.observations.length>0&&(0,ur.jsxs)("div",{children:[(0,ur.jsxs)("h5",{style:{margin:"0.75rem 0 0.5rem 0",color:"#495057",fontSize:"14px"},children:["\ud83d\udcca \uc9c4\ub8cc \uae30\ub85d (",e.observations.length,"\uac74)"]}),(()=>{const t=y(e.observations);return t.length>0&&(0,ur.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,ur.jsx)("h6",{style:{margin:"0 0 0.5rem 0",color:"#28a745",fontSize:"13px"},children:"\ud83c\udfe5 \uc9c4\ub2e8 \uc815\ubcf4"}),t.map(((e,t)=>(0,ur.jsxs)("div",{style:{padding:"0.5rem",backgroundColor:"#d4edda",borderRadius:"4px",marginBottom:"0.25rem",fontSize:"12px"},children:[(0,ur.jsx)("div",{style:{fontWeight:"bold"},children:e.concept.display}),e.value&&(0,ur.jsxs)("div",{style:{color:"#155724"},children:["\uac12: ",e.value]}),(0,ur.jsx)("div",{style:{color:"#6c757d",fontSize:"11px"},children:g(e.obsDatetime)})]},t)))]})})(),(()=>{const t=x(e.observations);return t.length>0&&(0,ur.jsxs)("div",{style:{marginBottom:"0.75rem"},children:[(0,ur.jsx)("h6",{style:{margin:"0 0 0.5rem 0",color:"#dc3545",fontSize:"13px"},children:"\ud83d\udc8a \ucc98\ubc29 \uc815\ubcf4"}),t.map(((e,t)=>(0,ur.jsxs)("div",{style:{padding:"0.5rem",backgroundColor:"#f8d7da",borderRadius:"4px",marginBottom:"0.25rem",fontSize:"12px"},children:[(0,ur.jsx)("div",{style:{fontWeight:"bold"},children:e.concept.display}),e.value&&(0,ur.jsxs)("div",{style:{color:"#721c24"},children:["\uac12: ",e.value]}),(0,ur.jsx)("div",{style:{color:"#6c757d",fontSize:"11px"},children:g(e.obsDatetime)})]},t)))]})})(),(()=>{const t=e.observations.filter((e=>!y([e]).length&&!x([e]).length));return t.length>0&&(0,ur.jsxs)("div",{children:[(0,ur.jsx)("h6",{style:{margin:"0 0 0.5rem 0",color:"#6c757d",fontSize:"13px"},children:"\ud83d\udcdd \uae30\ud0c0 \uae30\ub85d"}),t.map(((e,t)=>(0,ur.jsxs)("div",{style:{padding:"0.5rem",backgroundColor:"#e2e3e5",borderRadius:"4px",marginBottom:"0.25rem",fontSize:"12px"},children:[(0,ur.jsx)("div",{style:{fontWeight:"bold"},children:e.concept.display}),e.value&&(0,ur.jsxs)("div",{style:{color:"#495057"},children:["\uac12: ",e.value]}),(0,ur.jsx)("div",{style:{color:"#6c757d",fontSize:"11px"},children:g(e.obsDatetime)})]},t)))]})})()]}),(!e.observations||0===e.observations.length)&&(0,ur.jsx)("div",{style:{textAlign:"center",color:"#6c757d",fontSize:"13px",padding:"1rem"},children:"\uc774 \uc9c4\ub8cc\uc5d0 \ub300\ud55c \uc0c1\uc138 \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]},e.encounter_uuid||t))),(0,ur.jsx)("div",{style:{textAlign:"center",marginTop:"1rem"},children:(0,ur.jsx)("button",{onClick:()=>p(!1),style:{padding:"0.75rem 1.5rem",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"\ub2eb\uae30"})})]})}),(0,ur.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n      "})]}):(0,ur.jsxs)("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:[(0,ur.jsx)("h3",{children:"\ud83c\udfe5 \ub0b4\uc6d0 \uc774\ub825"}),(0,ur.jsx)("p",{children:"\ud658\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."})]})},tc={CBC:["WBC","RBC","Hemoglobin","Hematocrit","MCV","MCH","MCHC","Platelets"],LFT:["ALT","AST","ALP","GGT","Total Bilirubin","Direct Bilirubin","Albumin","Total Protein"],RFT:["BUN","Creatinine","eGFR","Uric Acid","Sodium","Potassium","Chloride"],"Lipid Panel":["Total Cholesterol","HDL Cholesterol","LDL Cholesterol","Triglycerides"],"Electrolyte Panel":["Sodium","Potassium","Chloride","Bicarbonate"],"Thyroid Panel":["TSH","Free T4","T3"],"Coagulation Panel":["PT","INR","aPTT","Fibrinogen"],Glucose:["Fasting Blood Glucose","HbA1c"]},nc=e=>{var t,n,r,a;let{patient:i}=e;const[l,s]=(0,o.useState)(""),[c,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(null),f=e=>{var t,n,r,a,o,i,l,s,c;return e?{uuid:e.uuid,identifier:(null===(t=e.identifiers)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.identifier)||e.identifier||"",name:e.display||e.name||e.patient_name||"",givenName:(null===(r=e.person)||void 0===r||null===(a=r.preferredName)||void 0===a?void 0:a.givenName)||"",familyName:(null===(o=e.person)||void 0===o||null===(i=o.preferredName)||void 0===i?void 0:i.familyName)||"",birthdate:(null===(l=e.person)||void 0===l?void 0:l.birthdate)||e.birthdate||"",gender:(null===(s=e.person)||void 0===s?void 0:s.gender)||e.gender||"",age:h((null===(c=e.person)||void 0===c?void 0:c.birthdate)||e.birthdate),originalData:e}:null},h=e=>{if(!e)return null;try{const t=new Date(e),n=new Date;if(isNaN(t.getTime()))return null;let r=n.getFullYear()-t.getFullYear();const a=n.getMonth()-t.getMonth();return(a<0||0===a&&n.getDate()<t.getDate())&&r--,r}catch(u){return console.warn("\ub098\uc774 \uacc4\uc0b0 \uc2e4\ud328:",e,u),null}},m=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{const a={timestamp:(new Date).toISOString(),action:e,data:JSON.stringify(t),result:n?JSON.stringify(n):null,error:r?r.toString():null,system:"CDSS-Integration"};console.log("Integration Log:",a)}catch(a){console.error("\ub85c\uadf8 \uc800\uc7a5 \uc2e4\ud328:",a)}},g=()=>f(i);return(0,ur.jsx)("div",{className:"lis-request-panel",style:{padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:i?(0,ur.jsxs)(ur.Fragment,{children:[(0,ur.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#e9ecef",borderRadius:"6px",fontSize:"14px"},children:[(0,ur.jsxs)("div",{children:[(0,ur.jsx)("strong",{children:"\ud658\uc790:"})," ",(null===(t=g())||void 0===t?void 0:t.name)||"Unknown"]}),(0,ur.jsxs)("div",{children:[(0,ur.jsx)("strong",{children:"ID:"})," ",(null===(n=g())||void 0===n?void 0:n.identifier)||"N/A"]}),(0,ur.jsxs)("div",{children:[(0,ur.jsx)("strong",{children:"\uc131\ubcc4:"})," ",(e=>{if(!e)return"\ubbf8\uc0c1";return{M:"\ub0a8\uc131",F:"\uc5ec\uc131",O:"\uae30\ud0c0",U:"\ubbf8\uc0c1",MALE:"\ub0a8\uc131",FEMALE:"\uc5ec\uc131",OTHER:"\uae30\ud0c0",UNKNOWN:"\ubbf8\uc0c1"}[e.toUpperCase()]||"\ubbf8\uc0c1"})(null===(r=g())||void 0===r?void 0:r.gender)]}),(0,ur.jsxs)("div",{children:[(0,ur.jsx)("strong",{children:"\ub098\uc774:"})," ",null!==(a=g())&&void 0!==a&&a.age?"".concat(g().age,"\uc138"):"\ubbf8\uc0c1"]})]}),(0,ur.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,ur.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"bold",fontSize:"14px",color:"#495057"},children:"\ud83d\udd2c \uac80\uc0ac \ud328\ub110 \uc120\ud0dd"}),(0,ur.jsxs)("select",{value:l,onChange:e=>s(e.target.value),style:{width:"100%",padding:"8px 12px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"14px",backgroundColor:"#ffffff"},children:[(0,ur.jsx)("option",{value:"",children:"\uac80\uc0ac \ud328\ub110\uc744 \uc120\ud0dd\ud558\uc138\uc694"}),Object.keys(tc).map((e=>(0,ur.jsxs)("option",{value:e,children:[e," (",tc[e].length,"\uac1c \ud56d\ubaa9)"]},e)))]})]}),l&&(0,ur.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#d1ecf1",borderRadius:"6px",fontSize:"13px"},children:[(0,ur.jsxs)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:["\ud83d\udccb ",l," \uac80\uc0ac \ud56d\ubaa9:"]}),(0,ur.jsx)("div",{style:{color:"#0c5460"},children:tc[l].join(", ")})]}),(0,ur.jsx)("button",{onClick:async()=>{if(!l||!i)return;const e=f(i),t=(e=>{const t=[];return e.name||e.givenName||t.push("\ud658\uc790 \uc774\ub984\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),e.identifier||t.push("\ud658\uc790 \uc2dd\ubcc4\ubc88\ud638\uac00 \ud544\uc694\ud569\ub2c8\ub2e4."),{isValid:0===t.length,errors:t}})(e);if(!t.isValid)return void p("\ud658\uc790 \uc815\ubcf4 \uc624\ub958: ".concat(t.errors.join(", ")));d(!0),p(null);let n=null;try{var r;n={patient_id:e.identifier,patient_name:e.name,test_type:l,test_list:tc[l].join(", "),doctor_id:"system_user",doctor_name:"System User",order_date:(new Date).toISOString().split("T")[0],order_time:(new Date).toTimeString().split(" ")[0],status:"pending",notes:"".concat(l," \ud328\ub110 \uac80\uc0ac \uc694\uccad"),requesting_system:"CDSS-EMR"},console.log("\ud83d\ude80 LIS \uac80\uc0ac \uc8fc\ubb38 \uc2dc\uc791:",n),await m("LIS_ORDER_START",{patient:e.uuid,panel:l});const t="".concat("https://meddocai.p-e.kr/api/","orders/");console.log("\ud83d\udce1 \ucd5c\uc885 API URL:",t);const a=await cr.post(t,n,{headers:{"Content-Type":"application/json"}});console.log("\u2705 LIS \uac80\uc0ac \uc8fc\ubb38 \uc131\uacf5:",a.data),await m("LIS_ORDER_SUCCESS",n,a.data),alert("\uac80\uc0ac \uc8fc\ubb38\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n\uc8fc\ubb38 ID: ".concat(a.data.id||(null===(r=a.data.data)||void 0===r?void 0:r.id)||"N/A")),s("")}catch(g){var a,o,c,u,h;console.error("\u274c LIS \uac80\uc0ac \uc8fc\ubb38 \uc2e4\ud328:",g),console.error("\ud83d\udcdb \uc5d0\ub7ec \uc751\ub2f5:",null===(a=g.response)||void 0===a?void 0:a.data),console.error("\ud83d\udcdb \uc11c\ubc84 \uba54\uc2dc\uc9c0:",null===(o=g.response)||void 0===o||null===(c=o.data)||void 0===c?void 0:c.message),console.error("\ud83d\udcdb \uc11c\ubc84 traceback:",null===(u=g.response)||void 0===u||null===(h=u.data)||void 0===h?void 0:h.trace),n&&await m("LIS_ORDER_ERROR",n,null,g);const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(console.error("".concat(t," API \uc5d0\ub7ec:"),e),!e.response)return e.request?"\uc11c\ubc84\uc5d0 \uc5f0\uacb0\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.":"\uc694\uccad \uc624\ub958: ".concat(e.message);{var n,r,a,o,i;const t=(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)||"No Response",l=(null===(r=e.response.data)||void 0===r?void 0:r.message)||(null===(a=e.response.data)||void 0===a?void 0:a.detail)||e.message;switch(null===e||void 0===e||null===(o=e.response)||void 0===o||null===(i=o.data)||void 0===i||i.trace,t){case 400:return"\uc798\ubabb\ub41c \uc694\uccad: ".concat(l);case 401:return"\uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694.";case 403:return"\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.";case 404:return"\uc694\uccad\ud55c \ub9ac\uc18c\uc2a4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";case 500:return"\uc11c\ubc84 \ub0b4\ubd80 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.";default:return"\uc11c\ubc84 \uc624\ub958 (".concat(t,"): ").concat(l)}}}(g,"LIS \uac80\uc0ac \uc8fc\ubb38");p(e)}finally{d(!1)}},disabled:c||!l,style:{width:"100%",padding:"12px",backgroundColor:c?"#6c757d":l?"#28a745":"#ced4da",color:"#ffffff",border:"none",borderRadius:"6px",fontSize:"16px",fontWeight:"bold",cursor:c||!l?"not-allowed":"pointer",transition:"background-color 0.2s"},children:c?"\uac80\uc0ac \uc8fc\ubb38 \uc911...":"\uac80\uc0ac \uc8fc\ubb38 \ub4f1\ub85d"}),u&&(0,ur.jsx)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"6px",fontSize:"14px"},children:u}),!u&&!c&&(0,ur.jsx)("div",{style:{marginTop:"16px",padding:"8px",fontSize:"12px",color:"#6c757d",textAlign:"center"},children:"\ud83d\udca1 \uac80\uc0ac \uc8fc\ubb38 \ud6c4 LIS \uc2dc\uc2a4\ud15c\uc5d0\uc11c \uc0d8\ud50c \uc218\uc9d1 \ubc0f \ubd84\uc11d\uc774 \uc9c4\ud589\ub429\ub2c8\ub2e4."})]}):(0,ur.jsx)("div",{style:{padding:"24px",textAlign:"center",color:"#6c757d",fontSize:"14px"},children:"\ud658\uc790\ub97c \uc120\ud0dd\ud558\uba74 LIS \uac80\uc0ac\ub97c \uc694\uccad\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})})},rc={container:{width:"100%"},noPatientContainer:{textAlign:"center",padding:"20px",color:"#666"},noPatientIcon:{fontSize:"32px",marginBottom:"10px"},noPatientText:{fontSize:"14px",margin:0},patientInfo:{marginBottom:"15px",padding:"12px",backgroundColor:"#e8f5e8",borderRadius:"8px",border:"2px solid #4caf50"},patientCard:{display:"flex",flexDirection:"column",gap:"6px"},patientHeader:{display:"flex",justifyContent:"space-between",alignItems:"center"},autoFillBadge:{fontSize:"10px",padding:"2px 6px",backgroundColor:"#4caf50",color:"white",borderRadius:"4px",fontWeight:"bold"},patientDetails:{display:"flex",flexDirection:"column",gap:"2px",fontSize:"11px",color:"#2e7d32"},form:{display:"flex",flexDirection:"column",gap:"12px"},formRow:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},formGroup:{display:"flex",flexDirection:"column"},label:{fontSize:"12px",fontWeight:"bold",color:"#495057",marginBottom:"4px"},input:{padding:"6px 8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px"},select:{padding:"6px 8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px",backgroundColor:"#fff"},textarea:{padding:"6px 8px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px",resize:"vertical"},errorMessage:{padding:"8px",backgroundColor:"#f8d7da",color:"#721c24",border:"1px solid #f5c6cb",borderRadius:"4px",fontSize:"12px"},submitButton:{padding:"10px 16px",fontSize:"14px",fontWeight:"bold",color:"#fff",border:"none",borderRadius:"6px",marginTop:"8px",transition:"all 0.2s ease"}},ac=e=>{let{selectedPatient:t,onRequestSuccess:n,onNewRequest:r,onUpdateLog:a}=e;const[i,l]=(0,o.useState)({modality:"",body_part:"",study_description:"",clinical_info:"",priority:"routine",requesting_physician:""}),[s,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(""),[p,f]=(0,o.useState)(null);(0,o.useEffect)((()=>{if(t){const e=h(t);f(e);const n=localStorage.getItem("doctor_name")||localStorage.getItem("username")||"Dr. Current User";l((e=>Ft(Ft({},e),{},{requesting_physician:n}))),console.log("\ud83d\udd25 \uc790\ub3d9 \ucc44\uc6cc\uc9c4 \ud658\uc790 \uc815\ubcf4:",e)}else f(null)}),[t]);const h=e=>{var t,n,r;console.log("\ud83d\udd0d \ud658\uc790 \uc6d0\ubcf8 \ub370\uc774\ud130:",e);const a=e.uuid||e.openmrs_patient_uuid||e.patient_identifier||e.mapping_id||"UNKNOWN_ID",o=e.display||e.name||e.patient_name||"\uc774\ub984 \uc5c6\uc74c";let i="";null!==(t=e.person)&&void 0!==t&&t.birthdate?i=m(e.person.birthdate):e.birthdate?i=m(e.birthdate):e.birth_date&&(i=m(e.birth_date));const l=(null===(n=e.person)||void 0===n?void 0:n.gender)||e.gender||e.sex||"U";let s=(null===(r=e.person)||void 0===r?void 0:r.age)||e.age;return!s&&i&&(s=g(i)),{patient_id:a,patient_name:o,birth_date:i,sex:l,age:s,patient_identifier:e.patient_identifier,assigned_room:e.assigned_room}},m=e=>{if(!e)return"";try{let t;return/^\d{4}-\d{2}-\d{2}$/.test(e)?e:(t=(e.includes("T"),new Date(e)),isNaN(t.getTime())?(console.warn("\ub0a0\uc9dc \ubcc0\ud658 \uc2e4\ud328:",e),""):t.toISOString().split("T")[0])}catch(d){return console.warn("\ub0a0\uc9dc \ubcc0\ud658 \uc624\ub958:",e,d),""}},g=e=>{try{const t=new Date(e),n=new Date;let r=n.getFullYear()-t.getFullYear();const a=n.getMonth()-t.getMonth();return(a<0||0===a&&n.getDate()<t.getDate())&&r--,r}catch(d){return console.warn("\ub098\uc774 \uacc4\uc0b0 \uc624\ub958:",d),null}},y=e=>{const{name:t,value:n}=e.target;l((e=>Ft(Ft({},e),{},{[t]:n}))),u("")};return t?p?(0,ur.jsxs)("div",{style:rc.container,children:[(0,ur.jsx)("div",{style:rc.patientInfo,children:(0,ur.jsxs)("div",{style:rc.patientCard,children:[(0,ur.jsxs)("div",{style:rc.patientHeader,children:[(0,ur.jsxs)("strong",{children:["\ud83d\udc64 ",p.patient_name]}),(0,ur.jsx)("span",{style:rc.autoFillBadge,children:"\uc790\ub3d9 \uc785\ub825\ub428"})]}),(0,ur.jsxs)("div",{style:rc.patientDetails,children:[(0,ur.jsxs)("div",{children:["\ud83c\udd94 ",p.patient_id]}),(0,ur.jsxs)("div",{children:["\ud83d\udc65 ","M"===p.sex?"\ub0a8\uc131":"F"===p.sex?"\uc5ec\uc131":"\ubbf8\uc0c1"," | \ud83c\udf82 ",p.age?"".concat(p.age,"\uc138"):"\ub098\uc774 \ubbf8\uc0c1"]}),(0,ur.jsxs)("div",{children:["\ud83d\udcc5 ",p.birth_date||"\uc0dd\ub144\uc6d4\uc77c \ubbf8\uc0c1"]}),p.assigned_room&&(0,ur.jsxs)("div",{children:["\ud83c\udfe5 \uc9c4\ub8cc\uc2e4 ",p.assigned_room,"\ubc88"]})]})]})}),(0,ur.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!t)return void u("\ud658\uc790\ub97c \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");if(!p)return void u("\ud658\uc790 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");if(!i.modality||!i.body_part)return void u("\uac80\uc0ac \uc885\ub958\uc640 \uac80\uc0ac \ubd80\uc704\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.");if(!i.requesting_physician)return void u("\uc758\uc0ac \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");c(!0),u(""),console.log("\ud83d\ude80 \uc601\uc0c1\uac80\uc0ac \uc694\uccad \uc2dc\uc791:",{autoFilledData:p,formData:i,selectedPatient:t});const o={patient_id:p.patient_id,patient_name:p.patient_name,birth_date:p.birth_date,sex:p.sex,modality:i.modality,body_part:i.body_part,requesting_physician:i.requesting_physician,study_description:i.study_description||"".concat(i.modality," - ").concat(i.body_part),clinical_info:i.clinical_info||"\uc9c4\ub8cc \uc758\ub8b0",priority:i.priority,created_by:"emr_user",request_source:"EMR_SYSTEM",patient_room:p.assigned_room||null},s={timestamp:(new Date).toISOString(),status:"pending",request:o,response:null};console.log("\ud83d\udce4 \ucd5c\uc885 \uc804\uc1a1 \ub370\uc774\ud130:",o);try{r&&r(s);const e=await fetch("http://meddocai.p-e.kr:8000/api/worklist/create-from-emr/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(console.log("\ud83d\udce5 \uc751\ub2f5 \uc0c1\ud0dc:",e.status),!e.ok){const t=await e.text();throw console.error("\u274c \uc751\ub2f5 \uc624\ub958:",t),a&&a(Ft(Ft({},s),{},{status:"error",response:t})),new Error("HTTP ".concat(e.status,": ").concat(t))}const t=await e.json();if(a&&a(Ft(Ft({},s),{},{status:"success",response:t})),console.log("\u2705 \uc131\uacf5 \uc751\ub2f5:",t),!t.success)throw new Error(t.error||"\uc694\uccad \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");l((e=>({modality:"",body_part:"",study_description:"",clinical_info:"",priority:"routine",requesting_physician:e.requesting_physician}))),alert("\u2705 \uc601\uc0c1\uac80\uc0ac \uc694\uccad\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4!");try{const e=new BroadcastChannel("order_channel");e.postMessage("newOrderCreated"),e.close()}catch(f){console.error("BroadcastChannel \uc2e0\ud638 \ubcf4\ub0b4\uae30 \uc2e4\ud328:",f)}n&&n(t)}catch(d){console.error("\u274c \uc601\uc0c1\uac80\uc0ac \uc694\uccad \uc2e4\ud328:",d),u("\uc694\uccad \uc2e4\ud328: ".concat(d.message)),a&&a(Ft(Ft({},s),{},{status:"error",response:d.message}))}finally{c(!1)}},style:rc.form,children:[(0,ur.jsxs)("div",{style:rc.formRow,children:[(0,ur.jsxs)("div",{style:rc.formGroup,children:[(0,ur.jsx)("label",{style:rc.label,children:"\uac80\uc0ac \uc885\ub958 *"}),(0,ur.jsxs)("select",{name:"modality",value:i.modality,onChange:y,required:!0,style:rc.select,children:[(0,ur.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),[{value:"CR",label:"Chest X-ray (\ud749\ubd80 X\uc120)"},{value:"CT",label:"CT Scan (\ucef4\ud4e8\ud130 \ub2e8\uce35\ucd2c\uc601)"},{value:"MR",label:"MRI (\uc790\uae30\uacf5\uba85\uc601\uc0c1)"},{value:"US",label:"Ultrasound (\ucd08\uc74c\ud30c)"},{value:"NM",label:"Nuclear Medicine (\ud575\uc758\ud559)"},{value:"PT",label:"PET Scan (\uc591\uc804\uc790\ubc29\ucd9c\ub2e8\uce35\ucd2c\uc601)"},{value:"MG",label:"Mammography (\uc720\ubc29\ucd2c\uc601\uc220)"},{value:"DX",label:"Digital Radiography (\ub514\uc9c0\ud138 X\uc120)"},{value:"RF",label:"Radiofluoroscopy (\ud22c\uc2dc\ucd2c\uc601)"}].map((e=>(0,ur.jsx)("option",{value:e.value,children:e.label},e.value)))]})]}),(0,ur.jsxs)("div",{style:rc.formGroup,children:[(0,ur.jsx)("label",{style:rc.label,children:"\uac80\uc0ac \ubd80\uc704 *"}),(0,ur.jsxs)("select",{name:"body_part",value:i.body_part,onChange:y,required:!0,style:rc.select,children:[(0,ur.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),["CHEST","ABDOMEN","PELVIS","HEAD","NECK","SPINE","EXTREMITY","HEART","BRAIN","LIVER","KIDNEY","LUNG","BONE","JOINT","MUSCLE","VESSEL"].map((e=>(0,ur.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,ur.jsxs)("div",{style:rc.formRow,children:[(0,ur.jsxs)("div",{style:rc.formGroup,children:[(0,ur.jsx)("label",{style:rc.label,children:"\uc6b0\uc120\uc21c\uc704"}),(0,ur.jsxs)("select",{name:"priority",value:i.priority,onChange:y,style:rc.select,children:[(0,ur.jsx)("option",{value:"routine",children:"\uc77c\ubc18"}),(0,ur.jsx)("option",{value:"urgent",children:"\uae34\uae09"}),(0,ur.jsx)("option",{value:"stat",children:"\uc751\uae09"})]})]}),(0,ur.jsxs)("div",{style:rc.formGroup,children:[(0,ur.jsx)("label",{style:rc.label,children:"\uc758\ub8b0 \uc758\uc0ac *"}),(0,ur.jsx)("input",{type:"text",name:"requesting_physician",value:i.requesting_physician,onChange:y,required:!0,style:rc.input,placeholder:"\uc758\uc0ac\uba85\uc744 \uc785\ub825\ud558\uc138\uc694"})]})]}),(0,ur.jsxs)("div",{style:rc.formGroup,children:[(0,ur.jsx)("label",{style:rc.label,children:"\uac80\uc0ac \uc124\uba85"}),(0,ur.jsx)("input",{type:"text",name:"study_description",value:i.study_description,onChange:y,placeholder:"\uc608: Chest PA/Lateral, Brain MRI with contrast",style:rc.input})]}),(0,ur.jsxs)("div",{style:rc.formGroup,children:[(0,ur.jsx)("label",{style:rc.label,children:"\uc784\uc0c1 \uc815\ubcf4"}),(0,ur.jsx)("textarea",{name:"clinical_info",value:i.clinical_info,onChange:y,placeholder:"\ud658\uc790\uc758 \uc99d\uc0c1, \uc758\uc2ec \uc9c8\ud658, \uac80\uc0ac \uc0ac\uc720 \ub4f1",rows:3,style:rc.textarea})]}),d&&(0,ur.jsxs)("div",{style:rc.errorMessage,children:["\u26a0\ufe0f ",d]}),(0,ur.jsx)("button",{type:"submit",disabled:s,style:Ft(Ft({},rc.submitButton),{},{backgroundColor:s?"#ccc":"#28a745",cursor:s?"not-allowed":"pointer"}),children:s?"\u23f3 \uc694\uccad \uc911...":"\ud83c\udfe5 \uc601\uc0c1\uac80\uc0ac \uc694\uccad"})]})]}):(0,ur.jsxs)("div",{style:rc.noPatientContainer,children:[(0,ur.jsx)("div",{style:rc.noPatientIcon,children:"\u26a0\ufe0f"}),(0,ur.jsx)("p",{style:rc.noPatientText,children:"\ud658\uc790 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911\uc785\ub2c8\ub2e4..."})]}):(0,ur.jsxs)("div",{style:rc.noPatientContainer,children:[(0,ur.jsx)("div",{style:rc.noPatientIcon,children:"\ud83c\udfe5"}),(0,ur.jsx)("p",{style:rc.noPatientText,children:"\ud658\uc790\ub97c \uc120\ud0dd\ud558\uba74 \uc601\uc0c1\uac80\uc0ac\ub97c \uc694\uccad\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})},oc=()=>{const[e,t]=(0,o.useState)({waiting:[],assigned_recent:null}),[n,r]=(0,o.useState)(!1),[a,i]=(0,o.useState)(""),l=(0,o.useRef)(0),s=(0,o.useRef)(null),c=(0,o.useRef)(null),d=async()=>{try{const e=(await cr.get("".concat("https://meddocai.p-e.kr/api/integration/","waiting-board/"))).data,n=s.current,a=e.assigned_recent;a&&(!n||n.name!==a.name||n.room!==a.room)&&l.current<3&&(i(a.name),r(!0),l.current+=1,c.current&&clearTimeout(c.current),c.current=setTimeout((()=>r(!1)),5e3),s.current=a),t(e)}catch(e){console.error("\ub300\uae30 \ubaa9\ub85d \ub85c\ub529 \uc2e4\ud328:",e)}};(0,o.useEffect)((()=>{d();const e=setInterval(d,3e3);return()=>{clearInterval(e),clearTimeout(c.current)}}),[]);const u=e=>!e||e.length<=1?e:e.split(" ").map((e=>e.length<=2?e[0]+"*":e[0]+"*".repeat(e.length-2)+e[e.length-1])).join(" "),p={wrapper:{display:"flex",flexDirection:"row",fontFamily:"Arial, sans-serif",height:"100vh",padding:"1rem",backgroundColor:"#f5f8fa"},waitingArea:{flex:3,paddingRight:"1rem"},examRooms:{flex:1,borderLeft:"1px solid #ccc",paddingLeft:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},title:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"0.8rem"},patientBox:{background:"#eee",padding:"0.6rem",borderRadius:"6px",marginBottom:"0.5rem",fontSize:"1rem",textAlign:"center"},roomBox:{background:"#e2f0ff",padding:"0.7rem",borderRadius:"6px",fontSize:"0.95rem"},roomTitle:{fontWeight:"bold",marginBottom:"0.3rem"},alert:{position:"fixed",top:"30%",left:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#ffecd2",padding:"1.5rem 3rem",borderRadius:"12px",fontSize:"1.5rem",fontWeight:"bold",boxShadow:"0 0 10px rgba(0,0,0,0.3)",zIndex:9999,animation:"fadeInOut 5s ease-in-out"}};return(0,ur.jsxs)("div",{style:p.wrapper,children:[n&&(0,ur.jsxs)("div",{style:p.alert,children:[a,"\ub2d8 \uc9c4\ub8cc\uc2e4\ub85c \uc785\uc7a5\ud574\uc8fc\uc138\uc694"]}),(0,ur.jsxs)("div",{style:p.waitingArea,children:[(0,ur.jsxs)("div",{style:p.title,children:["\ucd1d \ub300\uae30 \uc778\uc6d0: ",e.waiting.length,"\uba85"]}),e.waiting.length>0?e.waiting.map(((e,t)=>(0,ur.jsx)("div",{style:p.patientBox,children:u(e.name)},t))):(0,ur.jsx)("div",{style:{color:"#888",textAlign:"center"},children:"\ub300\uae30 \uc911\uc778 \ud658\uc790 \uc5c6\uc74c"})]}),(0,ur.jsx)("div",{style:p.examRooms,children:[1,2].map((t=>{var n;const r=(null===(n=e.assigned_recent)||void 0===n?void 0:n.room)===t;return(0,ur.jsxs)("div",{style:p.roomBox,children:[(0,ur.jsxs)("div",{style:p.roomTitle,children:["\uc9c4\ub8cc\uc2e4 ",t]}),(0,ur.jsx)("div",{children:r?u(e.assigned_recent.name):"\ud658\uc790 \uc5c6\uc74c"})]},t)}))})]})},ic=e=>{let{onPatientSelect:t,selectedPatient:n,refreshTrigger:r,searchTerm:a}=e;const[i,l]=(0,o.useState)([]),[s,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(null),p="https://meddocai.p-e.kr/api/integration/",f=async()=>{c(!0);try{const e=(await cr.get("".concat(p,"identifier-waiting/"))).data.filter((e=>e.assigned_room)).reduce(((e,t)=>{const n=t.openmrs_patient_uuid||t.uuid;return e.find((e=>(e.openmrs_patient_uuid||e.uuid)===n))||e.push(t),e}),[]);l(e),u(null)}catch(e){u("\ubc30\uc815\ub41c \ud658\uc790 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."),l([])}finally{c(!1)}};(0,o.useEffect)((()=>{f()}),[]),(0,o.useEffect)((()=>{r>0&&f()}),[r]);const h=i.filter((e=>{const t=a.toLowerCase(),n=(e.display||e.name||"").toLowerCase().includes(t),r=(e.patient_identifier||"").toLowerCase().includes(t);return n||r}));return s&&0===i.length?(0,ur.jsx)("div",{style:{padding:16},children:"\ubc30\uc815\ub41c \ud658\uc790 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."}):(0,ur.jsxs)("div",{style:{padding:8,display:"flex",flexDirection:"column",height:"100%"},children:[d&&(0,ur.jsxs)("div",{style:{color:"red",marginBottom:8},children:["\u26a0\ufe0f ",d]}),(0,ur.jsx)("div",{style:{flex:1,overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px,1fr))",gap:8,border:"1px solid #eee",borderRadius:"8px",padding:"8px",minHeight:"200px"},children:0===h.length?(0,ur.jsx)("div",{style:{gridColumn:"1/-1",textAlign:"center",color:"#666",padding:"20px"},children:a?"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ud604\uc7ac \ubc30\uc815\ub41c \ud658\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}):h.map((e=>{const r=e.openmrs_patient_uuid||e.uuid,a=(null===n||void 0===n?void 0:n.uuid)===r;return(0,ur.jsxs)("div",{onClick:()=>(e=>{const n=Ft({uuid:e.openmrs_patient_uuid||e.uuid,mapping_id:e.mapping_id,display:e.display||e.name,assigned_room:e.assigned_room,person:{age:e.age,gender:e.gender,birthdate:e.birthdate},identifiers:[{identifier:e.patient_identifier,identifierType:"OpenMRS ID",preferred:!0}]},e);t(n)})(e),style:{border:a?"2px solid #1976d2":"1px solid #ccc",borderRadius:4,padding:8,cursor:"pointer",background:a?"#e3f2fd":"#fff",position:"relative"},children:[(0,ur.jsxs)("div",{style:{position:"absolute",top:4,right:4,fontSize:10,background:"#1976d2",color:"#fff",borderRadius:4,padding:"2px 4px"},children:[e.assigned_room,"\ubc88"]}),(0,ur.jsxs)("div",{style:{fontWeight:600,marginBottom:4},children:["\ud83d\udc64 ",e.display||e.name]}),(0,ur.jsxs)("div",{style:{fontSize:12,color:"#555"},children:["\ud83c\udd94 ",e.patient_identifier]}),(0,ur.jsxs)("div",{style:{fontSize:12,color:"#555"},children:["\ud83d\udc65 ","M"===e.gender?"\ub0a8\uc131":"\uc5ec\uc131"," | \ud83c\udf82 ",e.age,"\uc138"]}),(0,ur.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{try{await cr.post("".concat(p,"unassign-room/"),{patient_id:e.mapping_id||e.id,room:e.assigned_room}),f()}catch(t){console.error("\ubc30\uc815 \ud574\uc81c \uc2e4\ud328:",t),alert("\ubc30\uc815 \ud574\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}})(e)},style:{marginTop:8,padding:"4px 6px",background:"#f44336",color:"#fff",border:"none",borderRadius:4,fontSize:12,cursor:"pointer"},children:"\u274c \ud574\uc81c"})]},r)}))})]})},lc=()=>{const[e,t]=(0,o.useState)({givenName:"",familyName:"",middleName:"",gender:"",birthdate:"",patient_identifier:"",address:{address1:"",address2:"",cityVillage:"",stateProvince:"",country:"",postalCode:""}}),[n,r]=(0,o.useState)(!1),[a,i]=(0,o.useState)(""),[l,s]=(0,o.useState)(!0),c=()=>{var e;return(null===(e=document.querySelector("[name=csrfmiddlewaretoken]"))||void 0===e?void 0:e.value)||""};return(0,ur.jsxs)("div",{className:"patient-registration-form",children:[(0,ur.jsx)("h2",{children:"\ud658\uc790 \ub4f1\ub85d"}),!1,a&&(0,ur.jsx)("div",{className:"message ".concat(a.type),style:{padding:"10px",margin:"10px 0",borderRadius:"4px",backgroundColor:"success"===a.type?"#d4edda":"#f8d7da",color:"success"===a.type?"#155724":"#721c24",border:"1px solid ".concat("success"===a.type?"#c3e6cb":"#f5c6cb")},children:a.text}),(0,ur.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),r(!0),i("");try{const n=Ft({},e);l&&delete n.patient_identifier;const r=await fetch("/api/medical/patients/create/",{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":c()},body:JSON.stringify(n)}),a=await r.json();a.success?(i({type:"success",text:"\ud658\uc790\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4! ".concat(a.openmrs_auto_generated?"OpenMRS \uc790\ub3d9 \uc0dd\uc131":""," ID: ").concat(a.patient.patient_identifier)}),t({givenName:"",familyName:"",middleName:"",gender:"",birthdate:"",patient_identifier:"",address:{address1:"",address2:"",cityVillage:"",stateProvince:"",country:"",postalCode:""}})):i({type:"error",text:a.error||"\ud658\uc790 \ub4f1\ub85d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."})}catch(a){console.error("\ud658\uc790 \ub4f1\ub85d \uc624\ub958:",a),i({type:"error",text:"\uc11c\ubc84 \uc5f0\uacb0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."})}finally{r(!1)}},children:[(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsxs)("label",{children:[(0,ur.jsx)("input",{type:"radio",checked:l,onChange:()=>s(!0)}),"OpenMRS \uc790\ub3d9 ID \uc0dd\uc131 (\uad8c\uc7a5)"]}),(0,ur.jsxs)("label",{style:{marginLeft:"20px"},children:[(0,ur.jsx)("input",{type:"radio",checked:!l,onChange:()=>s(!1)}),"\uc218\ub3d9 ID \uc785\ub825"]})]}),!l&&(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"patient_identifier",children:"Patient ID:"}),(0,ur.jsx)("input",{type:"text",id:"patient_identifier",value:e.patient_identifier,onChange:n=>t(Ft(Ft({},e),{},{patient_identifier:n.target.value})),placeholder:"\uc608: P001, DCM001"})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"givenName",children:"\uc774\ub984 *:"}),(0,ur.jsx)("input",{type:"text",id:"givenName",value:e.givenName,onChange:n=>t(Ft(Ft({},e),{},{givenName:n.target.value})),required:!0})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"familyName",children:"\uc131 *:"}),(0,ur.jsx)("input",{type:"text",id:"familyName",value:e.familyName,onChange:n=>t(Ft(Ft({},e),{},{familyName:n.target.value})),required:!0})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"middleName",children:"\uc911\uac04 \uc774\ub984:"}),(0,ur.jsx)("input",{type:"text",id:"middleName",value:e.middleName,onChange:n=>t(Ft(Ft({},e),{},{middleName:n.target.value}))})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"gender",children:"\uc131\ubcc4 *:"}),(0,ur.jsxs)("select",{id:"gender",value:e.gender,onChange:n=>t(Ft(Ft({},e),{},{gender:n.target.value})),required:!0,children:[(0,ur.jsx)("option",{value:"",children:"\uc120\ud0dd\ud558\uc138\uc694"}),(0,ur.jsx)("option",{value:"M",children:"\ub0a8\uc131"}),(0,ur.jsx)("option",{value:"F",children:"\uc5ec\uc131"})]})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"birthdate",children:"\uc0dd\ub144\uc6d4\uc77c *:"}),(0,ur.jsx)("input",{type:"date",id:"birthdate",value:e.birthdate,onChange:n=>t(Ft(Ft({},e),{},{birthdate:n.target.value})),required:!0})]}),(0,ur.jsxs)("fieldset",{children:[(0,ur.jsx)("legend",{children:"\uc8fc\uc18c \uc815\ubcf4 (\uc120\ud0dd\uc0ac\ud56d)"}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"address1",children:"\uc8fc\uc18c 1:"}),(0,ur.jsx)("input",{type:"text",id:"address1",value:e.address.address1,onChange:n=>t(Ft(Ft({},e),{},{address:Ft(Ft({},e.address),{},{address1:n.target.value})}))})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"cityVillage",children:"\ub3c4\uc2dc:"}),(0,ur.jsx)("input",{type:"text",id:"cityVillage",value:e.address.cityVillage,onChange:n=>t(Ft(Ft({},e),{},{address:Ft(Ft({},e.address),{},{cityVillage:n.target.value})}))})]}),(0,ur.jsxs)("div",{className:"form-group",children:[(0,ur.jsx)("label",{htmlFor:"country",children:"\uad6d\uac00:"}),(0,ur.jsx)("input",{type:"text",id:"country",value:e.address.country,onChange:n=>t(Ft(Ft({},e),{},{address:Ft(Ft({},e.address),{},{country:n.target.value})}))})]})]}),(0,ur.jsx)("button",{type:"submit",disabled:n,style:{padding:"10px 20px",backgroundColor:n?"#ccc":"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:n?"not-allowed":"pointer"},children:n?"\ub4f1\ub85d \uc911...":"\ud658\uc790 \ub4f1\ub85d"})]})]})},sc=Kr("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),cc=()=>{const[e,t]=(0,o.useState)(""),[n,r]=(0,o.useState)([]),[a,i]=(0,o.useState)([]),[l,s]=(0,o.useState)([]),[c,d]=(0,o.useState)(!1);(0,o.useEffect)((()=>{(async()=>{try{const e=await cr.get("https://meddocai.p-e.kr:8000/api/integration/openmrs-patients/");r(e.data);const t=(await cr.get("https://meddocai.p-e.kr:8000/api/integration/reception-list/")).data.map((e=>{let t=e.status;switch(e.status){case"waiting":t=e.assigned_room?"\ud83e\uddcd \uc9c4\ub8cc\uc2e4 ".concat(e.assigned_room,"\ubc88 \ubc30\uc815"):"\u23f3 \ub300\uae30\uc911";break;case"in_progress":t="\ud83d\udc89 \uc9c4\ub8cc \uc911";break;case"complete":t="\u2705 \uc9c4\ub8cc \uc644\ub8cc";break;default:t="\u2753 ".concat(e.status||"\uc54c \uc218 \uc5c6\uc74c")}return Ft(Ft({},e),{},{status:t,timestamp:e.created_at})}));s(t)}catch(e){console.error("\ud658\uc790/\uc811\uc218 \ubaa9\ub85d \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328",e)}})()}),[]),(0,o.useEffect)((()=>{const t=e.trim().toLowerCase();i(t?n.filter((e=>{var n,r;return e.display.toLowerCase().includes(t)||(null===(n=e.identifiers)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.identifier.includes(t))})):[])}),[e,n]);const u=async function(){var r,a;const o=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||n.find((t=>t.display===e.trim()));if(!o)return alert("\ud658\uc790 \uc774\ub984\uc744 \ubaa9\ub85d\uc5d0\uc11c \ud074\ub9ad\ud558\uac70\ub098 \uc815\ud655\ud788 \uc785\ub825\ud574\uc8fc\uc138\uc694.");const c=null===(r=o.identifiers)||void 0===r||null===(a=r[0])||void 0===a?void 0:a.identifier;if(l.some((e=>e.patient_identifier===c)))return alert("\uc774\ubbf8 \uc811\uc218\ub41c \ud658\uc790\uc785\ub2c8\ub2e4.");try{const e=await cr.post("https://meddocai.p-e.kr:8000/api/integration/identifier-based/",{openmrs_patient_uuid:o.uuid,patient_identifier:c});if(!e.data.success)throw new Error(e.data.error||"\ub9e4\ud551 \uc2e4\ud328");s((t=>[...t,{mapping_id:e.data.mapping_id,patient_identifier:c,display:o.display,status:"\ub300\uae30 \uc911",timestamp:(new Date).toISOString()}])),t(""),i([]),alert("\u2705 ".concat(o.display," \ud658\uc790\uac00 \ub300\uae30 \ubaa9\ub85d\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))}catch(d){console.error("\uc811\uc218 \uc2e4\ud328",d),alert("\uc811\uc218 \uc2e4\ud328: ".concat(d.message))}};return(0,ur.jsxs)("div",{className:"page-container-full",children:[(0,ur.jsxs)("div",{className:"card",children:[(0,ur.jsx)("h2",{style:{marginBottom:"1rem"},children:"\ud83d\udcdd \ud658\uc790 \uc811\uc218"}),(0,ur.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"1.5rem"},children:(0,ur.jsxs)("button",{onClick:()=>d(!0),style:{padding:"0.6rem 1.2rem",borderRadius:"6px",border:"none",background:"#1890ff",color:"#fff",cursor:"pointer",fontSize:"1rem",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,ur.jsx)(sc,{size:20,color:"white"})," ","\uc2e0\uaddc \ud658\uc790 \ub4f1\ub85d"]})}),(0,ur.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem"},children:[(0,ur.jsx)("input",{style:{flex:"1 0 300px",padding:"0.5rem"},type:"text",placeholder:"\ud658\uc790 \uc774\ub984 \ub610\ub294 ID \uc785\ub825",value:e,onChange:e=>t(e.target.value)}),(0,ur.jsx)("button",{onClick:()=>u(),style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"1px solid #1890ff",background:"#fff",color:"#1890ff",cursor:"pointer"},children:"\uc811\uc218\ud558\uae30"})]}),a.length>0&&(0,ur.jsx)("ul",{style:{border:"1px solid #ccc",maxWidth:300,margin:"0 0 1.5rem",padding:0,listStyle:"none",background:"#fff",maxHeight:"200px",overflowY:"auto"},children:a.map((e=>{var n,r;return(0,ur.jsxs)("li",{onClick:()=>t(e.display),style:{padding:"0.5rem",borderBottom:"1px solid #eee",cursor:"pointer"},children:[e.display," (",null===(n=e.identifiers)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.identifier,")"]},e.uuid)}))}),(0,ur.jsx)("h3",{style:{marginBottom:"1rem"},children:"\ud658\uc790 \ubaa9\ub85d (OpenMRS \uc5f0\ub3d9)"}),(0,ur.jsx)("div",{className:"order-table-wrapper",children:(0,ur.jsxs)("table",{className:"order-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{children:"\ud658\uc790 \uc2dd\ubcc4\uc790"}),(0,ur.jsx)("th",{children:"\uc774\ub984"}),(0,ur.jsx)("th",{children:"\uc131\ubcc4"}),(0,ur.jsx)("th",{children:"\uc0dd\ub144\uc6d4\uc77c"}),(0,ur.jsx)("th",{children:"UUID"}),(0,ur.jsx)("th",{children:"\ub300\uae30 \ub4f1\ub85d"})]})}),(0,ur.jsx)("tbody",{children:n.map((e=>{var t,n,r,a,o;const i=(null===(t=e.identifiers)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.identifier)||"-",s=l.some((e=>e.patient_identifier===i));return(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:i}),(0,ur.jsx)("td",{children:e.display}),(0,ur.jsx)("td",{children:"M"===(null===(r=e.person)||void 0===r?void 0:r.gender)?"\ub0a8\uc131":"F"===(null===(a=e.person)||void 0===a?void 0:a.gender)?"\uc5ec\uc131":"-"}),(0,ur.jsx)("td",{children:null!==(o=e.person)&&void 0!==o&&o.birthdate?new Date(e.person.birthdate).toLocaleDateString():"-"}),(0,ur.jsx)("td",{children:e.uuid}),(0,ur.jsx)("td",{children:(0,ur.jsx)("button",{onClick:()=>!s&&u(e),disabled:s,style:{padding:"0.3rem 0.6rem",borderRadius:"4px",border:"none",background:s?"#ccc":"#52c41a",color:s?"#666":"#fff",cursor:s?"not-allowed":"pointer"},children:s?"\ub4f1\ub85d\ub428":"\ub300\uae30 \ub4f1\ub85d"})})]},e.uuid)}))})]})}),(0,ur.jsxs)("h3",{style:{margin:"1rem 0"},children:["\uc811\uc218\ub41c \ud658\uc790 \ubaa9\ub85d (",l.length,"\uba85)"]}),(0,ur.jsx)("div",{className:"order-table-wrapper",children:(0,ur.jsxs)("table",{className:"order-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("th",{children:"\ud658\uc790 \uc2dd\ubcc4\uc790"}),(0,ur.jsx)("th",{children:"\uc774\ub984"}),(0,ur.jsx)("th",{children:"\uc0c1\ud0dc"}),(0,ur.jsx)("th",{children:"\uc811\uc218 \uc2dc\uac01"})]})}),(0,ur.jsx)("tbody",{children:l.map((e=>(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:e.patient_identifier}),(0,ur.jsx)("td",{children:e.display}),(0,ur.jsx)("td",{children:e.status}),(0,ur.jsx)("td",{children:e.timestamp?new Date(e.timestamp).toLocaleTimeString():"-"})]},e.patient_identifier)))})]})})]}),c&&(0,ur.jsx)(lc,{onClose:()=>d(!1),onPatientCreated:e=>{r((t=>[...t,e])),u(e)}})]})},dc=Kr("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),uc=()=>{const[e,t]=(0,o.useState)([]),[n,r]=(0,o.useState)(!0),[a,i]=(0,o.useState)(null),l=async()=>{try{const e=await cr.get("https://meddocai.p-e.kr:8000/api/integration/reception-list/");t(e.data)}catch(e){console.error("\uc9c4\ub8cc \uc9c4\ud589\ub3c4 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328",e),i("\uc9c4\ub8cc \uc9c4\ud589\ub3c4 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328")}finally{r(!1)}};(0,o.useEffect)((()=>{l();const e=setInterval(l,5e3);return()=>clearInterval(e)}),[]);const s=e=>{switch(e.status){case"in_progress":return"\ud83d\udc89 \uc9c4\ub8cc \uc911";case"waiting":return e.assigned_room?"\ud83e\uddcd \uc9c4\ub8cc\uc2e4 ".concat(e.assigned_room,"\ubc88 \ubc30\uc815"):"\u23f3 \ub300\uae30\uc911";case"complete":return"\u2705 \uc9c4\ub8cc \uc644\ub8cc";default:return"\u2753 ".concat(e.status||"\uc54c \uc218 \uc5c6\uc74c")}};return(0,ur.jsx)("div",{className:"page-container-full",children:(0,ur.jsxs)("div",{className:"card",children:[(0,ur.jsxs)("h2",{style:{display:"flex",alignItems:"center",marginBottom:"1rem"},children:[(0,ur.jsx)(dc,{size:20,style:{marginRight:"0.5rem",color:"#1890ff"}}),"\uc9c4\ub8cc \uc9c4\ud589\ub3c4"]}),(0,ur.jsx)("div",{className:"order-table-wrapper",children:(0,ur.jsxs)("table",{className:"order-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsx)("tr",{children:["\ud658\uc790\uba85","\ud658\uc790 ID","\uc0dd\ub144\uc6d4\uc77c","\uc131\ubcc4","\uc9c4\ub8cc \uc0c1\ud0dc","\uc791\uc5c5"].map((e=>(0,ur.jsx)("th",{children:e},e)))})}),(0,ur.jsx)("tbody",{children:n?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:6,children:"\ub85c\ub529 \uc911..."})}):a?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:6,style:{color:"red"},children:a})}):0===e.length?(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:6,style:{color:"#666"},children:"\ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})}):e.map((e=>(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:e.display}),(0,ur.jsx)("td",{children:e.patient_identifier}),(0,ur.jsx)("td",{children:e.birthdate||"-"}),(0,ur.jsx)("td",{children:"M"===e.gender?"\ub0a8\uc131":"F"===e.gender?"\uc5ec\uc131":"-"}),(0,ur.jsx)("td",{children:s(e)})," ",(0,ur.jsx)("td",{style:{textAlign:"center"},children:"-"})]},e.mapping_id)))})]})})]})})},pc=Kr("square-check-big",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),fc=e=>{let{completedPatients:t}=e;return(0,ur.jsx)("div",{className:"page-container-full",children:(0,ur.jsxs)("div",{className:"card",children:[(0,ur.jsxs)("h2",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem"},children:[(0,ur.jsx)(pc,{size:20,style:{marginRight:"0.5rem",color:"#52c41a"}}),"\uc9c4\ub8cc \uc644\ub8cc \ud658\uc790 \ubaa9\ub85d"]}),(0,ur.jsxs)("p",{style:{margin:"0 0 1rem",color:"#555"},children:["\ucd1d ",(0,ur.jsx)("strong",{children:t?t.length:0}),"\uba85"]}),(0,ur.jsx)("div",{className:"order-table-wrapper",style:{marginTop:"1rem"},children:(0,ur.jsxs)("table",{className:"order-table",children:[(0,ur.jsx)("thead",{children:(0,ur.jsx)("tr",{children:["\uc774\ub984","\ud658\uc790 ID","\uc131\ubcc4","\uc0dd\ub144\uc6d4\uc77c","\uc9c4\ub8cc\uc2e4","\ub9c8\uc9c0\ub9c9 \ub3d9\uae30\ud654","\uc0c1\ud0dc"].map((e=>(0,ur.jsx)("th",{children:e},e)))})}),(0,ur.jsx)("tbody",{children:Array.isArray(t)&&0!==t.length?t.map((e=>(0,ur.jsxs)("tr",{children:[(0,ur.jsx)("td",{children:e.name}),(0,ur.jsx)("td",{children:e.patient_identifier}),(0,ur.jsx)("td",{children:"M"===e.gender?"\ub0a8\uc131":"F"===e.gender?"\uc5ec\uc131":"-"}),(0,ur.jsx)("td",{children:e.birthdate||"-"}),(0,ur.jsx)("td",{children:e.assigned_room||"-"}),(0,ur.jsx)("td",{children:e.last_sync?new Date(e.last_sync).toLocaleString():"-"}),(0,ur.jsx)("td",{children:e.status})]},e.mapping_id))):(0,ur.jsx)("tr",{children:(0,ur.jsx)("td",{colSpan:7,style:{color:"#666"},children:"\ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})})]})})]})})},hc=e=>{let{waitingList:t,completedPatients:n}=e;return(0,ur.jsxs)("div",{className:"dashboard-card waiting-stats-panel",children:[(0,ur.jsx)("div",{className:"panel-title",children:"\ud83d\udccb \uc9c4\ub8cc \ub300\uae30 \uc911 \xb7 \ucd5c\uadfc \uc644\ub8cc \ud83d\udd04"}),(0,ur.jsxs)("div",{className:"panel-body",children:[(0,ur.jsxs)("div",{className:"panel-column",children:[(0,ur.jsx)("div",{className:"label-waiting",children:"\ud83d\udfe1 \ud604\uc7ac \ub300\uae30 \uc911:"}),t&&t.length>0?t.map(((e,t)=>(0,ur.jsx)("div",{className:"list-item",children:e.display||e.name},e.mapping_id||e.uuid||t))):(0,ur.jsx)("div",{className:"list-item",children:"\uc5c6\uc74c"})]}),(0,ur.jsxs)("div",{className:"panel-column",children:[(0,ur.jsx)("div",{className:"label-completed",children:"\ud83d\udfe2 \ucd5c\uadfc \uc644\ub8cc:"}),n&&n.length>0?n.map(((e,t)=>(0,ur.jsxs)("div",{className:"list-item",children:[e.name," (",e.time,")"]},e.name+t))):(0,ur.jsx)("div",{className:"list-item",children:"\uc5c6\uc74c"})]})]})]})},mc=e=>{let{waitingList:t}=e;const[n,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{if(!t||0===t.length)return void r(0);const e=t.map((e=>"number"!==typeof e.waitTime||isNaN(e.waitTime)?null:e.waitTime)).filter((e=>null!==e));r(0===e.length?0:Math.round(e.reduce(((e,t)=>e+t),0)/e.length))}),[t]),(0,ur.jsxs)("div",{className:"dashboard-card current-waittime",children:["\xa0 \xa0 \xa0 ",(0,ur.jsx)("div",{className:"cwt-title",children:"\u23f1\ufe0f \ud604\uc7ac \ud3c9\uade0 \ub300\uae30 \uc2dc\uac04"}),"\xa0 \xa0 \xa0 ",(0,ur.jsxs)("div",{className:"cwt-value",children:["\xa0 \xa0 \xa0 \xa0 ",null===n?"\ub85c\ub529 \uc911...":0===n?"\ub300\uae30 \ud658\uc790 \uc5c6\uc74c":"".concat(n,"\ubd84"),"\xa0 \xa0 \xa0 "]}),"\xa0 \xa0 "]})},gc=()=>{const[e,t]=(0,o.useState)({total_consultations:"-",ai_analysis_count:"-",imaging_exam_count:"-"}),[n,r]=(0,o.useState)(!0),[a,i]=(0,o.useState)(null),l="".concat("https://meddocai.p-e.kr/api/integration/","daily-summary-stats/"),s=async()=>{r(!0),i(null);try{const e=await cr.get(l);e.data.success?t({total_consultations:e.data.total_consultations,ai_analysis_count:e.data.ai_analysis_count,imaging_exam_count:e.data.imaging_exam_count}):i(e.data.error||"\ub370\uc774\ud130 \ub85c\ub4dc \uc2e4\ud328")}catch(e){console.error("\u274c \uc77c\uc77c \uc694\uc57d \ud1b5\uacc4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e),i("\ud1b5\uacc4 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}finally{r(!1)}};return(0,o.useEffect)((()=>{s();const e=setInterval(s,15e3);return()=>clearInterval(e)}),[]),(0,ur.jsxs)("div",{className:"dashboard-cards",children:[(0,ur.jsx)("h3",{children:"\ud83d\udce6 \uc624\ub298 \uc9c4\ub8cc \uc694\uc57d"}),(0,ur.jsxs)("div",{className:"stats-grid",children:[(0,ur.jsxs)("div",{className:"card",children:[(0,ur.jsx)("p",{children:"\ud83d\udccb \ucd1d \uc9c4\ub8cc \uac74\uc218"}),(0,ur.jsx)("h2",{children:n?"...":a?"\uc624\ub958":"".concat(e.total_consultations,"\uac74")}),(0,ur.jsx)("small",{children:"\ud558\ub8e8 \uc9c4\ub8cc\ub7c9 \ud30c\uc545"})]}),(0,ur.jsxs)("div",{className:"card",children:[(0,ur.jsx)("p",{children:"\ud83e\udde0 AI \ubd84\uc11d \uac74\uc218"}),(0,ur.jsx)("h2",{children:n?"...":a?"\uc624\ub958":"".concat(e.ai_analysis_count,"\uac74")}),(0,ur.jsx)("small",{children:"CDSS \ud65c\uc6a9\ub3c4"})]}),(0,ur.jsxs)("div",{className:"card",children:[(0,ur.jsx)("p",{children:"\ud83d\udce6 \uc601\uc0c1 \uac80\uc0ac \uc218"}),(0,ur.jsx)("h2",{children:n?"...":a?"\uc624\ub958":"".concat(e.imaging_exam_count,"\uac74")}),(0,ur.jsx)("small",{children:"Radiology \ud65c\uc6a9\ub960"})]})]})]})},yc=e=>{let{showActionButtons:t=!0,onShowDetail:n=()=>{}}=e;const[r,a]=(0,o.useState)([]),[i,l]=(0,o.useState)(!0),[s,c]=(0,o.useState)(null),[d,u]=(0,o.useState)(null),p="https://meddocai.p-e.kr/api/integration/",f="".concat(p,"alerts/urgent/"),h=(0,o.useCallback)((async()=>{l(!0),c(null);try{const e=await cr.get(f);a(Array.isArray(e.data)?e.data:[])}catch(e){console.error("\u274c \uae34\uae09 \uc54c\ub9bc \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e),c("\uae34\uae09 \uc54c\ub9bc\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."),a([])}finally{l(!1)}}),[f]);(0,o.useEffect)((()=>{h();const e=setInterval(h,1e4);return()=>clearInterval(e)}),[h]);const m=r.map((e=>{let t="",n="",r="",a="",o="",i=new Date(e.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});switch(e.type){case"SPO2":t=e.message.includes(" - ")?e.message.split(" - ")[1].trim():"\ud658\uc790 \uc815\ubcf4 \uc5c6\uc74c",n=e.message.match(/ID (\d+)/)?e.message.match(/ID (\d+)/)[1]:"",r=e.message.match(/SpO\u2082 (.+?)%/)?e.message.match(/SpO\u2082 (.+?)%/)[1]:"",a="%",o="\uc0b0\uc18c \ud22c\uc5ec";break;case"BP":t=e.message.includes(" - ")?e.message.split(" - ")[1].trim():"\ud658\uc790 \uc815\ubcf4 \uc5c6\uc74c",n=e.message.match(/ID (\d+)/)?e.message.match(/ID (\d+)/)[1]:"";const i=e.message.match(/\ud608\uc555\s*(.+)/);r=i&&i[1]?i[1].split(" - ")[0].trim():"",a="",o="\ud608\uc555\uc57d \ud22c\uc5ec";break;case"AI_ERR":t=e.message.includes(" - ")?e.message.split(" - ")[1].trim():"\ud658\uc790 \uc815\ubcf4 \uc5c6\uc74c",n=e.message.match(/ID (\d+)/)?e.message.match(/ID (\d+)/)[1]:"",o="\uc7ac\uc2dc\ub3c4";break;case"DELAY":t=e.message.includes(" - ")?e.message.split(" - ")[1].trim():"\ud658\uc790 \uc815\ubcf4 \uc5c6\uc74c",n=e.message.match(/ID (\d+)/)?e.message.match(/ID (\d+)/)[1]:"",o="\ub2f4\ub2f9\uc790 \ud655\uc778";break;default:t=e.message.split(" - ")[0],n="",r="",a="",o="\ud655\uc778 \ud544\uc694"}return{id:e.id,type:e.type,patient:t,patient_id:n,value:r,unit:a,at:i,severity:"high",recommended:o,raw_message:e.message}})),g={label:"\ud83d\udfe0",color:"#fff3e0",border:"#ffb74d"};return(0,ur.jsxs)("div",{className:"urgent-widget",style:{background:g.color,borderRadius:8,boxShadow:"0 1px 4px rgba(0,0,0,0.1)",padding:12,display:"flex",flexDirection:"column",height:"100%",overflowY:"auto"},children:[(0,ur.jsxs)("h3",{className:"card-header",style:{display:"flex",alignItems:"center",gap:8,color:"#e65100",margin:0,marginBottom:12,flexShrink:0},children:[(0,ur.jsx)(Jr,{size:20}),"\uae34\uae09 \ucc98\ub9ac"," ",i?(0,ur.jsx)(Xr,{size:16,className:"spin",style:{color:"#e65100"}}):s?(0,ur.jsx)("span",{style:{color:"red",fontSize:"0.8rem"},children:" (\uc5d0\ub7ec)"}):(0,ur.jsxs)("span",{style:{opacity:.7},children:["(",m.length,")"]})]}),(0,ur.jsx)("ul",{className:"card-list",style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:8,flexGrow:1,justifyContent:"center",alignItems:"center"},children:i?(0,ur.jsx)("li",{style:{textAlign:"center",color:"#666",width:"100%",paddingTop:"30px",fontSize:"1.1rem"},children:"\uc54c\ub9bc \ub85c\ub529 \uc911..."}):s?(0,ur.jsx)("li",{style:{textAlign:"center",color:"red",width:"100%",paddingTop:"30px",fontSize:"1.1rem"},children:s}):0===m.length?(0,ur.jsx)("li",{style:{textAlign:"center",color:"#666",width:"100%",paddingTop:"30px",fontSize:"1.1rem"},children:"\uc0c8\ub85c\uc6b4 \uae34\uae09 \uc54c\ub9bc\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):m.map((e=>{const{label:n,color:r,border:a}=g;return(0,ur.jsxs)("li",{className:"card-list-item",style:{display:"flex",alignItems:"center",background:r,border:"2px solid ".concat(a),borderRadius:6,padding:"8px 12px"},children:[(0,ur.jsx)("span",{style:{marginRight:12,fontSize:"1.2rem"},children:n}),(0,ur.jsxs)("div",{style:{flex:1,lineHeight:1.3},children:[(0,ur.jsxs)("div",{style:{fontWeight:600,marginBottom:4},children:[e.patient," (ID ",e.patient_id,")"]}),(0,ur.jsxs)("div",{style:{fontSize:"0.85rem",color:"#444"},children:["SPO2"===e.type?"SpO\u2082 ".concat(e.value).concat(e.unit):"BP"===e.type?"\ud608\uc555 ".concat(e.value):"AI_ERR"===e.type?"AI \ud310\ub3c5 \uc624\ub958":null!==e.value&&void 0!==e.value?"".concat(e.value).concat(e.unit):e.raw_message," ","\xb7 ",e.at]})]}),t&&(0,ur.jsx)("button",{onClick:()=>(async e=>{u(e.id);try{await cr.patch("".concat(p,"alerts/").concat(e.id,"/mark-read/"),{is_read:!0}),alert('\uc54c\ub9bc "'.concat(e.raw_message,'"\uc744(\ub97c) \uc77d\uc74c \ucc98\ub9ac\ud588\uc2b5\ub2c8\ub2e4.')),h()}catch(r){var t,n;console.error("\uc54c\ub9bc \uc77d\uc74c \ucc98\ub9ac \uc2e4\ud328:",r),alert("\uc54c\ub9bc \uc77d\uc74c \ucc98\ub9ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error)||r.message))}finally{u(null)}})(e),disabled:d===e.id,style:{marginLeft:12,padding:"6px 10px",fontSize:"0.85rem",borderRadius:4,border:"none",background:"#ffe0b2",color:"#e65100",cursor:d===e.id?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:6},children:d===e.id?(0,ur.jsx)(Xr,{size:16,className:"spin"}):"\uc77d\uc74c \ucc98\ub9ac"})]},e.id)}))})]})},xc=e=>{let{patient:t,panelType:n="diagnosis"}=e;const[r,a]=(0,o.useState)([]),[i,l]=(0,o.useState)([]),[s,c]=(0,o.useState)(null),[d,u]=(0,o.useState)({concept_uuid:"",value:"",notes:""}),[p,f]=(0,o.useState)(""),[h,m]=(0,o.useState)([]),[g,y]=(0,o.useState)([]),[x,v]=(0,o.useState)({drug_concept_uuid:"",drug_name:"",dosage:"",dose_units:"mg",frequency:"",route:"PO",duration:"",instructions:""}),[b,j]=(0,o.useState)(""),[w,S]=(0,o.useState)([]),[_,k]=(0,o.useState)([]),[C,N]=(0,o.useState)(!1),[O,D]=(0,o.useState)(!1),E="https://meddocai.p-e.kr/api/";(0,o.useEffect)((()=>{null!==t&&void 0!==t&&t.uuid&&(R(),T())}),[t]),(0,o.useEffect)((()=>{const e=setTimeout((()=>{p.length>=2&&P(p)}),500);return()=>clearTimeout(e)}),[p]),(0,o.useEffect)((()=>{const e=setTimeout((()=>{b.length>=2&&I(b)}),500);return()=>clearTimeout(e)}),[b]);const R=async()=>{try{N(!0);const e=await cr.get("".concat(E,"/openmrs-clinical/patient/").concat(t.uuid,"/clinical-data/"));if(e.data.clinical_data&&e.data.clinical_data.length>0){const t=e.data.clinical_data[0];c(t.encounter_uuid),a(t.diagnoses||[]),l(t.prescriptions||[])}}catch(e){console.error("\uc784\uc0c1 \ub370\uc774\ud130 \ub85c\ub4dc \uc2e4\ud328:",e)}finally{N(!1)}},T=async()=>{try{const[e,t]=await Promise.all([cr.get("".concat(E,"/openmrs-clinical/common-diagnoses/")),cr.get("".concat(E,"/openmrs-clinical/common-drugs/"))]);y(e.data.diagnoses||[]),k(t.data.drugs||[])}catch(e){console.error("\uacf5\ud1b5 \ud56d\ubaa9 \ub85c\ub4dc \uc2e4\ud328:",e)}},P=async e=>{try{const t=await cr.get("".concat(E,"/openmrs-clinical/search-diagnosis/"),{params:{q:e}});m(t.data.results||[])}catch(t){console.error("\uc9c4\ub2e8 \uac80\uc0c9 \uc2e4\ud328:",t),m([])}},I=async e=>{try{const t=await cr.get("".concat(E,"/openmrs-clinical/search-drugs/"),{params:{q:e}});S(t.data.results||[])}catch(t){console.error("\uc57d\ubb3c \uac80\uc0c9 \uc2e4\ud328:",t),S([])}};return t?C?(0,ur.jsxs)("div",{style:{padding:"1rem",textAlign:"center"},children:[(0,ur.jsx)("h3",{children:"diagnosis"===n?"\ud83c\udfe5 \uc9c4\ub2e8 \uad00\ub9ac":"\ud83d\udc8a \ucc98\ubc29 \uad00\ub9ac"}),(0,ur.jsx)("p",{children:"\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."})]}):(0,ur.jsxs)("div",{style:{padding:"1rem",height:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,ur.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",paddingBottom:"0.5rem",borderBottom:"2px solid #e9ecef"},children:[(0,ur.jsx)("h3",{style:{margin:0},children:"diagnosis"===n?"\ud83c\udfe5 \uc9c4\ub2e8 \uad00\ub9ac":"\ud83d\udc8a \ucc98\ubc29 \uad00\ub9ac"}),(0,ur.jsx)("div",{style:{fontSize:"12px",color:"#666"},children:t.display||t.name})]}),"diagnosis"===n&&(0,ur.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,ur.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,ur.jsxs)("h4",{style:{fontSize:"14px",marginBottom:"0.5rem",color:"#495057"},children:["\uae30\uc874 \uc9c4\ub2e8 (",r.length,"\uac74)"]}),(0,ur.jsx)("div",{style:{maxHeight:"120px",overflowY:"auto",border:"1px solid #e9ecef",borderRadius:"4px",padding:"0.5rem"},children:0===r.length?(0,ur.jsx)("div",{style:{textAlign:"center",color:"#6c757d",fontSize:"13px"},children:"\ub4f1\ub85d\ub41c \uc9c4\ub2e8\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):r.map(((e,t)=>(0,ur.jsxs)("div",{style:{padding:"6px",marginBottom:"4px",backgroundColor:"#d4edda",borderRadius:"4px",fontSize:"13px"},children:[(0,ur.jsx)("div",{style:{fontWeight:"bold"},children:e.value}),(0,ur.jsx)("div",{style:{fontSize:"11px",color:"#155724"},children:new Date(e.datetime).toLocaleString("ko-KR")})]},t)))})]}),(0,ur.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,ur.jsx)("h4",{style:{fontSize:"14px",marginBottom:"0.5rem",color:"#495057"},children:"\uc0c8 \uc9c4\ub2e8 \ucd94\uac00"}),(0,ur.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,ur.jsx)("div",{style:{fontSize:"12px",color:"#6c757d",marginBottom:"4px"},children:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uc9c4\ub2e8:"}),(0,ur.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:g.slice(0,6).map(((e,t)=>(0,ur.jsx)("button",{onClick:()=>(e=>{u({concept_uuid:e.uuid,value:e.name,notes:""}),f(e.name)})(e),style:{padding:"4px 8px",fontSize:"11px",backgroundColor:"white",color:"#28a745",border:"1px solid #c3e6cb",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#28a745",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#28a745"},children:e.name},t)))})]}),(0,ur.jsxs)("div",{style:{position:"relative",marginBottom:"8px"},children:[(0,ur.jsx)("input",{type:"text",placeholder:"\uc9c4\ub2e8\uba85 \uac80\uc0c9... (\uc608: \uace0\ud608\uc555, \ub2f9\ub1e8\ubcd1, \uac10\uae30)",value:p,onChange:e=>{f(e.target.value),u((t=>Ft(Ft({},t),{},{value:e.target.value})))},style:{width:"100%",padding:"6px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"13px"}}),h.length>0&&(0,ur.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ced4da",borderTop:"none",borderRadius:"0 0 4px 4px",maxHeight:"120px",overflowY:"auto",zIndex:1e3},children:h.map(((e,t)=>(0,ur.jsxs)("div",{onClick:()=>(e=>{u({concept_uuid:e.uuid,value:e.display,notes:""}),f(e.display),m([])})(e),style:{padding:"6px",cursor:"pointer",borderBottom:"1px solid #f8f9fa",fontSize:"12px"},onMouseEnter:e=>e.target.style.backgroundColor="#f8f9fa",onMouseLeave:e=>e.target.style.backgroundColor="white",children:[(0,ur.jsx)("div",{style:{fontWeight:"bold"},children:e.display}),e.conceptClass&&(0,ur.jsxs)("div",{style:{fontSize:"11px",color:"#6c757d"},children:["\ubd84\ub958: ",e.conceptClass.display]})]},t)))})]}),(0,ur.jsx)("textarea",{placeholder:"\uc9c4\ub2e8 \uba54\ubaa8 (\uc120\ud0dd\uc0ac\ud56d)",value:d.notes,onChange:e=>u((t=>Ft(Ft({},t),{},{notes:e.target.value}))),style:{width:"100%",height:"50px",padding:"6px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px",resize:"vertical"}})]})]}),"prescription"===n&&(0,ur.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,ur.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,ur.jsxs)("h4",{style:{fontSize:"14px",marginBottom:"0.5rem",color:"#495057"},children:["\uae30\uc874 \ucc98\ubc29 (",i.length,"\uac74)"]}),(0,ur.jsx)("div",{style:{maxHeight:"120px",overflowY:"auto",border:"1px solid #e9ecef",borderRadius:"4px",padding:"0.5rem"},children:0===i.length?(0,ur.jsx)("div",{style:{textAlign:"center",color:"#6c757d",fontSize:"13px"},children:"\ub4f1\ub85d\ub41c \ucc98\ubc29\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}):i.map(((e,t)=>(0,ur.jsxs)("div",{style:{padding:"6px",marginBottom:"4px",backgroundColor:"#f8d7da",borderRadius:"4px",fontSize:"13px"},children:[(0,ur.jsx)("div",{style:{fontWeight:"bold"},children:e.value}),(0,ur.jsx)("div",{style:{fontSize:"11px",color:"#721c24"},children:new Date(e.datetime).toLocaleString("ko-KR")})]},t)))})]}),(0,ur.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,ur.jsx)("h4",{style:{fontSize:"14px",marginBottom:"0.5rem",color:"#495057"},children:"\uc0c8 \ucc98\ubc29 \ucd94\uac00"}),(0,ur.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,ur.jsx)("div",{style:{fontSize:"12px",color:"#6c757d",marginBottom:"4px"},children:"\uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 \uc57d\ubb3c:"}),(0,ur.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:_.slice(0,6).map(((e,t)=>(0,ur.jsx)("button",{onClick:()=>(e=>{v((t=>Ft(Ft({},t),{},{drug_concept_uuid:e.uuid,drug_name:e.name}))),j(e.name)})(e),style:{padding:"4px 8px",fontSize:"11px",backgroundColor:"white",color:"#dc3545",border:"1px solid #f5c6cb",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.target.style.backgroundColor="#dc3545",e.target.style.color="white"},onMouseLeave:e=>{e.target.style.backgroundColor="white",e.target.style.color="#dc3545"},children:e.name},t)))})]}),(0,ur.jsxs)("div",{style:{position:"relative",marginBottom:"8px"},children:[(0,ur.jsx)("input",{type:"text",placeholder:"\uc57d\ubb3c\uba85 \uac80\uc0c9... (\uc608: \uc544\uc138\ud2b8\uc544\ubbf8\ub178\ud39c, \uc544\uc2a4\ud53c\ub9b0)",value:b,onChange:e=>{j(e.target.value),v((t=>Ft(Ft({},t),{},{drug_name:e.target.value})))},style:{width:"100%",padding:"6px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"13px"}}),w.length>0&&(0,ur.jsx)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ced4da",borderTop:"none",borderRadius:"0 0 4px 4px",maxHeight:"120px",overflowY:"auto",zIndex:1e3},children:w.map(((e,t)=>(0,ur.jsx)("div",{onClick:()=>(e=>{v((t=>Ft(Ft({},t),{},{drug_concept_uuid:e.uuid,drug_name:e.display}))),j(e.display),S([])})(e),style:{padding:"6px",cursor:"pointer",borderBottom:"1px solid #f8f9fa",fontSize:"12px"},onMouseEnter:e=>e.target.style.backgroundColor="#f8f9fa",onMouseLeave:e=>e.target.style.backgroundColor="white",children:(0,ur.jsx)("div",{style:{fontWeight:"bold"},children:e.display})},t)))})]}),(0,ur.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[(0,ur.jsx)("input",{type:"text",placeholder:"\uc6a9\ub7c9",value:x.dosage,onChange:e=>v((t=>Ft(Ft({},t),{},{dosage:e.target.value}))),style:{flex:1,padding:"6px",fontSize:"13px",borderRadius:"4px",border:"1px solid #ced4da"}}),(0,ur.jsxs)("select",{value:x.dose_units,onChange:e=>v((t=>Ft(Ft({},t),{},{dose_units:e.target.value}))),style:{padding:"6px",fontSize:"13px",borderRadius:"4px",border:"1px solid #ced4da"},children:[(0,ur.jsx)("option",{value:"mg",children:"mg"}),(0,ur.jsx)("option",{value:"ml",children:"ml"}),(0,ur.jsx)("option",{value:"g",children:"g"})]})]}),(0,ur.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"8px"},children:[(0,ur.jsx)("input",{type:"text",placeholder:"\ud22c\uc5ec \ud69f\uc218 (\uc608: \ud558\ub8e8 3\ud68c)",value:x.frequency,onChange:e=>v((t=>Ft(Ft({},t),{},{frequency:e.target.value}))),style:{flex:1,padding:"6px",fontSize:"13px",borderRadius:"4px",border:"1px solid #ced4da"}}),(0,ur.jsxs)("select",{value:x.route,onChange:e=>v((t=>Ft(Ft({},t),{},{route:e.target.value}))),style:{padding:"6px",fontSize:"13px",borderRadius:"4px",border:"1px solid #ced4da"},children:[(0,ur.jsx)("option",{value:"PO",children:"\uacbd\uad6c"}),(0,ur.jsx)("option",{value:"IV",children:"\uc815\ub9e5\uc8fc\uc0ac"}),(0,ur.jsx)("option",{value:"IM",children:"\uadfc\uc721\uc8fc\uc0ac"})]})]}),(0,ur.jsx)("input",{type:"text",placeholder:"\ud22c\uc5ec \uae30\uac04 (\uc608: 7\uc77c)",value:x.duration,onChange:e=>v((t=>Ft(Ft({},t),{},{duration:e.target.value}))),style:{width:"100%",padding:"6px",fontSize:"13px",borderRadius:"4px",border:"1px solid #ced4da",marginBottom:"8px"}}),(0,ur.jsx)("textarea",{placeholder:"\ucd94\uac00 \uc9c0\uc2dc\uc0ac\ud56d (\uc120\ud0dd\uc0ac\ud56d)",value:x.instructions,onChange:e=>v((t=>Ft(Ft({},t),{},{instructions:e.target.value}))),style:{width:"100%",height:"50px",padding:"6px",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"12px",resize:"vertical"}})]})]}),(0,ur.jsx)("div",{style:{marginTop:"auto",textAlign:"right"},children:(0,ur.jsx)("button",{onClick:async()=>{try{D(!0);const e={diagnoses:[],prescriptions:[]};if("diagnosis"===n){if(d.value&&!d.concept_uuid)return alert("\u26a0\ufe0f \uc9c4\ub2e8\uba85\uc740 \uac80\uc0c9 \ud6c4 \ubc18\ub4dc\uc2dc \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),void D(!1);d.concept_uuid&&d.value&&e.diagnoses.push(d)}else if("prescription"===n){if(x.drug_name&&!x.drug_concept_uuid)return alert("\u26a0\ufe0f \uc57d\ubb3c\uba85\uc740 \uac80\uc0c9 \ud6c4 \ubc18\ub4dc\uc2dc \uc120\ud0dd\ud574\uc8fc\uc138\uc694."),void D(!1);x.drug_concept_uuid&&x.drug_name&&e.prescriptions.push(x)}if(0===e.diagnoses.length&&0===e.prescriptions.length)return alert("\uc800\uc7a5\ud560 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."),void D(!1);const r=await cr.post("".concat(E,"/openmrs-clinical/patient/").concat(t.uuid,"/save-diagnosis-prescription/"),e);r.data.success&&(alert("\u2705 ".concat(r.data.message)),u({concept_uuid:"",value:"",notes:""}),v({drug_concept_uuid:"",drug_name:"",dosage:"",dose_units:"mg",frequency:"",route:"PO",duration:"",instructions:""}),f(""),j(""),m([]),S([]),R())}catch(a){var e,r;console.error("\uc800\uc7a5 \uc2e4\ud328:",a),alert("\u274c \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.error)||a.message))}finally{D(!1)}},disabled:O,style:{padding:"8px 16px",fontSize:"14px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:O?"not-allowed":"pointer"},children:O?"\uc800\uc7a5 \uc911...":"\uc800\uc7a5"})})]}):(0,ur.jsxs)("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:[(0,ur.jsx)("h3",{children:"diagnosis"===n?"\ud83c\udfe5 \uc9c4\ub2e8 \uad00\ub9ac":"\ud83d\udc8a \ucc98\ubc29 \uad00\ub9ac"}),(0,ur.jsx)("p",{children:"\ud658\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."})]})},vc=()=>{const[e,t]=(0,o.useState)("\ud648"),[n,r]=(0,o.useState)(null),[a,i]=(0,o.useState)(null),[l,s]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),[u,p]=(0,o.useState)(0),[f,h]=(0,o.useState)([]),[m,g]=(0,o.useState)({1:null,2:null}),[y,x]=(0,o.useState)([]),[v,b]=(0,o.useState)([]),[j,w]=(0,o.useState)(""),[S,_]=(0,o.useState)([]),[k,C]=(0,o.useState)(!1),[N,O]=(0,o.useState)(null),[D,E]=(0,o.useState)("assigned"),[R,T]=(0,o.useState)(new Date),P="https://meddocai.p-e.kr/api/integration/",I=(0,o.useCallback)((async()=>{try{const e=await cr.get("".concat(P,"identifier-waiting/")),t=Array.isArray(e.data)?e.data:[];b(t);const n=t.filter((e=>!e.assigned_room)).reduce(((e,t)=>(e.find((e=>e.patient_identifier===t.patient_identifier))||e.push(t),e)),[]);h(n);const r={1:null,2:null};t.forEach((e=>{1===e.assigned_room&&(r[1]=e),2===e.assigned_room&&(r[2]=e)})),g(r)}catch(e){console.error("\ud658\uc790 \ub370\uc774\ud130 \uc870\ud68c \uc2e4\ud328:",e),h([]),g({1:null,2:null}),b([])}}),[P]),L=(0,o.useCallback)((async()=>{try{const e=await cr.get("".concat(P,"completed-patients/"));x(Array.isArray(e.data)?e.data:[])}catch(e){console.error("\uc644\ub8cc \ud658\uc790 \uc870\ud68c \uc2e4\ud328:",e),x([])}}),[P]),A=(0,o.useCallback)((async()=>{if(""!==j.trim()){C(!0),O(null);try{const e=await cr.get("".concat(P,"openmrs/patients/search/?q=").concat(j));_(Array.isArray(e.data.results)?e.data.results:[])}catch(e){console.error("\uc804\uccb4 \ud658\uc790 \uac80\uc0c9 \uc2e4\ud328:",e.response?e.response.data:e.message),O("\uc804\uccb4 \ud658\uc790 \uac80\uc0c9 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ubc31\uc5d4\ub4dc \uc5f0\uacb0 \ubc0f API \uacbd\ub85c\ub97c \ud655\uc778\ud558\uc138\uc694."),_([])}finally{C(!1)}}else _([])}),[P,j]),M=()=>{"all"===D&&A()};(0,o.useEffect)((()=>{if("all"===D){const e=setTimeout((()=>{A()}),300);return()=>{clearTimeout(e)}}_([])}),[j,D,A]),(0,o.useEffect)((()=>{I(),L();const e=setInterval((()=>{I(),L()}),5e3);return()=>clearInterval(e)}),[I,L,u]);const z=async(e,t)=>{if(e)if(m[t])alert("\uc9c4\ub8cc\uc2e4 ".concat(t,"\ubc88\uc5d0 \uc774\ubbf8 \ud658\uc790\uac00 \ubc30\uc815\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."));else try{const n=await cr.post("".concat(P,"assign-room/"),{patientId:e.mapping_id,patientIdentifier:e.patient_identifier,room:t});if(!n.data.success)throw new Error(n.data.error||"\ubc30\uc815 \uc2e4\ud328");g((n=>Ft(Ft({},n),{},{[t]:e}))),h((t=>t.filter((t=>t.mapping_id!==e.mapping_id)))),r(null),dr({patient_id:e.mapping_id||e.patient_identifier||e.uuid,patient_name:e.display||e.name,doctor_id:localStorage.getItem("doctor_id")||"UNKNOWN",doctor_name:localStorage.getItem("doctor_name")||"",request_type:"\uc9c4\ub8cc\uc2e4 \ubc30\uc815",request_detail:"\uc9c4\ub8cc\uc2e4 ".concat(t,"\ubc88\uc73c\ub85c \ubc30\uc815\ub428")}),alert("\u2705 ".concat(e.display||e.name,"\ub2d8\uc774 \uc9c4\ub8cc\uc2e4 ").concat(t,"\ubc88\uc5d0 \ubc30\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),p((e=>e+1)),I()}catch(o){var n,a;console.error("\u274c \uc9c4\ub8cc\uc2e4 \ubc30\uc815 \uc2e4\ud328:",o),alert("\uc9c4\ub8cc\uc2e4 \ubc30\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||o.message))}else alert("\ud658\uc790\ub97c \uba3c\uc800 \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")},B=async e=>{const t=m[e];if(t)try{const n=await cr.post("".concat(P,"complete-visit/"),{room:e});if(!n.data.success)throw new Error(n.data.error||"\uc644\ub8cc \uc2e4\ud328");g((t=>Ft(Ft({},t),{},{[e]:null}))),r(null),dr({patient_id:t.mapping_id||t.id,patient_name:t.display||t.name,doctor_id:localStorage.getItem("doctor_id")||"UNKNOWN",doctor_name:localStorage.getItem("doctor_name")||"",request_type:"\uc9c4\ub8cc \uc644\ub8cc",request_detail:"\uc9c4\ub8cc\uc2e4 ".concat(e,"\ubc88 \uc9c4\ub8cc \uc644\ub8cc")}),alert("\u2705 \uc9c4\ub8cc\uc2e4 ".concat(e,"\ubc88 \uc9c4\ub8cc\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),p((e=>e+1)),L(),I()}catch(o){var n,a;console.error("\u274c \uc9c4\ub8cc \uc644\ub8cc \uc2e4\ud328:",o),alert("\uc9c4\ub8cc \uc644\ub8cc \ucc98\ub9ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||o.message))}},F=async(e,t)=>{if(e)try{await cr.post("".concat(P,"unassign-room/"),{patient_id:e.mapping_id,room:t}),g((e=>Ft(Ft({},e),{},{[t]:null}))),r(null),alert("\u2705 \uc9c4\ub8cc\uc2e4 ".concat(t,"\ubc88 \ubc30\uc815\uc774 \ud574\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")),p((e=>e+1)),I()}catch(o){var n,a;console.error("\ubc30\uc815 \ud574\uc81c \uc2e4\ud328:",o),alert("\ubc30\uc815 \ud574\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+((null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.error)||o.message))}},U=async()=>{if(n)try{const e=await cr.get("".concat(P,"openmrs/patients/").concat(n.uuid,"/"));i(e.data),s(!0)}catch(e){console.error("\ud658\uc790 \uc0c1\uc138 \uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328:",e),alert("\ud658\uc790 \uc0c1\uc138 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),i(null)}};return(0,ur.jsxs)("div",{className:"emr-page",children:[(0,ur.jsx)("header",{className:"emr-header",children:(0,ur.jsx)("div",{className:"logo",onClick:()=>t("\uc758\uc0ac \ub300\uc2dc\ubcf4\ub4dc"),children:"\ud83c\udfe5 EMR \uc2dc\uc2a4\ud15c"})}),(0,ur.jsxs)("div",{className:"emr-content",children:[(0,ur.jsx)("aside",{className:"sidebar-col",children:(0,ur.jsx)(Ps,{activeTab:e,setActiveTab:t,onBellClick:()=>d(!0)})}),(0,ur.jsxs)("main",{className:"content-col",children:["\ud648"===e&&(0,ur.jsxs)("div",{className:"page-container-full doctor-dashboard-container",children:[(0,ur.jsxs)("div",{className:"dashboard-card card--schedule",children:[(0,ur.jsx)("h3",{className:"section-title",style:{textAlign:"center"},children:"\ud83d\udcc5 \uc77c\uc815 \uad00\ub9ac"})," ",(0,ur.jsx)("div",{style:{padding:"10px",display:"flex",justifyContent:"center"},children:(0,ur.jsx)(nl,{onChange:T,value:R,locale:"ko-KR"})}),(0,ur.jsx)("div",{style:{marginTop:"10px",textAlign:"center"},children:R&&(0,ur.jsxs)("p",{children:["\uc120\ud0dd\ub41c \ub0a0\uc9dc: ",R.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})]})})]}),(0,ur.jsx)("div",{className:"dashboard-card card--stats",children:(0,ur.jsx)(hc,{waitingList:f,completedPatients:[...y].sort(((e,t)=>{const n=e.last_sync?new Date(e.last_sync):new Date(0);return(t.last_sync?new Date(t.last_sync):new Date(0)).getTime()-n.getTime()})).slice(0,3).map((e=>({name:e.name,time:e.last_sync?new Date(e.last_sync).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-"})))})}),(0,ur.jsx)("div",{className:"dashboard-card card--waittime",children:(0,ur.jsx)(mc,{waitingList:f})}),(0,ur.jsx)("div",{className:"dashboard-card card--summary",children:(0,ur.jsx)(gc,{})}),(0,ur.jsx)("div",{className:"dashboard-card card--urgent",children:(0,ur.jsx)(yc,{marquee:!0,withTabs:!1,showActionButtons:!1})})]}),"\uc811\uc218"===e&&(0,ur.jsx)("div",{className:"page-container-full",children:(0,ur.jsx)(cc,{onReceptionSuccess:()=>{t("\uc9c4\ub8cc"),p((e=>e+1))}})}),"\uc124\uc815"===e&&(0,ur.jsx)("div",{className:"page-container-full",children:(0,ur.jsx)(Js,{})}),"\ub300\uae30 \ubaa9\ub85d"===e&&(0,ur.jsx)("div",{className:"page-container-full",children:(0,ur.jsx)(Fs,{waitingList:f,assignedPatients:m,onAssignSuccess:z,onMarkAsComplete:B,onUnassignFromRoom:F,onDeleteSuccess:()=>p((e=>e+1))})}),"\ub300\uae30 \ud654\uba74"===e&&(0,ur.jsx)("div",{className:"page-container-full",children:(0,ur.jsx)(oc,{waitingList:f,assignedPatients:m})}),"\uc9c4\ub8cc \uc9c4\ud589\ub3c4"===e&&(0,ur.jsx)("div",{className:"page-container-full",children:(0,ur.jsx)(uc,{onComplete:()=>t("\uc644\ub8cc \ud658\uc790 \ubaa9\ub85d")})}),"\uc644\ub8cc \ud658\uc790 \ubaa9\ub85d"===e&&(0,ur.jsx)("div",{className:"page-container-full",children:(0,ur.jsx)(fc,{completedPatients:y})}),"\uc758\uc0ac \ub300\uc2dc\ubcf4\ub4dc"===e&&(0,ur.jsxs)("div",{className:"clinical-container-new",children:[(0,ur.jsxs)("section",{className:"tab-col tab1-new",children:[(0,ur.jsxs)("h3",{className:"section-title",children:["\ud83e\uddd1\u200d\u2695\ufe0f \ud658\uc790 \uac80\uc0c9",(0,ur.jsxs)("div",{style:{display:"inline-flex",marginLeft:"10px",fontSize:"14px",alignItems:"center"},children:[(0,ur.jsxs)("label",{style:{marginRight:"10px",cursor:"pointer"},children:[(0,ur.jsx)("input",{type:"radio",name:"searchMode",value:"assigned",checked:"assigned"===D,onChange:()=>{E("assigned"),_([]),w("")},style:{marginRight:"4px"}}),"\uc9c4\ub8cc\uc2e4 \ubc30\uc815 \ud658\uc790"]}),(0,ur.jsxs)("label",{style:{cursor:"pointer"},children:[(0,ur.jsx)("input",{type:"radio",name:"searchMode",value:"all",checked:"all"===D,onChange:()=>{E("all"),_([]),w("")},style:{marginRight:"4px"}}),"\uc804\uccb4 \ud658\uc790"]})]})]}),(0,ur.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[(0,ur.jsx)("input",{type:"text",placeholder:"\uc774\ub984 \ub610\ub294 ID\ub85c \uac80\uc0c9...",value:j,onChange:e=>w(e.target.value),onKeyPress:e=>{"Enter"===e.key&&M()},style:{flexGrow:1,padding:"8px",border:"1px solid #ddd",borderRadius:"4px"}}),(0,ur.jsx)("button",{onClick:M,style:{padding:"8px 12px",background:"#1976d2",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\uac80\uc0c9"})]}),"assigned"===D?(0,ur.jsx)(ic,{onPatientSelect:r,selectedPatient:n,refreshTrigger:u,searchTerm:j}):(0,ur.jsxs)("div",{style:{flex:1,overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px,1fr))",gap:8,border:"1px solid #eee",borderRadius:"8px",padding:"8px",minHeight:"200px"},children:[k&&(0,ur.jsx)("div",{style:{gridColumn:"1/-1",textAlign:"center",padding:"20px"},children:"\uc804\uccb4 \ud658\uc790 \uac80\uc0c9 \uc911..."}),N&&(0,ur.jsxs)("div",{style:{gridColumn:"1/-1",textAlign:"center",color:"red",padding:"20px"},children:["\u26a0\ufe0f ",N]}),k||N||0!==S.length||""===j.trim()?!k&&S.map((e=>{const t=e.uuid,a=(null===n||void 0===n?void 0:n.uuid)===t;return(0,ur.jsxs)("div",{onClick:()=>r(Ft({uuid:t,mapping_id:null,display:e.name,assigned_room:null,person:{age:e.age,gender:e.gender,birthdate:e.birthdate},identifiers:[{identifier:e.patient_identifier,identifierType:"OpenMRS ID",preferred:!0}]},e)),style:{border:a?"2px solid #1976d2":"1px solid #ccc",borderRadius:4,padding:8,cursor:"pointer",background:a?"#e3f2fd":"#fff",position:"relative"},children:[(0,ur.jsxs)("div",{style:{fontWeight:600,marginBottom:4},children:["\ud83d\udc64 ",e.name]}),(0,ur.jsxs)("div",{style:{fontSize:12,color:"#555"},children:["\ud83c\udd94 ",e.patient_identifier]}),(0,ur.jsxs)("div",{style:{fontSize:12,color:"#555"},children:["\ud83d\udc65 ","M"===e.gender?"\ub0a8\uc131":"\uc5ec\uc131"," | \ud83c\udf82 ",e.age,"\uc138"]}),(0,ur.jsx)("button",{onClick:async t=>{t.stopPropagation();try{const t=await cr.post("".concat(P,"create-identifier-based-mapping/"),{openmrs_patient_uuid:e.uuid,patient_identifier:e.patient_identifier});if(t.data.success){const n=t.data.mapping_id;z({mapping_id:n,uuid:e.uuid,display:e.name,name:e.name,patient_identifier:e.patient_identifier,age:e.age,gender:e.gender},1)}else alert("\ud658\uc790 \ub9e4\ud551 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+(t.data.error||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958"))}catch(o){var n,r,a;console.error("\ud658\uc790 \ub9e4\ud551 \uc0dd\uc131 \ubc0f \ubc30\uc815 \uc2e4\ud328:",(null===(n=o.response)||void 0===n?void 0:n.data)||o.message),alert("\ud658\uc790 \ub9e4\ud551 \uc0dd\uc131 \ubc0f \ubc30\uc815\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+((null===(r=o.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.error)||o.message))}},style:{marginTop:8,padding:"4px 6px",background:"#4CAF50",color:"#fff",border:"none",borderRadius:4,fontSize:12,cursor:"pointer"},children:"\uc9c4\ub8cc\uc2e4 1\ubc88 \ubc30\uc815"})]},t)})):(0,ur.jsx)("div",{style:{gridColumn:"1/-1",textAlign:"center",color:"#666",padding:"20px"},children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),!k&&!N&&0===S.length&&""===j.trim()&&(0,ur.jsx)("div",{style:{gridColumn:"1/-1",textAlign:"center",color:"#666",padding:"20px"},children:"\uc774\ub984 \ub610\ub294 ID\ub97c \uc785\ub825\ud558\uc5ec \uc804\uccb4 \ud658\uc790\ub97c \uac80\uc0c9\ud569\ub2c8\ub2e4."})]})]}),(0,ur.jsxs)("section",{className:"tab-col tab2",children:[(0,ur.jsx)("h3",{className:"section-title",children:"\ud83d\udcc4 \ud658\uc790 \uc815\ubcf4"}),n?(0,ur.jsx)(Zs,{patient:n,onOpenDetailModal:U}):(0,ur.jsx)("p",{className:"empty-text",children:"\ubc30\uc815\ub41c \ud658\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),(0,ur.jsx)("hr",{style:{margin:"1rem 0",borderColor:"#eee"}}),(0,ur.jsx)("h3",{className:"section-title",children:"\ud83d\udcc1 \ub0b4\uc6d0 \uc774\ub825"}),n?(0,ur.jsx)(ec,{patient:n}):(0,ur.jsx)("p",{className:"empty-text",children:"\ubc30\uc815\ub41c \ud658\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."})]}),(0,ur.jsxs)("section",{className:"tab-col tab3-combined",children:[(0,ur.jsx)("h3",{className:"section-title",children:"\ud83d\udd2c LIS \uac80\uc0ac \uc694\uccad"}),n?(0,ur.jsx)(nc,{patient:n,doctorId:"DR001"}):(0,ur.jsx)("p",{className:"empty-text",children:"\ubc30\uc815\ub41c \ud658\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."}),(0,ur.jsx)("hr",{style:{margin:"1rem 0",borderColor:"#eee"}}),(0,ur.jsx)("h3",{className:"section-title",children:"\ud83c\udfe5 \uc601\uc0c1\uac80\uc0ac \uc694\uccad"}),n?(0,ur.jsx)(ac,{selectedPatient:n}):(0,ur.jsx)("p",{className:"empty-text",children:"\ubc30\uc815\ub41c \ud658\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694."})]}),(0,ur.jsx)("section",{className:"tab-col tab4-ai",children:(0,ur.jsx)(xc,{patient:n,panelType:"diagnosis"})}),(0,ur.jsx)("section",{className:"tab-col tab5-empty",children:(0,ur.jsx)(xc,{patient:n,panelType:"prescription"})})]})]})]}),c&&(0,ur.jsx)(Xs,{onClose:()=>d(!1)}),l&&n&&(0,ur.jsx)(zs,{patient:n,doctorId:localStorage.getItem("doctor_id"),onClose:()=>{s(!1),i(null)},onPatientDeleted:()=>{p((e=>e+1)),r(null)}})]})},bc=(0,o.createContext)(),jc=e=>{let{children:t}=e;const[n,r]=(0,o.useState)([]);return(0,ur.jsx)(bc.Provider,{value:{receptionList:n,setReceptionList:r},children:t})};const wc=function(){return console.log("\u2705 API URL:","https://meddocai.p-e.kr/api/"),(0,ur.jsx)(Hs,{children:(0,ur.jsx)(jc,{children:(0,ur.jsx)(Oe,{children:(0,ur.jsxs)(we,{children:[(0,ur.jsx)(be,{path:"/",element:(0,ur.jsx)(Ts,{})}),(0,ur.jsx)(be,{path:"/login",element:(0,ur.jsx)(ia,{})}),(0,ur.jsx)(be,{path:"/emr",element:(0,ur.jsx)(vc,{})}),(0,ur.jsx)(be,{path:"/emr/Settings",element:(0,ur.jsx)(Js,{})}),(0,ur.jsx)(be,{path:"/emr/reception",element:(0,ur.jsx)(cc,{})}),(0,ur.jsx)(be,{path:"/emr/waiting",element:(0,ur.jsx)(Fs,{})}),(0,ur.jsx)(be,{path:"/emr/patient-status",element:(0,ur.jsx)(uc,{})}),(0,ur.jsx)(be,{path:"/emr/completed-patients",element:(0,ur.jsx)(fc,{})}),(0,ur.jsxs)(be,{path:"/lis",element:(0,ur.jsx)(Rr,{}),children:[(0,ur.jsx)(be,{path:"orders",element:(0,ur.jsx)(Ir,{})}),(0,ur.jsx)(be,{path:"samples",element:(0,ur.jsx)(Br,{})}),(0,ur.jsx)(be,{path:"order/new",element:(0,ur.jsx)(Tr,{})}),(0,ur.jsx)(be,{path:"sample/new",element:(0,ur.jsx)(pr,{})}),(0,ur.jsx)(be,{path:"sample/new/:orderId",element:(0,ur.jsx)(pr,{})}),(0,ur.jsx)(be,{path:"result/new",element:(0,ur.jsx)(Mr,{})}),(0,ur.jsx)(be,{path:"result/new/:sampleId",element:(0,ur.jsx)(Mr,{})}),(0,ur.jsx)(be,{path:"result-list",element:(0,ur.jsx)(Fr,{})})]}),(0,ur.jsx)(be,{path:"/tests",element:(0,ur.jsx)(na,{})}),(0,ur.jsx)(be,{path:"/logs",element:(0,ur.jsx)(ra,{})}),(0,ur.jsx)(be,{path:"/RISPage",element:(0,ur.jsx)(Rs,{})})," ",(0,ur.jsx)(be,{path:"/patients",element:(0,ur.jsx)(rl,{})}),(0,ur.jsx)(be,{path:"*",element:(0,ur.jsx)(xe,{to:"/"})})]})})})})},Sc=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:o,getTTFB:i}=t;n(e),r(e),a(e),o(e),i(e)}))};l.createRoot(document.getElementById("root")).render((0,ur.jsx)(o.StrictMode,{children:(0,ur.jsx)(wc,{})})),Sc()})();
//# sourceMappingURL=main.a01d5d12.js.map